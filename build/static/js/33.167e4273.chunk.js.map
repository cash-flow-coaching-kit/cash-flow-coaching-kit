{"version":3,"sources":["../node_modules/@material-ui/core/esm/ListItemSecondaryAction/ListItemSecondaryAction.js","components/CFC/CanvasList.tsx","pages/CashFlowCanvas/listing.tsx","components/SectionTitle/_config/styles.ts","components/SectionTitle/SectionTitle.tsx","components/IconDeleteButton/IconDeleteButtonwDialog.tsx","components/CFC/NoCanvases.tsx","components/Forms/CFC/__config/styles.ts"],"names":["ListItemSecondaryAction","React","props","ref","classes","className","other","_objectWithoutProperties","_extends","clsx","root","muiName","withStyles","position","right","top","transform","name","CanvasList","data","remove","styles","useStyles","onDelete","id","e","preventDefault","List","map","item","ListItem","key","button","component","Link","to","routeVarReplacement","PrivateRoutes","CFCEdit","toString","ListItemText","primary","canvasDisplayTitle","secondary","canvasStartDate","format","IconDeleteButtonwDialog","onClick","CardActions","box","Button","variant","color","startIcon","CFC","CFCListing","useMachine","fetchMachine","stateMachine","changeState","useCurrentClient","currentClient","useState","canvasData","setCanvasData","fetchData","useCallback","a","CFCUseCase","findByClient","length","removeCanvas","newData","filter","filterById","delete","useEffect","role","SectionTitle","Typography","Grid","container","spacing","xs","md","Card","value","CardContent","NoCanvases","Loading","renderBasedOnState","useSTStyles","makeStyles","theme","title","fontWeight","marginBottom","breakpoints","down","fontSize","typography","h5","children","dialogOpen","setDialogOpen","onDialogClose","open","onClose","onCancel","onConfirm","ClientList","display","justifyContent","alignItems","flexDirection","saveButton","up","marginLeft"],"mappings":"gHAAA,+CAmBIA,EAA0BC,cAAiB,SAAiCC,EAAOC,GACrF,IAAIC,EAAUF,EAAME,QAChBC,EAAYH,EAAMG,UAClBC,EAAQC,YAAyBL,EAAO,CAAC,UAAW,cAExD,OAAoBD,gBAAoB,MAAOO,YAAS,CACtDH,UAAWI,kBAAKL,EAAQM,KAAML,GAC9BF,IAAKA,GACJG,OAwBLN,EAAwBW,QAAU,0BACnBC,gBA9CK,CAElBF,KAAM,CACJG,SAAU,WACVC,MAAO,GACPC,IAAK,MACLC,UAAW,qBAwCmB,CAChCC,KAAM,8BADOL,CAEZZ,I,kTCnBY,SAASkB,EAAT,GAGoB,IAFlCC,EAEiC,EAFjCA,KACAC,EACiC,EADjCA,OAEMC,EAASC,cAkBf,SAASC,EAASC,GACjB,OAAO,SAACC,GACPA,EAAEC,iBACFN,EAAOI,IA8BT,OACC,oCACC,kBAACG,EAAA,EAAD,KAAOR,EAAKS,KAtBd,SAAsBC,GACrB,OAAI,OAACA,QAAD,IAACA,OAAD,EAACA,EAAML,IAGV,kBAACM,EAAA,EAAD,CAAUC,IAAKF,EAAKL,GAAIQ,QAAM,EAACC,UAAWC,IAAMC,IA3BhCX,EA2B6CK,EAAKL,GA1B5DY,YAAoBC,IAAcC,QAAS,CAAC,CAAC,MAAOd,EAAGe,gBA2B5D,kBAACC,EAAA,EAAD,CACCC,QAASC,YAAmBb,GAC5Bc,YACCd,EAAKe,iBACFC,YAAOhB,EAAKe,gBAAiB,gBAIlC,kBAAC5C,EAAA,EAAD,KACC,kBAAC8C,EAAA,EAAD,CAAyBC,QAASxB,EAASM,EAAKL,QAb7B,qCAxBvB,IAAkBA,MA8ChB,kBAACwB,EAAA,EAAD,CAAa3C,UAAWgB,EAAO4B,KAC9B,kBAACC,EAAA,EAAD,CACCC,QAAQ,YACRC,MAAM,UACNC,UAAW,kBAAC,IAAD,MACXpB,UAAWC,IACXC,GAAIE,IAAciB,KALnB,uB,8BCVWC,UAtEI,WAAqB,IAAD,EACFC,qBAAWC,KADT,mBAC/BC,EAD+B,KACjBC,EADiB,OAEdC,cAAjBC,EAF+B,sBAGFC,mBAAsB,IAHpB,mBAG/BC,EAH+B,KAGnBC,EAHmB,KAIhCC,EAAYC,sBAAW,sBAAC,4BAAAC,EAAA,kEACzBN,QADyB,IACzBA,OADyB,EACzBA,EAAerC,IADU,0CAGR4C,IAAWC,aAAaR,EAAcrC,IAH9B,UAIP,KADdL,EAHqB,QAIlBmD,OAJkB,uBAK1BX,EAAY,UALc,0BAS3BK,EAAc7C,GACdwC,EAAY,WAVe,kDAY3BA,EAAY,UAZe,0DAe3B,CAACE,EAAeF,IAnBmB,SAyBvBY,EAzBuB,8EAyBtC,WAA4B/C,GAA5B,eAAA2C,EAAA,6DACOK,EAAUT,EAAWU,OAAOC,YAAWlD,GAAI,IACjDwC,EAAcQ,GACS,IAAnBA,EAAQF,QACXX,EAAY,UAJd,SAMOS,IAAWO,OAAOnD,GANzB,4CAzBsC,sBAkDtC,OA7BAoD,qBAAU,WACTX,MACE,CAACA,IA4BH,oCACC,kBAAC,IAAD,CAAeY,KAAK,QACnB,kBAACC,EAAA,EAAD,CAAc7C,UAAU,MAAxB,6BAC4B,IAC3B,kBAAC8C,EAAA,EAAD,CAAY5B,QAAQ,YAAYlB,UAAU,IAAImB,MAAM,iBAApD,6DAKD,kBAAC4B,EAAA,EAAD,CAAMC,WAAS,EAACC,QAAS,GACxB,kBAACF,EAAA,EAAD,CAAMnD,MAAI,EAACsD,GAAI,GAAIC,GAAI,GACtB,kBAACC,EAAA,EAAD,KA5BL,WACC,OAAQ3B,EAAa4B,OACpB,IAAK,UACJ,OACC,kBAACC,EAAA,EAAD,KACC,kBAACC,EAAA,EAAD,OAGH,IAAK,UACJ,OAAO,kBAACtE,EAAD,CAAYC,KAAM4C,EAAY3C,OAAQmD,IAC9C,IAAK,UACL,QACC,OAAO,kBAACkB,EAAA,EAAD,OAgBEC,U,yHC/DEC,EAVKC,aAAW,SAACC,GAAD,MAAY,CAC1CC,MAAM,aACLC,WAAY,IACZC,aAAcH,EAAMX,QAAQ,IAC3BW,EAAMI,YAAYC,KAAK,MAAQ,CAC/BC,SAAUN,EAAMO,WAAWC,GAAGF,eCsBlBrB,EAnBM,SAAC,GAIkB,IAHvCwB,EAGsC,EAHtCA,SACAjG,EAEsC,EAFtCA,UACGH,EACmC,wCAChCmB,EAASsE,IACf,OACC,kBAACZ,EAAA,EAAD,eACC5B,QAAQ,KACRC,MAAM,cACN/C,UAAS,UAAKgB,EAAOyE,MAAZ,YAAqBzF,IAE1BH,GAEHoG,K,iHCXW,SAASxD,EAAT,GAEgB,IAD9BC,EAC6B,EAD7BA,QAC6B,EACOe,oBAAkB,GADzB,mBACtByC,EADsB,KACVC,EADU,KAO7B,SAASC,IACRD,GAAc,GAuBf,OACC,oCACC,kBAAC,IAAD,CAAkBzD,QAPpB,SAAuBtB,GACtBA,EAAEC,iBACF8E,GAAc,MAMb,kBAAC,IAAD,CACCE,KAAMH,EACNI,QAASF,EACTG,SAAUH,EACVI,UAtBH,SAAyBpF,GACxBsB,EAAQtB,GACRgF,MAgBC,iD,iCClDH,8EAWe,SAASjB,IACvB,OACC,oCACC,kBAAC,IAAD,CAAYrC,QAAQ,MAApB,wBACA,kBAAC,IAAD,uCACiC,IAChC,kBAAC,IAAD,CAAMhB,GAAIE,IAAcyE,YAAxB,mBAFD,MAE+D,IAC9D,kBAAC,IAAD,CAAM3E,GAAIC,YAAoBC,IAAciB,IAAK,CAAC,CAAC,OAAQ,OAA3D,sBAHD,Q,sDCbGhC,EAAYsE,aAAW,SAACC,GAAD,MAAY,CACxC5C,IAAI,aACH8D,QAAS,OACTC,eAAgB,WAChBC,WAAY,UACXpB,EAAMI,YAAYC,KAAK,MAAQ,CAC/BgB,cAAe,SACfD,WAAY,eAGdE,WAAW,eACTtB,EAAMI,YAAYmB,GAAG,MAAQ,CAC7BC,WAAYxB,EAAMX,QAAQ,SAKd5D","file":"static/js/33.167e4273.chunk.js","sourcesContent":["import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport withStyles from '../styles/withStyles';\nexport var styles = {\n  /* Styles applied to the root element. */\n  root: {\n    position: 'absolute',\n    right: 16,\n    top: '50%',\n    transform: 'translateY(-50%)'\n  }\n};\n/**\n * Must be used as the last child of ListItem to function properly.\n */\n\nvar ListItemSecondaryAction = React.forwardRef(function ListItemSecondaryAction(props, ref) {\n  var classes = props.classes,\n      className = props.className,\n      other = _objectWithoutProperties(props, [\"classes\", \"className\"]);\n\n  return /*#__PURE__*/React.createElement(\"div\", _extends({\n    className: clsx(classes.root, className),\n    ref: ref\n  }, other));\n});\nprocess.env.NODE_ENV !== \"production\" ? ListItemSecondaryAction.propTypes = {\n  // ----------------------------- Warning --------------------------------\n  // | These PropTypes are generated from the TypeScript type definitions |\n  // |     To update them edit the d.ts file and run \"yarn proptypes\"     |\n  // ----------------------------------------------------------------------\n\n  /**\n   * The content of the component, normally an `IconButton` or selection control.\n   */\n  children: PropTypes.node,\n\n  /**\n   * Override or extend the styles applied to the component.\n   * See [CSS API](#css) below for more details.\n   */\n  classes: PropTypes.object,\n\n  /**\n   * @ignore\n   */\n  className: PropTypes.string\n} : void 0;\nListItemSecondaryAction.muiName = 'ListItemSecondaryAction';\nexport default withStyles(styles, {\n  name: 'MuiListItemSecondaryAction'\n})(ListItemSecondaryAction);","import React, { ReactElement, MouseEvent } from \"react\"\nimport {\n\tList,\n\tListItem,\n\tListItemText,\n\tListItemSecondaryAction,\n\tCardActions,\n\tButton,\n} from \"@material-ui/core\"\nimport { format } from \"date-fns\"\nimport { Link } from \"react-router-dom\"\nimport AddIcon from \"@material-ui/icons/Add\"\nimport { CFCStruct, CFCId } from \"../../data/_config/shape\"\nimport { canvasDisplayTitle } from \"./__config/utilities\"\nimport { routeVarReplacement, PrivateRoutes } from \"../../util/routes/routes\"\nimport IconDeleteButtonwDialog from \"../IconDeleteButton/IconDeleteButtonwDialog\"\nimport useStyles from \"../Forms/CFC/__config/styles\"\n\ninterface CanvasListProps {\n\tdata: CFCStruct[]\n\tremove: (id: CFCId) => Promise<void>\n}\n\ntype ButtonClick = (e: MouseEvent<HTMLButtonElement>) => void\n\n/**\n * Displays a list of canvases with a way to add a new one\n *\n * @export\n * @param {CanvasListProps} {\n * \tdata,\n * \tremove,\n * }\n * @returns {ReactElement}\n */\nexport default function CanvasList({\n\tdata,\n\tremove,\n}: CanvasListProps): ReactElement {\n\tconst styles = useStyles()\n\n\t/**\n\t * Creates the link to the edit canvas page\n\t *\n\t * @param {CFCId} id\n\t * @returns {string}\n\t */\n\tfunction itemLink(id: CFCId): string {\n\t\treturn routeVarReplacement(PrivateRoutes.CFCEdit, [[\":id\", id.toString()]])\n\t}\n\n\t/**\n\t * Triggers the parent remove method\n\t *\n\t * @param {CFCId} id\n\t * @returns {ButtonClick}\n\t */\n\tfunction onDelete(id: CFCId): ButtonClick {\n\t\treturn (e): void => {\n\t\t\te.preventDefault()\n\t\t\tremove(id)\n\t\t}\n\t}\n\n\t/**\n\t * Renders the canvas list item\n\t *\n\t * @param {CFCStruct} item\n\t * @returns {ReactElement}\n\t */\n\tfunction renderCanvas(item: CFCStruct): ReactElement {\n\t\tif (!item?.id) return <></>\n\n\t\treturn (\n\t\t\t<ListItem key={item.id} button component={Link} to={itemLink(item.id)}>\n\t\t\t\t<ListItemText\n\t\t\t\t\tprimary={canvasDisplayTitle(item)}\n\t\t\t\t\tsecondary={\n\t\t\t\t\t\titem.canvasStartDate\n\t\t\t\t\t\t\t? format(item.canvasStartDate, \"dd/MM/yyyy\")\n\t\t\t\t\t\t\t: false\n\t\t\t\t\t}\n\t\t\t\t/>\n\t\t\t\t<ListItemSecondaryAction>\n\t\t\t\t\t<IconDeleteButtonwDialog onClick={onDelete(item.id)} />\n\t\t\t\t</ListItemSecondaryAction>\n\t\t\t</ListItem>\n\t\t)\n\t}\n\n\treturn (\n\t\t<>\n\t\t\t<List>{data.map(renderCanvas)}</List>\n\t\t\t<CardActions className={styles.box}>\n\t\t\t\t<Button\n\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\tstartIcon={<AddIcon />}\n\t\t\t\t\tcomponent={Link}\n\t\t\t\t\tto={PrivateRoutes.CFC}\n\t\t\t\t>\n\t\t\t\t\tCreate new Canvas\n\t\t\t\t</Button>\n\t\t\t</CardActions>\n\t\t</>\n\t)\n}\n","import React, { ReactElement, useCallback, useState, useEffect } from \"react\"\nimport { Typography, Grid, Card, CardContent } from \"@material-ui/core\"\nimport { useMachine } from \"@xstate/react\"\nimport { PageContainer } from \"../../components/Layouts\"\nimport SectionTitle from \"../../components/SectionTitle\"\nimport fetchMachine from \"../../components/Forms/CFC/__config/machine\"\nimport useCurrentClient from \"../../state/client/useCurrentClient\"\nimport CFCUseCase from \"../../data/CFC/CFCLogic\"\nimport { CFCStruct, CFCId } from \"../../data/_config/shape\"\nimport CanvasList from \"../../components/CFC/CanvasList\"\nimport Loading from \"../../components/Loading\"\nimport NoCanvases from \"../../components/CFC/NoCanvases\"\nimport filterById from \"../../util/filters/ById\"\n\nconst CFCListing = (): ReactElement => {\n\tconst [stateMachine, changeState] = useMachine(fetchMachine)\n\tconst [currentClient] = useCurrentClient()\n\tconst [canvasData, setCanvasData] = useState<CFCStruct[]>([])\n\tconst fetchData = useCallback(async () => {\n\t\tif (currentClient?.id) {\n\t\t\ttry {\n\t\t\t\tconst data = await CFCUseCase.findByClient(currentClient.id)\n\t\t\t\tif (data.length === 0) {\n\t\t\t\t\tchangeState(\"REJECT\")\n\t\t\t\t\treturn\n\t\t\t\t}\n\n\t\t\t\tsetCanvasData(data)\n\t\t\t\tchangeState(\"RESOLVE\")\n\t\t\t} catch {\n\t\t\t\tchangeState(\"REJECT\")\n\t\t\t}\n\t\t}\n\t}, [currentClient, changeState])\n\n\tuseEffect(() => {\n\t\tfetchData()\n\t}, [fetchData])\n\n\tasync function removeCanvas(id: CFCId): Promise<void> {\n\t\tconst newData = canvasData.filter(filterById(id, true))\n\t\tsetCanvasData(newData)\n\t\tif (newData.length === 0) {\n\t\t\tchangeState(\"REJECT\")\n\t\t}\n\t\tawait CFCUseCase.delete(id)\n\t}\n\n\tfunction renderBasedOnState(): ReactElement {\n\t\tswitch (stateMachine.value) {\n\t\t\tcase \"failure\":\n\t\t\t\treturn (\n\t\t\t\t\t<CardContent>\n\t\t\t\t\t\t<NoCanvases />\n\t\t\t\t\t</CardContent>\n\t\t\t\t)\n\t\t\tcase \"success\":\n\t\t\t\treturn <CanvasList data={canvasData} remove={removeCanvas} />\n\t\t\tcase \"loading\":\n\t\t\tdefault:\n\t\t\t\treturn <Loading />\n\t\t}\n\t}\n\n\treturn (\n\t\t<>\n\t\t\t<PageContainer role=\"main\">\n\t\t\t\t<SectionTitle component=\"h1\">\n\t\t\t\t\tPreviously saved Canvasses{\" \"}\n\t\t\t\t\t<Typography variant=\"subtitle1\" component=\"p\" color=\"textSecondary\">\n\t\t\t\t\t\tLoad a previous Canvas by selecting from the list below.\n\t\t\t\t\t</Typography>\n\t\t\t\t</SectionTitle>\n\n\t\t\t\t<Grid container spacing={2}>\n\t\t\t\t\t<Grid item xs={12} md={6}>\n\t\t\t\t\t\t<Card>{renderBasedOnState()}</Card>\n\t\t\t\t\t</Grid>\n\t\t\t\t</Grid>\n\t\t\t</PageContainer>\n\t\t</>\n\t)\n}\n\nexport default CFCListing\n","import { makeStyles } from \"@material-ui/core\"\n\n// Section title styles\nconst useSTStyles = makeStyles((theme) => ({\n\ttitle: {\n\t\tfontWeight: 500,\n\t\tmarginBottom: theme.spacing(2),\n\t\t[theme.breakpoints.down(\"sm\")]: {\n\t\t\tfontSize: theme.typography.h5.fontSize,\n\t\t},\n\t},\n}))\n\nexport default useSTStyles\n","import React, { ReactElement } from \"react\"\nimport { Typography } from \"@material-ui/core\"\nimport { SectionTitleProps } from \"./_config/shape\"\nimport useSTStyles from \"./_config/styles\"\n\n/**\n * Abstraction for the Typography for a consistent heading for sections\n *\n * @param {SectionTitleProps} props Mimics the props for `<Typography>`\n * @returns ReactElement\n */\nconst SectionTitle = ({\n\tchildren,\n\tclassName,\n\t...props\n}: SectionTitleProps): ReactElement => {\n\tconst styles = useSTStyles()\n\treturn (\n\t\t<Typography\n\t\t\tvariant=\"h4\"\n\t\t\tcolor=\"textPrimary\"\n\t\t\tclassName={`${styles.title} ${className}`}\n\t\t\t// eslint-disable-next-line react/jsx-props-no-spreading\n\t\t\t{...props}\n\t\t>\n\t\t\t{children}\n\t\t</Typography>\n\t)\n}\n\nexport default SectionTitle\n","import React, { ReactElement, MouseEvent, useState } from \"react\"\nimport { ButtonProps } from \"./IconDeleteButton\"\nimport IconDeleteButton from \".\"\nimport ConfirmDialogue from \"../ConfirmDialogue\"\n\n/**\n * Icon delete button with a confirm dialog component\n *\n * @export\n * @param {ButtonProps} {\n * \tonClick,\n * }\n * @returns {ReactElement}\n */\nexport default function IconDeleteButtonwDialog({\n\tonClick,\n}: ButtonProps): ReactElement {\n\tconst [dialogOpen, setDialogOpen] = useState<boolean>(false)\n\n\t/**\n\t * Closes the dialog\n\t *\n\t */\n\tfunction onDialogClose(): void {\n\t\tsetDialogOpen(false)\n\t}\n\n\t/**\n\t * Performs onClick prop function\n\t *\n\t * @param {MouseEvent<HTMLButtonElement>} e\n\t */\n\tfunction onDialogConfirm(e: MouseEvent<HTMLButtonElement>): void {\n\t\tonClick(e)\n\t\tonDialogClose()\n\t}\n\n\t/**\n\t * Opens the dialog\n\t *\n\t * @param {MouseEvent<HTMLButtonElement>} e\n\t */\n\tfunction triggerDialog(e: MouseEvent<HTMLButtonElement>): void {\n\t\te.preventDefault()\n\t\tsetDialogOpen(true)\n\t}\n\n\treturn (\n\t\t<>\n\t\t\t<IconDeleteButton onClick={triggerDialog} />\n\t\t\t<ConfirmDialogue\n\t\t\t\topen={dialogOpen}\n\t\t\t\tonClose={onDialogClose}\n\t\t\t\tonCancel={onDialogClose}\n\t\t\t\tonConfirm={onDialogConfirm}\n\t\t\t>\n\t\t\t\tAre you sure you want to remove this item?\n\t\t\t</ConfirmDialogue>\n\t\t</>\n\t)\n}\n","import React, { ReactElement } from \"react\"\nimport { Typography } from \"@material-ui/core\"\nimport { Link } from \"react-router-dom\"\nimport { PrivateRoutes, routeVarReplacement } from \"../../util/routes/routes\"\n\n/**\n * No canvas data message\n *\n * @export\n * @returns {ReactElement}\n */\nexport default function NoCanvases(): ReactElement {\n\treturn (\n\t\t<>\n\t\t\t<Typography variant=\"h6\">No canvas data found</Typography>\n\t\t\t<Typography>\n\t\t\t\tCheck that you have the correct{\" \"}\n\t\t\t\t<Link to={PrivateRoutes.ClientList}>client selected</Link> or{\" \"}\n\t\t\t\t<Link to={routeVarReplacement(PrivateRoutes.CFC, [[\":id?\", \"\"]])}>\n\t\t\t\t\tstart a new canvas\n\t\t\t\t</Link>\n\t\t\t\t.\n\t\t\t</Typography>\n\t\t</>\n\t)\n}\n","import { makeStyles } from \"@material-ui/core\"\n\nconst useStyles = makeStyles((theme) => ({\n\tbox: {\n\t\tdisplay: \"flex\",\n\t\tjustifyContent: \"flex-end\",\n\t\talignItems: \"center\",\n\t\t[theme.breakpoints.down(\"sm\")]: {\n\t\t\tflexDirection: \"column\",\n\t\t\talignItems: \"flex-start\",\n\t\t},\n\t},\n\tsaveButton: {\n\t\t[theme.breakpoints.up(\"md\")]: {\n\t\t\tmarginLeft: theme.spacing(1),\n\t\t},\n\t},\n}))\n\nexport default useStyles\n"],"sourceRoot":""}