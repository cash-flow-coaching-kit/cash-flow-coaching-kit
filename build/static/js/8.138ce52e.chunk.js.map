{"version":3,"sources":["components/CFC/__config/constants.tsx","content/tips/CFCanvasTips.tsx","components/PageTour/PageTour.tsx","components/Forms/CFC/onCreate.ts","components/Forms/CFC/CanvasCreate.tsx","pages/CashFlowCanvas/canvas.tsx","content/tips/style.ts","components/PageTip/_config/style.ts","components/PageTip/PageTip.tsx","components/Forms/CFC/initialValues.ts","components/Forms/CFC/calculateInitial.ts","components/SectionTitle/_config/styles.ts","components/SectionTitle/SectionTitle.tsx","components/PDF/PDFLib.ts","components/CFCCompare/__config/utilities.ts","components/PDF/servePDF.ts","state/CFC/createCashFlow.tsx","components/PDF/CashFlowCanvasPDF.ts","components/CFC/NoCanvases.tsx","components/ImportDataModal/lib/ImportDataGeneralLib.ts","components/CFCCompare/__config/styles.ts","components/CFCCompare/TimeframeOutOfSync.tsx","components/CFCCompare/CompareSelector.tsx","components/CFCCompare/TableHeader.tsx","components/CFCCompare/CanvasItemRow.tsx","components/CFCCompare/CompareTable.tsx","components/CFCCompare/NotEnoughCanvases.tsx","components/CFCCompare/CompareCanvases.tsx","components/CFCCompare/ControlCompareLink.tsx","components/Forms/CFC/__config/styles.ts","components/ImportDataModal/lib/ImportDataExcelLib.ts","components/CFC/CopyCanvasTrigger.tsx","components/ImportDataModal/ImportDataModal.tsx","components/PDF/CFCComparePDF.ts","components/CFC/ControlPanel.tsx","components/HealthCheck/FourQuestions/FourQuestions.tsx","components/HealthCheck/FourQuestions/_config/utilities.tsx","../node_modules/regenerate-unicode-properties sync /^/.//.*/.js$"],"names":["CFC4QsTourContent","className","variant","CFCCreateCanvas","CFCFillingOutCanvas","CFCYourPosition","CFCControlPanel","CFCanvasTips","styles","useSharedTipStyling","list","component","LSKey","PageTour","steps","location","useLocation","params","useParams","useEffect","clearAllBodyScrollLocks","getRouteValue","re","path","pathname","replace","Object","keys","length","match","useState","ls","window","localStorage","getItem","json","JSON","parse","hasProperty","shouldBeOpen","open","setOpen","Button","onClick","id","isOpen","onRequestClose","setItem","stringify","setLSValue","onAfterOpen","target","disableBodyScroll","onBeforeClose","enableBodyScroll","startAt","values","client","a","CFCUseCase","create","clientId","createdAt","newTimestamp","onCreate","CreateCanvasForm","useStyles","useCustomTitle","setUseCustomTitle","history","useHistory","useCurrentClient","currentClient","useContext","CFCContext","duplicateError","invalidDateError","useFormik","initialValues","onSubmit","formValues","query","createURLParams","push","routeVarReplacement","PrivateRoutes","CFCEdit","setFieldValue","handleChange","handleSubmit","canvasTitle","canvasType","canvasTimeFrame","canvasStartDate","canvasEndDate","inputChange","useCallback","data-reactour","type","timeframe","startDate","endDate","customTitle","canvasTypeValue","canvasTimeframeValue","onChange","onDateChange","k","v","changeDate","start","end","changeCheck","e","checked","Spacer","Box","box","color","disabled","selector","content","CFCCanvas","maxWidth","role","Grid","container","spacing","item","xs","md","SectionTitle","Typography","List","space","FourQuestions","ControlPanel","PageTip","tip","makeStyles","theme","listStyle","paddingLeft","usePageTipStyles","root","position","left","bottom","icon","marginRight","drawer","padding","width","closeBox","display","justifyContent","marginBottom","paddingBottom","borderBottom","borderBottomColor","palette","grey","borderBottomStyle","style","drawerOpen","setDrawerOpen","toggleDrawer","event","KeyboardEvent","key","Fab","Drawer","anchor","onClose","classes","paper","startIcon","createElement","Date","openingBalance","paygWithholding","superAmount","incomeTax","cashToOwner","stock","creditors","debtors","assets","loans","cashInItems","createCashFlowItem","cashOutItems","gstOnPurchases","undefined","gstOnSales","calculateInitial","isGSTValid","calcCashFlowGST","closingBalance","calcClosingBalance","totalNetAssets","calcTotalNetAssets","cashSurplus","calcCashSurplus","availableToSpend","calcAvailableToSpend","incomeTaxPercentage","calcIncomeTaxPer","useSTStyles","title","fontWeight","breakpoints","down","fontSize","typography","h5","children","props","addPadding","margin","columns","pageDefaultSettings","pageSize","pageMargins","footer","text","format","alignment","frameContent","inner","table","widths","body","pageHeading","layout","pagePadding","basicTable","items","getCanvasData","findByClient","data","reduceToOptions","acc","cur","concat","value","label","canvasDisplayTitle","changeSelected","allCanvases","selected","idx","newItem","filter","filterById","isAfter","calculateDifferencePer","A","B","flip","toNumber","factor","C","diff","Math","abs","pipe","toTwoDecimal","removeTrailingZeros","concatStr","pdf","browser","detect","name","download","description","amount","gstApplicable","uuidv4","pdfMake","vfs","pdfFonts","formatDollars","addDollarSign","formatNumber","openingBalanceSection","cashInSection","cashInTotal","bold","map","line","gstOnSalesSection","cashOutSection","cashOutTotal","gstOnPurchasesSection","cashSurplusSection","incomeSection","availableToSpendSection","closingCashBalanceSection","yourNetAssetPositionSection","questionValues","dbGSTOnPurchase","dbGSTOnSales","calcCashFlowTotal","calcTotalCashOut","calculated","docDefinition","upperFirst","two","pageHeader","fillColor","green","rightAlign","yellowBlock","spacer","defaultStyle","createPdf","NoCanvases","to","ClientList","CFC","NO_MERGE","generalProcessFile","fileBuffer","excelProcessFile","res","alert","compareLabel","alignItems","compareTooltip","marginLeft","cell1","cellCanvas","cellDifference","tableRow","background","noBorderBottom","minWidth","marginTop","TimeframeOutOfSync","Alert","severity","CompareSelector","selectedCanvases","leftSelected","rightSelected","cls","selectOptions","useMemo","reduce","changeSelectedCanvas","Tooltip","SelectField","options","align","React","memo","right","TableHead","TableRow","TableCell","CanvasItemRow","val1","val2","border","dangerouslySetInnerHTML","__html","numOrZero","CompareTable","leftCalculated","rightCalculated","TableContainer","Table","TableBody","colSpan","NotEnoughCanvases","CompareCanvases","dispatch","useMachine","fetchMachine","stateMachine","changeState","clientSynced","canvases","setCanvases","setSelectedCanvases","leftCalc","rightCalc","CFCActionTypes","ChangeQuestionValues","payload","one","calcQuestionOne","calcQuestionTwo","three","calcQuestionThree","four","calcQuestionFour","ChangeCompare","fetchCanvasData","item1","item2","newSelected","Divider","Loading","renderForStateMachine","ControlCompareLink","count","setCount","getCount","countClientRecords","c","route","ListItem","button","CFCCompare","ListItemIcon","ListItemText","flexDirection","saveButton","up","rewritePattern","require","generateRegexpuOptions","RegExp","global","err","pattern","flags","includes","prototype","excelCreateFromData","workbook","XLSX","read","excelProcessSheet","result","Boolean","forEach","last","pop","join","trim","gst","merge","excelProcessWorkbook","worksheet","Sheets","SheetNames","utils","sheet_to_json","header","CopyCanvasTrigger","ChangeCopyCanvasActive","ImportDataModal","fileRef","createRef","currentItems","setCurrentItems","canvasId","canvasItemUpdater","canvasData","setCanvasData","findById","t","deleteItem","newItems","i","toggleType","toggleGST","onEmptyAndClose","onAddToCanvas","updater","renderMergeOptions","parentId","cashItems","Select","MenuItem","cashItemCount","Dialog","fullWidth","DialogTitle","DialogContent","paddingRight","src","alt","DialogActions","current","click","size","floor","IconDeleteButton","renderSingleItem","hidden","ref","file","files","reader","FileReader","onload","Uint8Array","readAsArrayBuffer","rowValue","defaultStyles","importDataOpen","setImportDataOpen","leftCompare","rightCompare","goTo","isNewPage","isCompare","importData","printPDF","CashFlowCanvasPDF","servePDF","CFCComparePDF","ExpandableNav","reactourLabel","disablePadding","CFCListing","answers","useFourQsStyles","fourQuestionsContent","listItem","listItemFirst","listItemText","answerIconRoot","answer","opt","getOptionByAnswer","answerTheming","Icon","getIcon","questions","answerText","webpackContext","req","webpackContextResolve","__webpack_require__","o","Error","code","resolve","module","exports"],"mappings":"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","file":"static/js/8.138ce52e.chunk.js","sourcesContent":["import React, { ReactElement } from \"react\"\nimport { Typography } from \"@material-ui/core\"\n\nexport const CFC4QsTourContent = (): ReactElement => (\n\t<div className=\"content-area\">\n\t\t<Typography variant=\"h6\">The Cash Flow Canvas</Typography>\n\t\t<Typography>\n\t\t\tVisualises your cash flow and makes it easy to see how your business is\n\t\t\tperforming against the Four Key Questions.\n\t\t</Typography>\n\t\t<br />\n\t\t<Typography>\n\t\t\tThis will help you understand your current position and identify any\n\t\t\timprovements that you could make in your business.\n\t\t</Typography>\n\t</div>\n)\n\nexport const CFCCreateCanvas = (): ReactElement => (\n\t<div className=\"content-area\">\n\t\t<Typography variant=\"h6\">Create a canvas</Typography>\n\n\t\t<Typography>\n\t\t\tFirst, you can create a custom name to help identify each Canvas, then\n\t\t\tchoose a Canvas type, time-frame and date range.\n\t\t</Typography>\n\t</div>\n)\n\nexport const CFCFillingOutCanvas = (): ReactElement => (\n\t<div className=\"content-area\">\n\t\t<Typography variant=\"h6\">Filling out the Canvas</Typography>\n\n\t\t<Typography>\n\t\t\tYou can directly enter figures into the Canvas or import from a\n\t\t\tspreadsheet.\n\t\t</Typography>\n\t\t<Typography>\n\t\t\tThe simpler your Canvas, the easier it will be to understand the\n\t\t\trelationships between the key areas that will impact your cash flow.\n\t\t</Typography>\n\t</div>\n)\n\nexport const CFCYourPosition = (): ReactElement => (\n\t<div className=\"content-area\">\n\t\t<Typography variant=\"h6\">Understanding your position</Typography>\n\n\t\t<Typography>\n\t\t\tEasily see if your business is getting ahead or falling behind.\n\t\t</Typography>\n\t</div>\n)\n\nexport const CFCControlPanel = (): ReactElement => (\n\t<div className=\"content-area\">\n\t\t<Typography variant=\"h6\">Control Panel</Typography>\n\n\t\t<Typography>\n\t\t\tHere you can open an existing Canvas, copy, delete, or create a new\n\t\t\tCanvas.\n\t\t</Typography>\n\t\t<br />\n\t\t<Typography>\n\t\t\tTo copy a Canvas, open the Canvas you would like to replicate and select\n\t\t\tthe Copy Canvas button in the Control Panel.\n\t\t</Typography>\n\t\t<Typography>\n\t\t\tThe Canvas list contains Canvasses you have previously developed\n\t\t</Typography>\n\t</div>\n)\n","import React, { ReactElement } from \"react\"\nimport { Typography, List } from \"@material-ui/core\"\nimport useSharedTipStyling from \"./style\"\n\n/**\n * Tip displayed on the CFC canvas page\n *\n * @returns ReactElement\n */\nconst CFCanvasTips = (): ReactElement => {\n\tconst styles = useSharedTipStyling()\n\n\treturn (\n\t\t<>\n\t\t\t<List className={styles.list}>\n\t\t\t\t<Typography component=\"li\">\n\t\t\t\t\tStart by creating a Review Canvas to look at your past cash flow\n\t\t\t\t</Typography>\n\t\t\t\t<Typography component=\"li\">\n\t\t\t\t\tCopy the Review Canvas into a Forecast Canvas to predict future cash\n\t\t\t\t\tflow\n\t\t\t\t</Typography>\n\t\t\t\t<Typography component=\"li\">\n\t\t\t\t\tCreate a Plan Canvas to see what changes you can make to improve your\n\t\t\t\t\tcash flow\n\t\t\t\t</Typography>\n\t\t\t\t<Typography component=\"li\">\n\t\t\t\t\tUse a Track Canvas to break down a Plan Canvas to weekly, monthly or\n\t\t\t\t\tquarterly targets\n\t\t\t\t</Typography>\n\t\t\t\t<Typography component=\"li\">\n\t\t\t\t\tCheck your actual cash flow against your planned cash flow\n\t\t\t\t</Typography>\n\t\t\t\t<Typography component=\"li\">\n\t\t\t\t\tCompare different canvases to track cash flow trends\n\t\t\t\t</Typography>\n\t\t\t</List>\n\t\t\t<Typography variant=\"h6\">Next Steps</Typography>\n\t\t\t<List className={styles.list}>\n\t\t\t\t<Typography component=\"li\">\n\t\t\t\t\tPick the actions you want to take\n\t\t\t\t</Typography>\n\t\t\t\t<Typography component=\"li\">\n\t\t\t\t\tRepeat the steps to track and review progress\n\t\t\t\t</Typography>\n\t\t\t</List>\n\t\t</>\n\t)\n}\n\nexport default CFCanvasTips\n","import React, { ReactElement, useState, useEffect } from \"react\"\nimport Tour, { ReactourStep } from \"reactour\"\nimport { Button } from \"@material-ui/core\"\nimport { useLocation, useParams } from \"react-router-dom\"\nimport {\n\tdisableBodyScroll,\n\tenableBodyScroll,\n\tclearAllBodyScrollLocks,\n} from \"body-scroll-lock\"\nimport hasProperty from \"../../util/object/hasProperty\"\n\ntype PageTourProps = {\n\tsteps: ReactourStep[]\n}\n\nconst LSKey = \"react-tour-completed\"\n\n/**\n * Page tour component. Used to show highlighted areas with descriptive content\n *\n * @export\n * @param {PageTourProps} { steps }\n * @returns {ReactElement}\n */\nexport default function PageTour({ steps }: PageTourProps): ReactElement {\n\tconst location = useLocation()\n\tconst params = useParams()\n\n\tconst disableBody = (target: any): void => disableBodyScroll(target)\n\tconst enableBody = (target: any): void => enableBodyScroll(target)\n\n\tuseEffect(() => {\n\t\treturn (): void => clearAllBodyScrollLocks()\n\t}, [])\n\n\t/**\n\t * Strips off the beginning and ending \"/\"\n\t *\n\t * @returns {string}\n\t */\n\tconst stripPathname = (): string => location.pathname.replace(/^\\/|\\/$/g, \"\")\n\n\t/**\n\t * Gets the key of the current route\n\t *\n\t * @returns {string}\n\t */\n\tconst getRouteValue = (): string => {\n\t\tconst re = /\\/[0-9A-F]{8}-[0-9A-F]{4}-4[0-9A-F]{3}-[89AB][0-9A-F]{3}-[0-9A-F]{12}$/gi\n\t\tconst path = stripPathname()\n\n\t\tif (Object.keys(params).length > 0 && path.match(re)) {\n\t\t\treturn path.replace(re, \"/:id\")\n\t\t}\n\n\t\treturn path\n\t}\n\n\t/**\n\t * Checks if the tour should be open by default\n\t *\n\t * @returns {boolean}\n\t */\n\tconst shouldBeOpen = (): boolean => {\n\t\tconst ls = window.localStorage.getItem(LSKey)\n\t\tif (!ls) return true\n\n\t\tconst json = JSON.parse(ls)\n\t\treturn !hasProperty(json, getRouteValue())\n\t}\n\n\tconst [open, setOpen] = useState(shouldBeOpen())\n\n\t/**\n\t * Sets the localstorage value for the tour key\n\t *\n\t * @param json\n\t */\n\tconst setLSValue = (json: {}): void => {\n\t\twindow.localStorage.setItem(LSKey, JSON.stringify(json))\n\t}\n\n\t/**\n\t * Closes the tour and sets the value to not open on return\n\t *\n\t */\n\tconst closeTour = (): void => {\n\t\tconst ls = window.localStorage.getItem(LSKey)\n\t\tconst json = !ls ? {} : JSON.parse(ls)\n\t\tsetLSValue({\n\t\t\t...json,\n\t\t\t[getRouteValue()]: true,\n\t\t})\n\t\tsetOpen(false)\n\t}\n\n\t/**\n\t * Opens the tour component\n\t */\n\tconst openTour = (): void => setOpen(true)\n\n\treturn (\n\t\t<>\n\t\t\t<div className=\"sr-only\">\n\t\t\t\t<Button onClick={openTour} id=\"start-a-tour\">\n\t\t\t\t\tStart tour\n\t\t\t\t</Button>\n\t\t\t</div>\n\t\t\t<Tour\n\t\t\t\tsteps={steps}\n\t\t\t\tisOpen={open}\n\t\t\t\tonRequestClose={closeTour}\n\t\t\t\tonAfterOpen={disableBody}\n\t\t\t\tonBeforeClose={enableBody}\n\t\t\t\tstartAt={0}\n\t\t\t/>\n\t\t</>\n\t)\n}\n","import {\n\tBaseCFCStruct,\n\tClientId,\n\tDatabaseId,\n} from \"../../../data/_config/shape\"\nimport CFCUseCase from \"../../../data/CFC/CFCLogic\"\nimport { newTimestamp } from \"../../../util/dates\"\n\n/**\n * Creates a CFC and returns the CFC id\n *\n * @param {BaseCFCStruct} values\n * @param {ClientId} client\n * @returns {Promise<number>}\n */\nasync function onCreate(\n\tvalues: BaseCFCStruct,\n\tclient: ClientId\n): Promise<DatabaseId> {\n\tconst id = await CFCUseCase.create({\n\t\t...values,\n\t\tclientId: client,\n\t\tcreatedAt: newTimestamp(),\n\t})\n\n\treturn id\n}\n\nexport default onCreate\n","import React, {\n\tReactElement,\n\tuseState,\n\tuseCallback,\n\tuseContext,\n\tuseEffect,\n} from \"react\"\nimport { useFormik } from \"formik\"\nimport { Button, Box } from \"@material-ui/core\"\nimport { useHistory } from \"react-router-dom\"\nimport { BaseCFCStruct } from \"../../../data/_config/shape\"\nimport { initialValues } from \".\"\nimport { ConfigPanel, CanvasTitle } from \"../../CFC\"\nimport onCreate from \"./onCreate\"\nimport Spacer from \"../../Spacer/Spacer\"\nimport { routeVarReplacement, PrivateRoutes } from \"../../../util/routes/routes\"\nimport useCurrentClient from \"../../../state/client/useCurrentClient\"\nimport useStyles from \"./__config/styles\"\nimport createURLParams from \"./createURLParams\"\nimport changeDate, { CanvasDateKeys } from \"./changeDate\"\nimport CFCContext from \"../../../state/CFC/context\"\n\n/**\n * Create canvas form.\n *\n * @export\n * @returns {ReactElement}\n */\nexport default function CreateCanvasForm(): ReactElement {\n\tconst styles = useStyles()\n\n\tconst [useCustomTitle, setUseCustomTitle] = useState(false)\n\tconst history = useHistory()\n\tconst [currentClient] = useCurrentClient()\n\tconst { duplicateError, invalidDateError } = useContext(CFCContext)\n\n\tconst { setFieldValue, handleChange, values, handleSubmit } = useFormik<\n\t\tBaseCFCStruct\n\t>({\n\t\tinitialValues,\n\t\tonSubmit: async (formValues: BaseCFCStruct) => {\n\t\t\tif (currentClient?.id) {\n\t\t\t\tconst id = await onCreate(formValues, currentClient.id)\n\t\t\t\t// Creates some url search parameters to pass onto the edit page\n\t\t\t\tconst query = createURLParams(formValues, useCustomTitle)\n\n\t\t\t\t// Redirects the user to the edit page\n\t\t\t\t// eslint-disable-next-line\n\t\t\t\thistory.push(\n\t\t\t\t\t`${routeVarReplacement(PrivateRoutes.CFCEdit, [\n\t\t\t\t\t\t[\":id\", `${id}`],\n\t\t\t\t\t])}?${query}`\n\t\t\t\t)\n\t\t\t}\n\t\t},\n\t})\n\n\tuseEffect(() => {\n\t\tif (!useCustomTitle) {\n\t\t\tsetFieldValue(\"canvasTitle\", \"\")\n\t\t}\n\t}, [useCustomTitle, setFieldValue])\n\n\tconst {\n\t\tcanvasTitle,\n\t\tcanvasType,\n\t\tcanvasTimeFrame,\n\t\tcanvasStartDate,\n\t\tcanvasEndDate,\n\t} = values\n\n\t/**\n\t * A custom change handler for the datepicker\n\t *\n\t * @template K\n\t * @param {K} k\n\t * @param {BaseCFCStruct[K]} v\n\t */\n\tconst changeDateValue = (k: CanvasDateKeys, v: Date): void => {\n\t\tconst { canvasStartDate: start, canvasEndDate: end } = changeDate<\n\t\t\tBaseCFCStruct\n\t\t>(k, v, values)\n\n\t\t// Sets the field value\n\t\tsetFieldValue(\"canvasStartDate\", start, false)\n\t\tsetFieldValue(\"canvasEndDate\", end, false)\n\t}\n\n\tconst inputChange = useCallback(handleChange, [])\n\n\tfunction disabledCreate(): boolean {\n\t\treturn (\n\t\t\tinvalidDateError ||\n\t\t\tduplicateError ||\n\t\t\t(useCustomTitle && canvasTitle === \"\")\n\t\t)\n\t}\n\n\treturn (\n\t\t<>\n\t\t\t<form onSubmit={handleSubmit} data-reactour=\"create-a-canvas\">\n\t\t\t\t<CanvasTitle\n\t\t\t\t\ttype={canvasType}\n\t\t\t\t\ttimeframe={canvasTimeFrame}\n\t\t\t\t\tstartDate={canvasStartDate}\n\t\t\t\t\tendDate={canvasEndDate}\n\t\t\t\t\tcustomTitle={canvasTitle}\n\t\t\t\t\tuseCustomTitle={useCustomTitle}\n\t\t\t\t/>\n\t\t\t\t<ConfigPanel\n\t\t\t\t\tcanvasTypeValue={canvasType}\n\t\t\t\t\tcanvasTimeframeValue={canvasTimeFrame}\n\t\t\t\t\tonChange={inputChange}\n\t\t\t\t\tstartDate={canvasStartDate}\n\t\t\t\t\tendDate={canvasEndDate}\n\t\t\t\t\tonDateChange={changeDateValue}\n\t\t\t\t\tcustomTitle={canvasTitle}\n\t\t\t\t\tchangeCheck={(e: InputChange): void => {\n\t\t\t\t\t\tsetUseCustomTitle(e.target.checked)\n\t\t\t\t\t}}\n\t\t\t\t\tuseCustomTitle={useCustomTitle}\n\t\t\t\t/>\n\t\t\t\t<Spacer />\n\t\t\t\t<Box className={styles.box}>\n\t\t\t\t\t<Button\n\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\t\ttype=\"submit\"\n\t\t\t\t\t\tdisabled={disabledCreate()}\n\t\t\t\t\t>\n\t\t\t\t\t\tCreate Canvas\n\t\t\t\t\t</Button>\n\t\t\t\t</Box>\n\t\t\t</form>\n\t\t</>\n\t)\n}\n","import React, { ReactElement } from \"react\"\nimport { Grid, Box, Typography, List } from \"@material-ui/core\"\nimport { ReactourStep } from \"reactour\"\nimport { PageContainer } from \"../../components/Layouts\"\nimport PageTip from \"../../components/PageTip\"\nimport CreateCanvasForm from \"../../components/Forms/CFC/CanvasCreate\"\nimport FourQuestions from \"../../components/HealthCheck/FourQuestions\"\nimport ControlPanel from \"../../components/CFC/ControlPanel\"\nimport SectionTitle from \"../../components/SectionTitle\"\nimport Spacer from \"../../components/Spacer\"\nimport PageTour from \"../../components/PageTour\"\nimport {\n\tCFC4QsTourContent,\n\tCFCCreateCanvas,\n} from \"../../components/CFC/__config/constants\"\nimport CFCanvasTips from \"../../content/tips/CFCanvasTips\"\n\nconst steps: ReactourStep[] = [\n\t{\n\t\tselector: \"[data-reactour='four-questions-nav']\",\n\t\tcontent: CFC4QsTourContent,\n\t},\n\t{\n\t\tselector: \"[data-reactour='create-a-canvas']\",\n\t\tcontent: CFCCreateCanvas,\n\t},\n]\n\n/**\n * Create a CFC page\n *\n * @export\n * @returns {ReactElement}\n */\nexport default function CFCCanvas(): ReactElement {\n\treturn (\n\t\t<>\n\t\t\t<PageContainer maxWidth=\"lg\" role=\"main\">\n\t\t\t\t<Grid container spacing={3}>\n\t\t\t\t\t<Grid item xs={12} md={9}>\n\t\t\t\t\t\t<SectionTitle component=\"h1\">Cash Flow Canvas</SectionTitle>\n\t\t\t\t\t\t<Box className=\"content-area\">\n\t\t\t\t\t\t\t<Typography>\n\t\t\t\t\t\t\t\tThe Cash Flow Canvas will help you answer the Four Key\n\t\t\t\t\t\t\t\tQuestions. Knowing and understanding these will ensure you make\n\t\t\t\t\t\t\t\tinformed decisions and plans for your business.\n\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t<Typography className=\"list-describer\">\n\t\t\t\t\t\t\t\tYou can use it in five different ways:\n\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t<List component=\"ul\" className=\"ul-list\">\n\t\t\t\t\t\t\t\t<Typography component=\"li\">\n\t\t\t\t\t\t\t\t\tReview - look at how you have previously managed your cash\n\t\t\t\t\t\t\t\t\tflow\n\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t<Typography component=\"li\">\n\t\t\t\t\t\t\t\t\tForecast - predict what your future cash flow will look like\n\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t<Typography component=\"li\">\n\t\t\t\t\t\t\t\t\tChange - explore actions you can take to improve your cash\n\t\t\t\t\t\t\t\t\tflow\n\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t<Typography component=\"li\">\n\t\t\t\t\t\t\t\t\tPlan - create future cash flow that meets your goals\n\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t<Typography component=\"li\">\n\t\t\t\t\t\t\t\t\tTrack - compare your actual and predicted cash flow\n\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t</List>\n\t\t\t\t\t\t\t<Typography>\n\t\t\t\t\t\t\t\tTo import, save or compare data, see the Control Panel.\n\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t<Spacer space={3} />\n\t\t\t\t\t\t<CreateCanvasForm />\n\t\t\t\t\t</Grid>\n\t\t\t\t\t<Grid item xs={12} md={3}>\n\t\t\t\t\t\t<FourQuestions />\n\t\t\t\t\t\t<ControlPanel />\n\t\t\t\t\t</Grid>\n\t\t\t\t</Grid>\n\t\t\t</PageContainer>\n\t\t\t<PageTip tip={CFCanvasTips} />\n\t\t\t<Box role=\"complementary\">\n\t\t\t\t<PageTour steps={steps} />\n\t\t\t</Box>\n\t\t</>\n\t)\n}\n","import { makeStyles } from \"@material-ui/core\"\n\n// Shared styling for the tip components\nconst useSharedTipStyling = makeStyles((theme) => ({\n\tlist: {\n\t\tlistStyle: \"disc\",\n\t\tpaddingLeft: theme.spacing(2),\n\t},\n}))\n\nexport default useSharedTipStyling\n","import { makeStyles } from \"@material-ui/core/styles\"\n\nconst usePageTipStyles = makeStyles((theme) => ({\n\troot: {\n\t\tposition: \"fixed\",\n\t\tleft: theme.spacing(2),\n\t\tbottom: theme.spacing(2),\n\t},\n\ticon: {\n\t\tmarginRight: theme.spacing(1),\n\t},\n\tdrawer: {\n\t\tpadding: theme.spacing(2),\n\t\tmaxWidth: \"350px\",\n\t\twidth: \"100%\",\n\t},\n\tcloseBox: {\n\t\tdisplay: \"flex\",\n\t\tjustifyContent: \"space-between\",\n\t\tmarginBottom: theme.spacing(2),\n\t\tpaddingBottom: theme.spacing(2),\n\t\tborderBottom: 1,\n\t\tborderBottomColor: theme.palette.grey[500],\n\t\tborderBottomStyle: \"solid\",\n\t},\n}))\n\nexport default usePageTipStyles\n","import React, { ReactElement, useState, MouseEvent, createElement } from \"react\"\nimport { Fab, Drawer, Button, Box, Typography } from \"@material-ui/core\"\nimport HelpOutlineIcon from \"@material-ui/icons/HelpOutline\"\nimport HighlightOffIcon from \"@material-ui/icons/HighlightOff\"\nimport usePageTipStyles from \"./_config/style\"\nimport { IPageTip } from \"./_config/shape\"\n\n/**\n * Renders a page tip tooltip at the bottom left of the page\n *\n * @param {string} {tip} File name (no extension) for the tip component\n * @returns ReactElement\n */\nconst PageTip = ({ tip }: IPageTip): ReactElement => {\n\tconst style = usePageTipStyles()\n\tconst [drawerOpen, setDrawerOpen] = useState<boolean>(false)\n\n\t/**\n\t * Toggles the state of the drawer\n\t *\n\t * @param {Boolean} open State to change the drawer to\n\t * @param {KeyboardEvent|MouseEvent<HTMLButtonElement>} event Event generated by a keypress|click\n\t */\n\tconst toggleDrawer = (open: boolean) => (\n\t\tevent: KeyboardEvent | MouseEvent<HTMLButtonElement>\n\t): void => {\n\t\tif (event instanceof KeyboardEvent) {\n\t\t\tif (\n\t\t\t\tevent.type === \"keydown\" &&\n\t\t\t\t(event.key === \"Tab\" || event.key === \"Shift\")\n\t\t\t) {\n\t\t\t\treturn\n\t\t\t}\n\t\t}\n\n\t\t// Change the state of the drawer\n\t\tsetDrawerOpen(open)\n\t}\n\n\treturn (\n\t\t<>\n\t\t\t<div className={style.root} role=\"complementary\">\n\t\t\t\t<Fab color=\"secondary\" onClick={toggleDrawer(true)} variant=\"extended\">\n\t\t\t\t\t<HelpOutlineIcon className={style.icon} />\n\t\t\t\t\tTips\n\t\t\t\t</Fab>\n\t\t\t</div>\n\t\t\t<Drawer\n\t\t\t\tanchor=\"left\"\n\t\t\t\topen={drawerOpen}\n\t\t\t\tonClose={toggleDrawer(false)}\n\t\t\t\tclasses={{\n\t\t\t\t\tpaper: style.drawer,\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t<Box className={style.closeBox}>\n\t\t\t\t\t<Typography variant=\"h6\">Tips</Typography>\n\t\t\t\t\t<Button\n\t\t\t\t\t\tonClick={toggleDrawer(false)}\n\t\t\t\t\t\tstartIcon={<HighlightOffIcon />}\n\t\t\t\t\t>\n\t\t\t\t\t\tClose\n\t\t\t\t\t</Button>\n\t\t\t\t</Box>\n\n\t\t\t\t{createElement(tip, {})}\n\t\t\t</Drawer>\n\t\t</>\n\t)\n}\n\nexport default PageTip\n","import { BaseCFCStruct } from \"../../../data/_config/shape\"\nimport createCashFlowItem from \"../../../state/CFC/createCashFlow\"\n\nconst initialValues: BaseCFCStruct = {\n\tcanvasTitle: \"\",\n\tcanvasType: \"review\",\n\tcanvasTimeFrame: \"quarterly\",\n\tcanvasStartDate: new Date(),\n\tcanvasEndDate: new Date(),\n\topeningBalance: 0,\n\tpaygWithholding: 0,\n\tsuperAmount: 0,\n\tincomeTax: 25,\n\tcashToOwner: 0,\n\tstock: 0,\n\tcreditors: 0,\n\tdebtors: 0,\n\tassets: 0,\n\tloans: 0,\n\tcashInItems: [createCashFlowItem()],\n\tcashOutItems: [createCashFlowItem()],\n\tgstOnPurchases: undefined,\n\tgstOnSales: undefined,\n}\n\nexport default initialValues\n","import { BaseCFCStruct } from \"../../../data/_config/shape\"\nimport { CalculatedValues } from \"../../../state/CFC/useCalculated\"\nimport {\n\tcalcTotalNetAssets,\n\tcalcAvailableToSpend,\n\tcalcCashSurplus,\n\tcalcCashFlowGST,\n\tcalcClosingBalance,\n\tcalcIncomeTaxPer,\n} from \"../../../state/CFC/accumulators\"\nimport { isGSTValid } from \"../../../util/money/gst\"\n\n/**\n * Calculates the values for the dynamic values\n *\n * @param {BaseCFCStruct} values\n * @returns {CalculatedValues}\n */\nfunction calculateInitial(values: BaseCFCStruct): CalculatedValues {\n\treturn {\n\t\tgstOnSales: isGSTValid(values.gstOnSales)\n\t\t\t? values.gstOnSales!\n\t\t\t: calcCashFlowGST(values.cashInItems),\n\t\tclosingBalance: calcClosingBalance(values),\n\t\tgstOnPurchases: isGSTValid(values.gstOnPurchases)\n\t\t\t? values.gstOnPurchases!\n\t\t\t: calcCashFlowGST(values.cashOutItems),\n\t\ttotalNetAssets: calcTotalNetAssets(values),\n\t\tcashSurplus: calcCashSurplus(values),\n\t\tavailableToSpend: calcAvailableToSpend(values),\n\t\tincomeTaxPercentage: calcIncomeTaxPer(values),\n\t}\n}\n\nexport default calculateInitial\n","import { makeStyles } from \"@material-ui/core\"\n\n// Section title styles\nconst useSTStyles = makeStyles((theme) => ({\n\ttitle: {\n\t\tfontWeight: 500,\n\t\tmarginBottom: theme.spacing(2),\n\t\t[theme.breakpoints.down(\"sm\")]: {\n\t\t\tfontSize: theme.typography.h5.fontSize,\n\t\t},\n\t},\n}))\n\nexport default useSTStyles\n","import React, { ReactElement } from \"react\"\nimport { Typography } from \"@material-ui/core\"\nimport { SectionTitleProps } from \"./_config/shape\"\nimport useSTStyles from \"./_config/styles\"\n\n/**\n * Abstraction for the Typography for a consistent heading for sections\n *\n * @param {SectionTitleProps} props Mimics the props for `<Typography>`\n * @returns ReactElement\n */\nconst SectionTitle = ({\n\tchildren,\n\tclassName,\n\t...props\n}: SectionTitleProps): ReactElement => {\n\tconst styles = useSTStyles()\n\treturn (\n\t\t<Typography\n\t\t\tvariant=\"h4\"\n\t\t\tcolor=\"textPrimary\"\n\t\t\tclassName={`${styles.title} ${className}`}\n\t\t\t// eslint-disable-next-line react/jsx-props-no-spreading\n\t\t\t{...props}\n\t\t>\n\t\t\t{children}\n\t\t</Typography>\n\t)\n}\n\nexport default SectionTitle\n","/**\n * Add Padding\n *\n * add white space around some content\n */\n\nimport { format } from \"date-fns\"\n\nexport const addPadding = (content: any, margin = 10) => {\n\treturn {\n\t\tmargin,\n\t\tcolumns: [content],\n\t}\n}\n\n/**\n * Page and margin defaults\n */\n\nexport const pageDefaultSettings = () => {\n\treturn {\n\t\t// watermark: {\n\t\t// \ttext: \"draft\",\n\t\t// \tcolor: \"blue\",\n\t\t// \topacity: 0.3,\n\t\t// \tbold: true,\n\t\t// \titalics: false,\n\t\t// },\n\n\t\tpageSize: \"A4\",\n\t\tpageMargins: [0, 0, 0, 25],\n\t\tfooter: {\n\t\t\tcolumns: [\n\t\t\t\t{\n\t\t\t\t\ttext: `Created on the ${format(new Date(), \"do 'of' MMMM yyyy\")}`,\n\t\t\t\t\talignment: \"center\",\n\t\t\t\t\tfontSize: 12,\n\t\t\t\t\tcolor: \"#333\",\n\t\t\t\t},\n\t\t\t],\n\t\t},\n\t}\n}\n\n/**\n * Frame Content\n *\n * Put content in a table with a border\n */\n\nexport const frameContent = (inner: any, style: string[] = []) => {\n\treturn {\n\t\ttable: {\n\t\t\twidths: [\"*\"], // to make it full length\n\t\t\tbody: [[inner]],\n\t\t},\n\t\tstyle,\n\t}\n}\n\n/**\n * Table with Text in it for top of page\n * Requires a pageHeader style\n */\n\nexport const pageHeading = (text: string) => {\n\tconst content = frameContent(addPadding(text), [\"pageHeader\"])\n\n\treturn {\n\t\t...content,\n\t\tlayout: \"noBorders\",\n\t}\n}\n\n/**\n * Add 20 points of padding on a full page\n */\n\nexport const pagePadding = (content: any) => addPadding(content, 20)\n\n/**\n * Basic table of key .... value\n */\n\nexport const basicTable = (items: any, style: string[] = []) => {\n\treturn {\n\t\ttable: {\n\t\t\twidths: [\"70%\", \"*\"],\n\t\t\tbody: items,\n\t\t},\n\t\tstyle,\n\t\tlayout: \"noBorders\",\n\t}\n}\n","import { isAfter } from \"date-fns\"\nimport { toNumber } from \"lodash-es\"\nimport { CFCStruct, ClientId, CFCId } from \"../../../data/_config/shape\"\nimport CFCUseCase from \"../../../data/CFC/CFCLogic\"\nimport { SelectFieldOptions } from \"../../SelectField/SelectField\"\nimport { canvasDisplayTitle } from \"../../CFC/__config/utilities\"\nimport { CanvasTuple } from \"./shape\"\nimport filterById from \"../../../util/filters/ById\"\nimport {\n\ttoTwoDecimal,\n\tremoveTrailingZeros,\n} from \"../../../util/money/formatting\"\nimport concatStr from \"../../../util/strings/concatStr\"\nimport { pipe } from \"../../../util/reduce/math\"\n\ntype Client = ClientId | undefined\n\n/**\n * Fetches the canvases for a specific client\n *\n * @param {Client} client\n * @returns {Promise<CFCStruct[]>}\n */\nexport async function getCanvasData(client: Client): Promise<CFCStruct[]> {\n\tif (!client) return []\n\tconst data = await CFCUseCase.findByClient(client)\n\treturn data\n}\n\n/**\n * Reduces a CFC object into options for the select field\n *\n * @returns {ReducerHOF<SelectFieldOptions, CFCStruct>}\n */\nexport function reduceToOptions(): ReducerHOF<SelectFieldOptions, CFCStruct> {\n\treturn (acc, cur): SelectFieldOptions => {\n\t\treturn acc.concat({\n\t\t\tvalue: cur.id || -1,\n\t\t\tlabel: canvasDisplayTitle(cur),\n\t\t})\n\t}\n}\n\n/**\n * Changes which canvases are selected for comparing\n *\n * @export\n * @param {CFCStruct[]} allCanvases\n * @param {CanvasTuple} selected\n * @param {number} idx\n * @param {CFCId} id\n * @returns {CanvasTuple}\n */\nexport function changeSelected(\n\tallCanvases: CFCStruct[],\n\tselected: CanvasTuple,\n\tidx: number,\n\tid: CFCId\n): CanvasTuple {\n\tconst newItem = allCanvases.filter(filterById(id))[0]\n\t// return if undefined\n\tif (!newItem) return selected\n\n\tif (idx === 0) {\n\t\tif (isAfter(selected[1].canvasStartDate, newItem.canvasStartDate)) {\n\t\t\treturn [selected[1], newItem]\n\t\t}\n\t\treturn [newItem, selected[1]]\n\t}\n\n\tif (isAfter(newItem.canvasStartDate, selected[0].canvasStartDate)) {\n\t\treturn [newItem, selected[0]]\n\t}\n\treturn [selected[0], newItem]\n}\n\n/**\n * Calculated the percentage difference of two fields\n *\n * D = (C / B) * 100\n * C = Difference in values (Column A - Column B)\n * A = Column A\n * B = Column B\n *\n * @export\n * @param {number} val1\n * @param {number} val2\n * @returns {string}\n */\nexport function calculateDifferencePer(\n\tA: number,\n\tB: number,\n\tflip = false\n): string {\n\t// Note: A,B can be a string from PDF ('0')\n\tif (!toNumber(A) || !toNumber(B)) return \"N/A\"\n\n\tconst factor = flip ? -100 : 100\n\tconst C = A - B\n\n\tconst diff = factor * (C / Math.abs(B))\n\n\treturn pipe(\n\t\ttoTwoDecimal,\n\t\tremoveTrailingZeros,\n\t\tconcatStr(\"%\")\n\t)(`${diff}`) as string\n}\n","import pdfMake from \"pdfmake/build/pdfmake\"\nimport { detect } from \"detect-browser\"\n\nexport default function (pdf: pdfMake.TCreatedPdf): void {\n\tconst browser = detect()\n\tif (browser?.name === \"ie\" || browser?.name === \"edge\") {\n\t\tpdf.download()\n\t\treturn\n\t}\n\n\tpdf.open()\n}\n","import { v4 as uuidv4 } from \"uuid\"\nimport { CashFlow } from \"../../data/_config/shape\"\n\nexport default function createCashFlowItem(\n\tdescription = \"\",\n\tamount = 0,\n\tgstApplicable = true\n): CashFlow {\n\treturn {\n\t\tid: uuidv4(),\n\t\tdescription,\n\t\tamount,\n\t\tgstApplicable,\n\t}\n}\n","import pdfMake from \"pdfmake/build/pdfmake\"\nimport pdfFonts from \"pdfmake/build/vfs_fonts\"\nimport { green } from \"@material-ui/core/colors\"\nimport { format } from \"date-fns\"\nimport {\n\tframeContent,\n\tbasicTable,\n\tpageDefaultSettings,\n\tpageHeading,\n\tpagePadding,\n} from \"./PDFLib\"\nimport { BaseCFCStruct, CashFlow } from \"../../data/_config/shape\"\nimport {\n\tcalcCashFlowTotal,\n\tcalcTotalCashOut,\n\tcalcIncomeTaxPer,\n} from \"../../state/CFC/accumulators\"\nimport { calculateInitial } from \"../Forms/CFC\"\nimport { canvasDisplayTitle } from \"../CFC/__config/utilities\"\nimport upperFirst from \"../../util/strings/upperCaseFirst\"\nimport { addDollarSign, formatNumber } from \"../../util/money/formatting\"\n\npdfMake.vfs = pdfFonts.pdfMake.vfs\n\nconst formatDollars = (value: number) => addDollarSign(formatNumber(`${value}`))\n\nconst openingBalanceSection = (openingBalance: number): any => {\n\treturn frameContent(\n\t\tbasicTable([\n\t\t\t[\n\t\t\t\t\"Opening Balance\",\n\t\t\t\t{ text: formatDollars(openingBalance), style: [\"rightAlign\"] },\n\t\t\t],\n\t\t])\n\t)\n}\n\nconst cashInSection = (cashInItems: CashFlow[], cashInTotal: number): any => {\n\treturn frameContent([\n\t\t{\n\t\t\ttext: \"Cash IN\",\n\t\t\tbold: true,\n\t\t},\n\t\tbasicTable([\n\t\t\t...cashInItems.map((line) => [\n\t\t\t\tline.description,\n\t\t\t\t{ text: formatDollars(line.amount), style: [\"rightAlign\"] },\n\t\t\t]),\n\t\t\t[\n\t\t\t\t\"Total (Exc GST)\",\n\t\t\t\t{\n\t\t\t\t\ttext: formatDollars(cashInTotal),\n\t\t\t\t\tstyle: [\"rightAlign\"],\n\t\t\t\t},\n\t\t\t],\n\t\t]),\n\t])\n}\n\nconst gstOnSalesSection = (gstOnSales: number): any => {\n\treturn frameContent(\n\t\tbasicTable(\n\t\t\t[\n\t\t\t\t[\n\t\t\t\t\t\"GST on Sales\",\n\t\t\t\t\t{ text: formatDollars(gstOnSales), style: [\"rightAlign\"] },\n\t\t\t\t],\n\t\t\t],\n\t\t\t[\"yellowBlock\"]\n\t\t)\n\t)\n}\n\nconst cashOutSection = (\n\tcashOutItems: CashFlow[],\n\tcashOutTotal: number\n): any => {\n\treturn frameContent([\n\t\t{ text: \"Cash OUT\", bold: true },\n\t\tbasicTable([\n\t\t\t...cashOutItems.map((line) => [\n\t\t\t\tline.description,\n\t\t\t\t{ text: formatDollars(line.amount), style: [\"rightAlign\"] },\n\t\t\t]),\n\t\t\t[\n\t\t\t\t\"Total (Exc GST)\",\n\t\t\t\t{\n\t\t\t\t\ttext: formatDollars(cashOutTotal),\n\t\t\t\t\tstyle: [\"rightAlign\"],\n\t\t\t\t},\n\t\t\t],\n\t\t]),\n\t])\n}\n\nconst gstOnPurchasesSection = (\n\tgstOnPurchases: number,\n\tpaygWithholding: number,\n\tsuperAmount: number\n): any => {\n\treturn frameContent(\n\t\tbasicTable(\n\t\t\t[\n\t\t\t\t[\n\t\t\t\t\t\"GST on Purchases\",\n\t\t\t\t\t{ text: formatDollars(gstOnPurchases), style: [\"rightAlign\"] },\n\t\t\t\t],\n\t\t\t\t[\n\t\t\t\t\t\"PAYG Withholding\",\n\t\t\t\t\t{ text: formatDollars(paygWithholding), style: [\"rightAlign\"] },\n\t\t\t\t],\n\t\t\t\t[\"Super\", { text: formatDollars(superAmount), style: [\"rightAlign\"] }],\n\t\t\t],\n\t\t\t[\"yellowBlock\"]\n\t\t)\n\t)\n}\n\nconst cashSurplusSection = (cashSurplus: number): any => {\n\treturn frameContent(\n\t\tbasicTable([\n\t\t\t[\n\t\t\t\t\"Cash Surplus\",\n\t\t\t\t{ text: formatDollars(cashSurplus), style: [\"rightAlign\"] },\n\t\t\t],\n\t\t])\n\t)\n}\n\nconst incomeSection = (values: BaseCFCStruct): any => {\n\treturn frameContent(\n\t\tbasicTable(\n\t\t\t[\n\t\t\t\t[\n\t\t\t\t\t\"Income/Company Tax\",\n\t\t\t\t\t// TODO: Needs to use the new calculations in feature/122 branch\n\t\t\t\t\t{\n\t\t\t\t\t\ttext: formatDollars(calcIncomeTaxPer(values)),\n\t\t\t\t\t\tstyle: [\"rightAlign\"],\n\t\t\t\t\t},\n\t\t\t\t],\n\t\t\t],\n\t\t\t[\"yellowBlock\"]\n\t\t)\n\t)\n}\n\nconst availableToSpendSection = (availableToSpend: number): any => {\n\treturn frameContent(\n\t\tbasicTable([\n\t\t\t[\n\t\t\t\t\"Available to spend\",\n\t\t\t\t{ text: formatDollars(availableToSpend), style: [\"rightAlign\"] },\n\t\t\t],\n\t\t])\n\t)\n}\n\nconst closingCashBalanceSection = (\n\tcashToOwner: number,\n\tclosingBalance: number\n): any => {\n\treturn frameContent([\n\t\t{ text: \"Your Closing Cash Balance\", bold: true },\n\t\tbasicTable([\n\t\t\t[\n\t\t\t\t\"Cash to owner\",\n\t\t\t\t{ text: formatDollars(cashToOwner), style: [\"rightAlign\"] },\n\t\t\t],\n\t\t\t[\n\t\t\t\t\"Closing balance\",\n\t\t\t\t{ text: formatDollars(closingBalance), style: [\"rightAlign\"] },\n\t\t\t],\n\t\t]),\n\t])\n}\n\nconst question2Section = (value: number) => {\n\treturn frameContent(\n\t\tbasicTable(\n\t\t\t[\n\t\t\t\t[\n\t\t\t\t\t\"Have you put enough money aside to meet your regular financial commitments?\",\n\t\t\t\t\t{ text: formatDollars(value), style: [\"rightAlign\"] },\n\t\t\t\t],\n\t\t\t],\n\t\t\t[\"yellowBlock\"]\n\t\t)\n\t)\n}\n\nconst yourNetAssetPositionSection = (\n\tstock: number,\n\tcreditors: number,\n\tdebtors: number,\n\tassets: number,\n\tloans: number,\n\ttotalNetAssets: number\n): any => {\n\treturn frameContent([\n\t\t{ text: \"Your net asset position\", bold: true },\n\t\tbasicTable([\n\t\t\t[\"Stocks\", { text: formatDollars(stock), style: [\"rightAlign\"] }],\n\t\t\t[\"Creditors\", { text: formatDollars(creditors), style: [\"rightAlign\"] }],\n\t\t\t[\"Debtors\", { text: formatDollars(debtors), style: [\"rightAlign\"] }],\n\t\t\t[\"Assets\", { text: formatDollars(assets), style: [\"rightAlign\"] }],\n\t\t\t[\"Loans\", { text: formatDollars(loans), style: [\"rightAlign\"] }],\n\t\t\t[\n\t\t\t\t{ text: \"Total net assets\", bold: true },\n\t\t\t\t{ text: formatDollars(totalNetAssets), style: [\"rightAlign\"] },\n\t\t\t],\n\t\t]),\n\t])\n}\n\nexport default async (\n\ttitle: string,\n\tvalues: BaseCFCStruct,\n\tquestionValues: any // QuestionValues\n) => {\n\tconst {\n\t\topeningBalance,\n\t\tcashInItems,\n\t\tcashOutItems,\n\t\tpaygWithholding,\n\t\tsuperAmount,\n\t\tcashToOwner,\n\t\tstock,\n\t\tcreditors,\n\t\tdebtors,\n\t\tassets,\n\t\tloans,\n\t\tgstOnPurchases: dbGSTOnPurchase,\n\t\tgstOnSales: dbGSTOnSales,\n\t} = values\n\n\tconst cashInTotal = calcCashFlowTotal(cashInItems, dbGSTOnSales)\n\tconst cashOutTotal = calcTotalCashOut(values, dbGSTOnPurchase)\n\n\tconst calculated = calculateInitial(values)\n\tconst {\n\t\tcashSurplus,\n\t\tavailableToSpend,\n\t\tclosingBalance,\n\t\ttotalNetAssets,\n\t\tgstOnSales,\n\t\tgstOnPurchases,\n\t} = calculated\n\n\tconst docDefinition: any = {\n\t\t...pageDefaultSettings(),\n\n\t\tcontent: [\n\t\t\tpageHeading(`${title} - CANVAS - ${canvasDisplayTitle(values)}`),\n\t\t\tpagePadding([\n\t\t\t\tframeContent({\n\t\t\t\t\ttable: {\n\t\t\t\t\t\twidths: [\"25%\", \"25%\", \"25%\", \"25%\"],\n\t\t\t\t\t\tbody: [\n\t\t\t\t\t\t\t[\n\t\t\t\t\t\t\t\t[\n\t\t\t\t\t\t\t\t\t{ text: \"Canvas Type\", bold: true },\n\t\t\t\t\t\t\t\t\tupperFirst(values.canvasType),\n\t\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\t\t[\n\t\t\t\t\t\t\t\t\t{ text: \"Time-frame\", bold: true },\n\t\t\t\t\t\t\t\t\tupperFirst(values.canvasTimeFrame),\n\t\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\t\t[\n\t\t\t\t\t\t\t\t\t{ text: \"Start date\", bold: true },\n\t\t\t\t\t\t\t\t\t`${format(values.canvasStartDate, \"dd/MM/yyyy\")}`,\n\t\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\t\t[\n\t\t\t\t\t\t\t\t\t{ text: \"End date\", bold: true },\n\t\t\t\t\t\t\t\t\t`${format(values.canvasEndDate, \"dd/MM/yyyy\")}`,\n\t\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\t],\n\t\t\t\t\t\t],\n\t\t\t\t\t},\n\t\t\t\t\tlayout: \"noBorders\",\n\t\t\t\t}),\n\t\t\t\t\" \",\n\t\t\t\topeningBalanceSection(openingBalance),\n\n\t\t\t\t{\n\t\t\t\t\ttable: {\n\t\t\t\t\t\twidths: [\"55%\", \"*\"],\n\t\t\t\t\t\tbody: [\n\t\t\t\t\t\t\t[\n\t\t\t\t\t\t\t\tcashInSection(cashInItems, cashInTotal),\n\t\t\t\t\t\t\t\tgstOnSalesSection(gstOnSales),\n\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\t[\n\t\t\t\t\t\t\t\tcashOutSection(cashOutItems, cashOutTotal),\n\t\t\t\t\t\t\t\tgstOnPurchasesSection(\n\t\t\t\t\t\t\t\t\tgstOnPurchases,\n\t\t\t\t\t\t\t\t\tpaygWithholding,\n\t\t\t\t\t\t\t\t\tsuperAmount\n\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\t[cashSurplusSection(cashSurplus), incomeSection(values)],\n\t\t\t\t\t\t\t[availableToSpendSection(availableToSpend), {}],\n\t\t\t\t\t\t\t[\n\t\t\t\t\t\t\t\t[\n\t\t\t\t\t\t\t\t\tclosingCashBalanceSection(cashToOwner, closingBalance),\n\t\t\t\t\t\t\t\t\t{ text: \" \", style: [\"spacer\"] },\n\t\t\t\t\t\t\t\t\tyourNetAssetPositionSection(\n\t\t\t\t\t\t\t\t\t\tstock,\n\t\t\t\t\t\t\t\t\t\tcreditors,\n\t\t\t\t\t\t\t\t\t\tdebtors,\n\t\t\t\t\t\t\t\t\t\tassets,\n\t\t\t\t\t\t\t\t\t\tloans,\n\t\t\t\t\t\t\t\t\t\ttotalNetAssets\n\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\t\tquestion2Section(questionValues.two),\n\t\t\t\t\t\t\t],\n\t\t\t\t\t\t],\n\t\t\t\t\t},\n\t\t\t\t\tlayout: \"noBorders\",\n\t\t\t\t},\n\t\t\t]),\n\t\t],\n\n\t\tstyles: {\n\t\t\tpageHeader: {\n\t\t\t\tfontSize: 20,\n\t\t\t\tbold: true,\n\t\t\t\tfillColor: green[\"800\"],\n\t\t\t\tcolor: \"white\",\n\t\t\t\talignment: \"center\",\n\t\t\t},\n\t\t\trightAlign: {\n\t\t\t\t// fillColor: \"#CCCCCC\",\n\t\t\t\talignment: \"right\",\n\t\t\t},\n\t\t\tyellowBlock: {\n\t\t\t\tfillColor: \"yellow\",\n\t\t\t},\n\t\t\tspacer: {\n\t\t\t\tfontSize: 4, // cheat for a spacer between blocks\n\t\t\t},\n\t\t},\n\n\t\tdefaultStyle: {\n\t\t\tfontSize: 13,\n\t\t\tbold: false,\n\t\t},\n\t}\n\treturn pdfMake.createPdf(docDefinition)\n}\n","import React, { ReactElement } from \"react\"\nimport { Typography } from \"@material-ui/core\"\nimport { Link } from \"react-router-dom\"\nimport { PrivateRoutes, routeVarReplacement } from \"../../util/routes/routes\"\n\n/**\n * No canvas data message\n *\n * @export\n * @returns {ReactElement}\n */\nexport default function NoCanvases(): ReactElement {\n\treturn (\n\t\t<>\n\t\t\t<Typography variant=\"h6\">No canvas data found</Typography>\n\t\t\t<Typography>\n\t\t\t\tCheck that you have the correct{\" \"}\n\t\t\t\t<Link to={PrivateRoutes.ClientList}>client selected</Link> or{\" \"}\n\t\t\t\t<Link to={routeVarReplacement(PrivateRoutes.CFC, [[\":id?\", \"\"]])}>\n\t\t\t\t\tstart a new canvas\n\t\t\t\t</Link>\n\t\t\t\t.\n\t\t\t</Typography>\n\t\t</>\n\t)\n}\n","import { excelProcessFile } from \"./ImportDataExcelLib\"\n\nexport const NO_MERGE = \"NO\"\n\nexport type ProcessFileItem = {\n\tid: string // use UUID to for better match with CFC items\n\t// row: number\n\tdescription: string\n\tamount: number\n\ttype:\n\t\t| null // start with null to force a selection\n\t\t| \"in\"\n\t\t| \"out\"\n\t\t| \"debtors\"\n\t\t| \"creditors\"\n\t\t| \"assets\"\n\t\t| \"loans\"\n\t\t| \"stock\"\n\tgst: \"applygst\" | \"nogst\"\n\tmerge: string | null // if to merge into existing line or add new line + force selection if null\n}\n\n// nb. Cant use MIME type to determine which process to use as requires Excel to be installed\n\nexport const generalProcessFile = async (\n\tfileBuffer: any\n): Promise<ProcessFileItem[]> => {\n\tconst res = await excelProcessFile(fileBuffer)\n\tif (!res) {\n\t\talert(`Invalid file. Only Excel files are allowed.`)\n\t\treturn []\n\t}\n\treturn res\n}\n","import { makeStyles } from \"@material-ui/core\"\n\nconst useStyles = makeStyles((theme) => ({\n\tcompareLabel: {\n\t\tdisplay: \"flex\",\n\t\talignItems: \"center\",\n\t},\n\tcompareTooltip: {\n\t\tmarginLeft: theme.spacing(1),\n\t},\n\tcell1: {\n\t\twidth: \"20%\",\n\t},\n\tcellCanvas: {\n\t\twidth: \"20%\",\n\t},\n\tcellDifference: {\n\t\twidth: \"20%\",\n\t},\n\ttableRow: {\n\t\t\"&:hover\": {\n\t\t\tbackground: theme.palette.grey[100],\n\t\t},\n\t},\n\tnoBorderBottom: {\n\t\tborderBottom: \"none\",\n\t},\n\ttable: {\n\t\t[theme.breakpoints.down(\"md\")]: {\n\t\t\tminWidth: theme.breakpoints.values.md,\n\t\t},\n\t},\n\tto: {\n\t\t[theme.breakpoints.down(\"md\")]: {\n\t\t\tmarginTop: -theme.spacing(1),\n\t\t\tmarginBottom: -theme.spacing(1),\n\t\t},\n\t},\n}))\n\nexport default useStyles\n","import React, { ReactElement } from \"react\"\nimport Alert from \"@material-ui/lab/Alert\"\n\n/**\n * Message to display when comparing canvases are in different time frames\n *\n * @export\n * @returns {ReactElement}\n */\nexport default function TimeframeOutOfSync(): ReactElement {\n\treturn (\n\t\t<Alert severity=\"warning\">\n\t\t\tThe two selected canvases are in different time-frames. The calculations\n\t\t\twill not be accurate.\n\t\t</Alert>\n\t)\n}\n","import React, { ReactElement, useMemo, ChangeEvent } from \"react\"\nimport { Typography, Grid, Tooltip } from \"@material-ui/core\"\nimport InfoIcon from \"@material-ui/icons/Info\"\nimport { CompareSelectorProps } from \"./__config/shape\"\nimport SelectField from \"../SelectField\"\nimport { reduceToOptions } from \"./__config/utilities\"\nimport useStyles from \"./__config/styles\"\nimport TimeframeOutOfSync from \"./TimeframeOutOfSync\"\n\nconst tipContent =\n\t\"The canvas with the later date will always move to the left-side of the comparison\"\n\n/**\n * Selector to choose between different canvases\n *\n * @export\n * @param {CompareSelectorProps} {\n * \tselectedCanvases: [leftSelected, rightSelected],\n * \tallCanvases,\n * }\n * @returns {ReactElement}\n */\nexport default function CompareSelector({\n\tselectedCanvases: [leftSelected, rightSelected],\n\tallCanvases,\n\tchangeSelected,\n}: CompareSelectorProps): ReactElement {\n\tconst cls = useStyles()\n\n\tconst selectOptions = useMemo(() => {\n\t\treturn allCanvases.reduce(reduceToOptions(), [])\n\t}, [allCanvases])\n\n\tconst changeSelectedCanvas = (idx: number) => (\n\t\te: ChangeEvent<HTMLInputElement>\n\t): void => {\n\t\tchangeSelected(idx, e.target.value)\n\t}\n\n\treturn (\n\t\t<Grid container spacing={2} alignItems=\"center\">\n\t\t\t<Grid item xs={12} md={3}>\n\t\t\t\t<Typography variant=\"h6\" className={cls.compareLabel}>\n\t\t\t\t\tCompare\n\t\t\t\t\t<Tooltip title={tipContent} className={cls.compareTooltip}>\n\t\t\t\t\t\t<InfoIcon color=\"primary\" />\n\t\t\t\t\t</Tooltip>\n\t\t\t\t</Typography>\n\t\t\t</Grid>\n\t\t\t<Grid item xs={12} md={4}>\n\t\t\t\t<SelectField\n\t\t\t\t\tname=\"left-side-compare\"\n\t\t\t\t\tlabel=\"Canvas\"\n\t\t\t\t\tvalue={leftSelected?.id || -1}\n\t\t\t\t\tonChange={changeSelectedCanvas(0)}\n\t\t\t\t\toptions={selectOptions}\n\t\t\t\t/>\n\t\t\t</Grid>\n\t\t\t<Grid item xs={12} md={1} className={cls.to}>\n\t\t\t\t<Typography align=\"center\" variant=\"overline\" component=\"p\">\n\t\t\t\t\tto\n\t\t\t\t</Typography>\n\t\t\t</Grid>\n\t\t\t<Grid item xs={12} md={4}>\n\t\t\t\t<SelectField\n\t\t\t\t\tname=\"right-side-compare\"\n\t\t\t\t\tlabel=\"Canvas\"\n\t\t\t\t\tvalue={rightSelected?.id || -1}\n\t\t\t\t\tonChange={changeSelectedCanvas(1)}\n\t\t\t\t\toptions={selectOptions}\n\t\t\t\t/>\n\t\t\t</Grid>\n\t\t\t{leftSelected.canvasTimeFrame !== rightSelected.canvasTimeFrame && (\n\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t<TimeframeOutOfSync />\n\t\t\t\t</Grid>\n\t\t\t)}\n\t\t</Grid>\n\t)\n}\n","import React, { ReactElement } from \"react\"\nimport { TableHead, TableRow, TableCell } from \"@material-ui/core\"\nimport { TableHeaderProps } from \"./__config/shape\"\nimport { canvasDisplayTitle } from \"../CFC/__config/utilities\"\nimport useStyles from \"./__config/styles\"\n\n/**\n * Component used as the table header\n *\n * @export\n * @param {TableHeaderProps} {\n * \tselectedCanvases: [left, right],\n * }\n * @returns {ReactElement}\n */\nexport default React.memo(function TableHeader({\n\tselectedCanvases: [left, right],\n}: TableHeaderProps): ReactElement {\n\tconst cls = useStyles()\n\n\treturn (\n\t\t<TableHead>\n\t\t\t<TableRow>\n\t\t\t\t<TableCell className={cls.cell1}>\n\t\t\t\t\t<span className=\"MuiTypography-srOnly\">Cash category</span>\n\t\t\t\t</TableCell>\n\t\t\t\t<TableCell className={cls.cellCanvas} align=\"right\">\n\t\t\t\t\t{canvasDisplayTitle(left)}\n\t\t\t\t</TableCell>\n\t\t\t\t<TableCell className={cls.cellCanvas} align=\"right\">\n\t\t\t\t\t{canvasDisplayTitle(right)}\n\t\t\t\t</TableCell>\n\t\t\t\t<TableCell className={cls.cellDifference} align=\"right\">\n\t\t\t\t\t$ Difference\n\t\t\t\t</TableCell>\n\t\t\t\t<TableCell className={cls.cellDifference} align=\"right\">\n\t\t\t\t\t% Difference\n\t\t\t\t</TableCell>\n\t\t\t</TableRow>\n\t\t</TableHead>\n\t)\n})\n","import React, { ReactElement } from \"react\"\nimport { TableCell, TableRow } from \"@material-ui/core\"\nimport { CanvasItemRowProps } from \"./__config/shape\"\nimport { calculateDifferencePer } from \"./__config/utilities\"\nimport { addDollarSign, formatNumber } from \"../../util/money/formatting\"\nimport useStyles from \"./__config/styles\"\nimport { numOrZero } from \"../../util/reduce/math\"\n\n// export const flipValues = [\"Debtors\", \"Stock\", \"Creditors\"]\n\n/**\n * Used to display the data related to a value for a field in the canvas\n *\n * @export\n * @param {CanvasItemRowProps} {\n * \tvalues: [val1, val2],\n * \tlabel,\n * \tbold\n * \tborder\n * }\n * @returns {ReactElement}\n */\nexport default function CanvasItemRow({\n\tvalues: [val1, val2],\n\tlabel,\n\tbold = false,\n\tborder = true,\n\tflip = false,\n}: CanvasItemRowProps): ReactElement {\n\tconst cls = useStyles()\n\n\treturn (\n\t\t<TableRow className={cls.tableRow}>\n\t\t\t<TableCell\n\t\t\t\tclassName={border ? \"\" : cls.noBorderBottom}\n\t\t\t\tvariant={bold ? \"head\" : \"body\"}\n\t\t\t\tdangerouslySetInnerHTML={{\n\t\t\t\t\t__html: label || \"\",\n\t\t\t\t}}\n\t\t\t/>\n\t\t\t<TableCell\n\t\t\t\tclassName={border ? \"\" : cls.noBorderBottom}\n\t\t\t\tvariant={bold ? \"head\" : \"body\"}\n\t\t\t\talign=\"right\"\n\t\t\t>\n\t\t\t\t{addDollarSign(formatNumber(`${val1}`))}\n\t\t\t</TableCell>\n\t\t\t<TableCell\n\t\t\t\tclassName={border ? \"\" : cls.noBorderBottom}\n\t\t\t\tvariant={bold ? \"head\" : \"body\"}\n\t\t\t\talign=\"right\"\n\t\t\t>\n\t\t\t\t{addDollarSign(formatNumber(`${val2}`))}\n\t\t\t</TableCell>\n\t\t\t<TableCell\n\t\t\t\tclassName={border ? \"\" : cls.noBorderBottom}\n\t\t\t\tvariant={bold ? \"head\" : \"body\"}\n\t\t\t\talign=\"right\"\n\t\t\t>\n\t\t\t\t{addDollarSign(formatNumber(`${numOrZero(val1) - numOrZero(val2)}`))}\n\t\t\t</TableCell>\n\t\t\t<TableCell\n\t\t\t\tclassName={border ? \"\" : cls.noBorderBottom}\n\t\t\t\tvariant={bold ? \"head\" : \"body\"}\n\t\t\t\talign=\"right\"\n\t\t\t>\n\t\t\t\t{calculateDifferencePer(numOrZero(val1), numOrZero(val2), flip)}\n\t\t\t</TableCell>\n\t\t</TableRow>\n\t)\n}\n","import React, { ReactElement, useMemo } from \"react\"\nimport { TableContainer, Table, TableBody, TableCell } from \"@material-ui/core\"\nimport TableHeader from \"./TableHeader\"\nimport CanvasItemRow from \"./CanvasItemRow\"\nimport { CompareTableProps } from \"./__config/shape\"\nimport { calculateInitial } from \"../Forms/CFC\"\nimport { calcCashFlowTotal } from \"../../state/CFC/accumulators\"\nimport useStyles from \"./__config/styles\"\n\n/**\n * The component used to display the data in a table format\n *\n * @export\n * @param {CompareTableProps} {\n * \tselectedCanvases,\n * }\n * @returns {ReactElement}\n */\nexport default function CompareTable({\n\tselectedCanvases,\n}: CompareTableProps): ReactElement {\n\tconst cls = useStyles()\n\n\tconst leftCalculated = useMemo(() => {\n\t\treturn calculateInitial(selectedCanvases[0])\n\t}, [selectedCanvases])\n\n\tconst rightCalculated = useMemo(() => {\n\t\treturn calculateInitial(selectedCanvases[1])\n\t}, [selectedCanvases])\n\n\t/**\n\t * Renders the repeater form values\n\t *\n\t * @param {CashFlow[]} val1\n\t * @param {CashFlow[]} val2\n\t * @returns {ReactElement[]}\n\t */\n\t// function renderRepeaterFields(\n\t// \tval1: CashFlow[],\n\t// \tval2: CashFlow[]\n\t// ): ReactElement[] {\n\t// \tconst len = val1.length > val2.length ? val1.length : val2.length\n\t// \tconst arr = arrayFillWith(len, 0)\n\t// \treturn arr.map((item, idx) => (\n\t// \t\t<CanvasItemRow\n\t// \t\t\tkey={val1[idx]?.id || val2[idx]?.id || newTimestamp()}\n\t// \t\t\tvalues={[val1[idx]?.amount || 0, val2[idx]?.amount || 0]}\n\t// \t\t\tborder={idx >= len - 1}\n\t// \t\t/>\n\t// \t))\n\t// }\n\n\treturn (\n\t\t<TableContainer>\n\t\t\t<Table className={cls.table}>\n\t\t\t\t<TableHeader selectedCanvases={selectedCanvases} />\n\t\t\t\t<TableBody>\n\t\t\t\t\t<CanvasItemRow\n\t\t\t\t\t\tbold\n\t\t\t\t\t\tlabel=\"Opening Balance\"\n\t\t\t\t\t\tvalues={[\n\t\t\t\t\t\t\tselectedCanvases[0].openingBalance,\n\t\t\t\t\t\t\tselectedCanvases[1].openingBalance,\n\t\t\t\t\t\t]}\n\t\t\t\t\t/>\n\t\t\t\t\t<TableCell colSpan={5} variant=\"head\" className={cls.noBorderBottom}>\n\t\t\t\t\t\tCash IN\n\t\t\t\t\t</TableCell>\n\t\t\t\t\t{/* {renderRepeaterFields(\n\t\t\t\t\t\tselectedCanvases[0].cashInItems,\n\t\t\t\t\t\tselectedCanvases[1].cashInItems\n\t\t\t\t\t)} */}\n\t\t\t\t\t<CanvasItemRow\n\t\t\t\t\t\tlabel=\"GST on sales\"\n\t\t\t\t\t\tvalues={[leftCalculated.gstOnSales, rightCalculated.gstOnSales]}\n\t\t\t\t\t/>\n\t\t\t\t\t<CanvasItemRow\n\t\t\t\t\t\tbold\n\t\t\t\t\t\tlabel=\"Total Cash In<br />(exc GST)\"\n\t\t\t\t\t\tvalues={[\n\t\t\t\t\t\t\tcalcCashFlowTotal(\n\t\t\t\t\t\t\t\tselectedCanvases[0].cashInItems,\n\t\t\t\t\t\t\t\tselectedCanvases[0].gstOnSales\n\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\tcalcCashFlowTotal(\n\t\t\t\t\t\t\t\tselectedCanvases[1].cashInItems,\n\t\t\t\t\t\t\t\tselectedCanvases[1].gstOnSales\n\t\t\t\t\t\t\t),\n\t\t\t\t\t\t]}\n\t\t\t\t\t/>\n\t\t\t\t\t<TableCell colSpan={5} variant=\"head\" className={cls.noBorderBottom}>\n\t\t\t\t\t\tCash OUT\n\t\t\t\t\t</TableCell>\n\t\t\t\t\t{/* {renderRepeaterFields(\n\t\t\t\t\t\tselectedCanvases[0].cashOutItems,\n\t\t\t\t\t\tselectedCanvases[1].cashOutItems\n\t\t\t\t\t)} */}\n\t\t\t\t\t<CanvasItemRow\n\t\t\t\t\t\tlabel=\"PAYG Withholding\"\n\t\t\t\t\t\tvalues={[\n\t\t\t\t\t\t\tselectedCanvases[0].paygWithholding,\n\t\t\t\t\t\t\tselectedCanvases[1].paygWithholding,\n\t\t\t\t\t\t]}\n\t\t\t\t\t/>\n\t\t\t\t\t<CanvasItemRow\n\t\t\t\t\t\tlabel=\"Super\"\n\t\t\t\t\t\tvalues={[\n\t\t\t\t\t\t\tselectedCanvases[0].superAmount,\n\t\t\t\t\t\t\tselectedCanvases[1].superAmount,\n\t\t\t\t\t\t]}\n\t\t\t\t\t/>\n\t\t\t\t\t<CanvasItemRow\n\t\t\t\t\t\tlabel=\"GST on Purchases\"\n\t\t\t\t\t\tvalues={[\n\t\t\t\t\t\t\tleftCalculated.gstOnPurchases,\n\t\t\t\t\t\t\trightCalculated.gstOnPurchases,\n\t\t\t\t\t\t]}\n\t\t\t\t\t/>\n\t\t\t\t\t<CanvasItemRow\n\t\t\t\t\t\tbold\n\t\t\t\t\t\tlabel=\"Total Cash Out<br/>(exc GST, PAYG W & Super)\"\n\t\t\t\t\t\tvalues={[\n\t\t\t\t\t\t\tcalcCashFlowTotal(\n\t\t\t\t\t\t\t\tselectedCanvases[0].cashOutItems,\n\t\t\t\t\t\t\t\tselectedCanvases[0].gstOnPurchases\n\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\tcalcCashFlowTotal(\n\t\t\t\t\t\t\t\tselectedCanvases[1].cashOutItems,\n\t\t\t\t\t\t\t\tselectedCanvases[0].gstOnPurchases\n\t\t\t\t\t\t\t),\n\t\t\t\t\t\t]}\n\t\t\t\t\t/>\n\t\t\t\t\t<CanvasItemRow\n\t\t\t\t\t\tbold\n\t\t\t\t\t\tlabel=\"Cash Surplus\"\n\t\t\t\t\t\tvalues={[leftCalculated.cashSurplus, rightCalculated.cashSurplus]}\n\t\t\t\t\t/>\n\t\t\t\t\t<CanvasItemRow\n\t\t\t\t\t\tlabel=\"Income/Company Tax\"\n\t\t\t\t\t\tvalues={[\n\t\t\t\t\t\t\tleftCalculated.incomeTaxPercentage,\n\t\t\t\t\t\t\trightCalculated.incomeTaxPercentage,\n\t\t\t\t\t\t]}\n\t\t\t\t\t/>\n\t\t\t\t\t<CanvasItemRow\n\t\t\t\t\t\tbold\n\t\t\t\t\t\tlabel=\"Available to spend\"\n\t\t\t\t\t\tvalues={[\n\t\t\t\t\t\t\tleftCalculated.availableToSpend,\n\t\t\t\t\t\t\trightCalculated.availableToSpend,\n\t\t\t\t\t\t]}\n\t\t\t\t\t/>\n\t\t\t\t\t<CanvasItemRow\n\t\t\t\t\t\tlabel=\"Cash to Owner\"\n\t\t\t\t\t\tvalues={[\n\t\t\t\t\t\t\tselectedCanvases[0].cashToOwner,\n\t\t\t\t\t\t\tselectedCanvases[1].cashToOwner,\n\t\t\t\t\t\t]}\n\t\t\t\t\t/>\n\t\t\t\t\t<CanvasItemRow\n\t\t\t\t\t\tbold\n\t\t\t\t\t\tlabel=\"Closing balance\"\n\t\t\t\t\t\tvalues={[\n\t\t\t\t\t\t\tleftCalculated.closingBalance,\n\t\t\t\t\t\t\trightCalculated.closingBalance,\n\t\t\t\t\t\t]}\n\t\t\t\t\t/>\n\t\t\t\t\t<CanvasItemRow\n\t\t\t\t\t\tlabel=\"Stock\"\n\t\t\t\t\t\tvalues={[selectedCanvases[0].stock, selectedCanvases[1].stock]}\n\t\t\t\t\t/>\n\t\t\t\t\t<CanvasItemRow\n\t\t\t\t\t\tlabel=\"Debtors\"\n\t\t\t\t\t\tvalues={[selectedCanvases[0].debtors, selectedCanvases[1].debtors]}\n\t\t\t\t\t/>\n\t\t\t\t\t<CanvasItemRow\n\t\t\t\t\t\tlabel=\"Assets\"\n\t\t\t\t\t\tvalues={[selectedCanvases[0].assets, selectedCanvases[1].assets]}\n\t\t\t\t\t/>\n\t\t\t\t\t<CanvasItemRow\n\t\t\t\t\t\tlabel=\"Creditors\"\n\t\t\t\t\t\tvalues={[\n\t\t\t\t\t\t\tselectedCanvases[0].creditors,\n\t\t\t\t\t\t\tselectedCanvases[1].creditors,\n\t\t\t\t\t\t]}\n\t\t\t\t\t/>\n\t\t\t\t\t<CanvasItemRow\n\t\t\t\t\t\tlabel=\"Loans\"\n\t\t\t\t\t\tvalues={[selectedCanvases[0].loans, selectedCanvases[1].loans]}\n\t\t\t\t\t/>\n\t\t\t\t\t<CanvasItemRow\n\t\t\t\t\t\tbold\n\t\t\t\t\t\tlabel=\"Net Position\"\n\t\t\t\t\t\tvalues={[\n\t\t\t\t\t\t\tleftCalculated.totalNetAssets,\n\t\t\t\t\t\t\trightCalculated.totalNetAssets,\n\t\t\t\t\t\t]}\n\t\t\t\t\t/>\n\t\t\t\t</TableBody>\n\t\t\t</Table>\n\t\t</TableContainer>\n\t)\n}\n","import React, { ReactElement } from \"react\"\nimport { Typography } from \"@material-ui/core\"\nimport { Link } from \"react-router-dom\"\nimport { PrivateRoutes, routeVarReplacement } from \"../../util/routes/routes\"\n\n/**\n * Message to display when there are not enough canvases\n *\n * @export\n * @returns {ReactElement}\n */\nexport default function NotEnoughCanvases(): ReactElement {\n\treturn (\n\t\t<>\n\t\t\t<Typography variant=\"h6\">\n\t\t\t\tYou don&apos;t have enough canvases created\n\t\t\t</Typography>\n\t\t\t<Typography>\n\t\t\t\tTo continue, you&apos;ll need at least 2 canvases created. <br /> Check\n\t\t\t\tthat you have the correct{\" \"}\n\t\t\t\t<Link to={PrivateRoutes.ClientList}>client selected</Link> or{\" \"}\n\t\t\t\t<Link to={routeVarReplacement(PrivateRoutes.CFC, [[\":id?\", \"\"]])}>\n\t\t\t\t\tstart a new canvas\n\t\t\t\t</Link>\n\t\t\t\t.\n\t\t\t</Typography>\n\t\t</>\n\t)\n}\n","import React, {\n\tReactElement,\n\tuseCallback,\n\tuseEffect,\n\tuseState,\n\tuseContext,\n} from \"react\"\nimport { Divider } from \"@material-ui/core\"\nimport { useMachine } from \"@xstate/react\"\nimport { isAfter } from \"date-fns\"\nimport CompareSelector from \"./CompareSelector\"\nimport Spacer from \"../Spacer\"\nimport CompareTable from \"./CompareTable\"\nimport fetchMachine from \"../Forms/CFC/__config/machine\"\nimport NoCanvases from \"../CFC/NoCanvases\"\nimport Loading from \"../Loading\"\nimport useCurrentClient from \"../../state/client/useCurrentClient\"\nimport { CFCStruct, CFCId } from \"../../data/_config/shape\"\nimport { getCanvasData, changeSelected } from \"./__config/utilities\"\nimport NotEnoughCanvases from \"./NotEnoughCanvases\"\nimport { CanvasTuple } from \"./__config/shape\"\nimport CFCContext from \"../../state/CFC/context\"\nimport { calculateInitial } from \"../Forms/CFC\"\nimport { CFCActionTypes } from \"../../state/CFC/shape\"\nimport {\n\tcalcQuestionFour,\n\tcalcQuestionOne,\n\tcalcQuestionTwo,\n\tcalcQuestionThree,\n} from \"../CFC/__config/utilities\"\n\n/**\n * Component wrapper to display all the data in the compare table\n *\n * @export\n * @returns {ReactElement}\n */\nexport default function CompareCanvases(): ReactElement {\n\t// #region State Management\n\tconst { dispatch } = useContext(CFCContext)\n\tconst [stateMachine, changeState] = useMachine(fetchMachine)\n\tconst [currentClient, clientSynced] = useCurrentClient()\n\tconst [canvases, setCanvases] = useState<CFCStruct[]>([])\n\tconst [selectedCanvases, setSelectedCanvases] = useState<CanvasTuple>()\n\n\tuseEffect(() => {\n\t\tconst left = selectedCanvases?.[0]\n\t\tconst right = selectedCanvases?.[1]\n\n\t\tif (left && right) {\n\t\t\tconst leftCalc = calculateInitial(left)\n\t\t\tconst rightCalc = calculateInitial(right)\n\n\t\t\tdispatch({\n\t\t\t\ttype: CFCActionTypes.ChangeQuestionValues,\n\t\t\t\tpayload: {\n\t\t\t\t\tone: calcQuestionOne(leftCalc),\n\t\t\t\t\ttwo: calcQuestionTwo(\n\t\t\t\t\t\tleftCalc,\n\t\t\t\t\t\tleft.paygWithholding,\n\t\t\t\t\t\tleft.superAmount,\n\t\t\t\t\t\tleft.incomeTax\n\t\t\t\t\t),\n\t\t\t\t\tthree: calcQuestionThree(\n\t\t\t\t\t\tleft.openingBalance,\n\t\t\t\t\t\tleftCalc,\n\t\t\t\t\t\tleft.incomeTax\n\t\t\t\t\t),\n\t\t\t\t\tfour: calcQuestionFour(leftCalc, rightCalc),\n\t\t\t\t},\n\t\t\t})\n\n\t\t\tdispatch({\n\t\t\t\ttype: CFCActionTypes.ChangeCompare,\n\t\t\t\tpayload: {\n\t\t\t\t\tleft,\n\t\t\t\t\tright,\n\t\t\t\t},\n\t\t\t})\n\t\t}\n\t}, [selectedCanvases, dispatch])\n\t// #endregion\n\n\t// #region Data Fetching\n\tconst fetchCanvasData = useCallback(async () => {\n\t\tconst data = await getCanvasData(currentClient?.id)\n\t\tsetCanvases(data)\n\t\tif (data.length >= 2) {\n\t\t\tconst item1 = data[0]\n\t\t\tconst item2 = data[1]\n\t\t\tsetSelectedCanvases(\n\t\t\t\tisAfter(item1.canvasStartDate, item2.canvasStartDate)\n\t\t\t\t\t? [item1, item2]\n\t\t\t\t\t: [item2, item1]\n\t\t\t)\n\t\t}\n\t\tchangeState(data.length < 2 ? \"REJECT\" : \"RESOLVE\")\n\t}, [currentClient, changeState])\n\n\tuseEffect(() => {\n\t\tif (clientSynced) {\n\t\t\tfetchCanvasData()\n\t\t}\n\t}, [clientSynced, fetchCanvasData])\n\t// #endregion\n\n\t// #region Changing Selected Canvas\n\t/**\n\t * Change the currently selected canvas to compare\n\t *\n\t * @param {number} idx\n\t * @param {CFCId} id\n\t */\n\tfunction changeSelectedCanvas(idx: number, id: CFCId): void {\n\t\tif (!selectedCanvases) return\n\n\t\tconst newSelected = changeSelected(canvases, selectedCanvases, idx, id)\n\t\tsetSelectedCanvases(newSelected)\n\t}\n\t// #endregion\n\n\t// #region Component rendering\n\t/**\n\t * Renders the component based on the current state of the state machine\n\t *\n\t * @returns {ReactElement}\n\t */\n\tfunction renderForStateMachine(): ReactElement {\n\t\tswitch (stateMachine.value) {\n\t\t\tcase \"failure\":\n\t\t\t\treturn canvases.length === 1 ? <NotEnoughCanvases /> : <NoCanvases />\n\t\t\tcase \"success\":\n\t\t\t\treturn (\n\t\t\t\t\t<>\n\t\t\t\t\t\t<CompareSelector\n\t\t\t\t\t\t\t// eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n\t\t\t\t\t\t\tselectedCanvases={selectedCanvases!}\n\t\t\t\t\t\t\tallCanvases={canvases}\n\t\t\t\t\t\t\tchangeSelected={changeSelectedCanvas}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<Spacer />\n\t\t\t\t\t\t<Divider />\n\t\t\t\t\t\t<Spacer />\n\t\t\t\t\t\t{/* eslint-disable-next-line @typescript-eslint/no-non-null-assertion */}\n\t\t\t\t\t\t<CompareTable selectedCanvases={selectedCanvases!} />\n\t\t\t\t\t</>\n\t\t\t\t)\n\t\t\tcase \"loading\":\n\t\t\tdefault:\n\t\t\t\treturn <Loading />\n\t\t}\n\t}\n\n\treturn renderForStateMachine()\n\t// #endregion\n}\n","import React, { ReactElement, useState, useCallback, useEffect } from \"react\"\nimport CompareArrowsIcon from \"@material-ui/icons/CompareArrows\"\nimport { useHistory, useParams } from \"react-router-dom\"\nimport { ListItem, ListItemIcon, ListItemText } from \"@material-ui/core\"\nimport { PrivateRoutes } from \"../../util/routes/routes\"\nimport useCurrentClient from \"../../state/client/useCurrentClient\"\nimport CFCUseCase from \"../../data/CFC/CFCLogic\"\n\nexport default function ControlCompareLink(): ReactElement {\n\tconst history = useHistory()\n\tconst [count, setCount] = useState(0)\n\tconst { id } = useParams()\n\tconst [currentClient, clientSynced] = useCurrentClient()\n\tconst getCount = useCallback(async () => {\n\t\tif (currentClient?.id) {\n\t\t\tconst c = await CFCUseCase.countClientRecords(currentClient.id)\n\t\t\tsetCount(c)\n\t\t}\n\t}, [currentClient, setCount])\n\n\tuseEffect(() => {\n\t\tif (clientSynced) {\n\t\t\tgetCount()\n\t\t}\n\t}, [clientSynced, getCount, id])\n\n\tconst goTo = (route: PrivateRoutes) => (): void => {\n\t\t// eslint-disable-next-line\n\t\thistory.push(route)\n\t}\n\n\tif (count < 2) {\n\t\treturn <></>\n\t}\n\n\treturn (\n\t\t<ListItem button onClick={goTo(PrivateRoutes.CFCCompare)}>\n\t\t\t<ListItemIcon>\n\t\t\t\t<CompareArrowsIcon />\n\t\t\t</ListItemIcon>\n\t\t\t<ListItemText>Compare Canvasses</ListItemText>\n\t\t</ListItem>\n\t)\n}\n","import { makeStyles } from \"@material-ui/core\"\n\nconst useStyles = makeStyles((theme) => ({\n\tbox: {\n\t\tdisplay: \"flex\",\n\t\tjustifyContent: \"flex-end\",\n\t\talignItems: \"center\",\n\t\t[theme.breakpoints.down(\"sm\")]: {\n\t\t\tflexDirection: \"column\",\n\t\t\talignItems: \"flex-start\",\n\t\t},\n\t},\n\tsaveButton: {\n\t\t[theme.breakpoints.up(\"md\")]: {\n\t\t\tmarginLeft: theme.spacing(1),\n\t\t},\n\t},\n}))\n\nexport default useStyles\n","/* eslint-disable */\nimport { ProcessFileItem } from \"./ImportDataGeneralLib\"\nimport { v4 as uuidv4 } from \"uuid\"\nimport XLSX from \"xlsx\"\n\nconst rewritePattern = require(\"regexpu-core\")\n\nconst {\n\tgenerateRegexpuOptions,\n} = require(\"@babel/helper-create-regexp-features-plugin/lib/util\")\n\nconst { RegExp } = global\n\ntry {\n\tnew RegExp(\"a\", \"u\")\n} catch (err) {\n\t// @ts-ignore\n\tglobal.RegExp = function (pattern, flags) {\n\t\tif (flags && flags.includes(\"u\")) {\n\t\t\treturn new RegExp(\n\t\t\t\trewritePattern(\n\t\t\t\t\tpattern,\n\t\t\t\t\tflags,\n\t\t\t\t\tgenerateRegexpuOptions({ flags, pattern })\n\t\t\t\t)\n\t\t\t)\n\t\t}\n\t\treturn new RegExp(pattern, flags)\n\t}\n\t// @ts-ignore\n\tglobal.RegExp.prototype = RegExp\n}\n\nconst excelCreateFromData = async (data: Uint8Array) => {\n\ttry {\n\t\tconst workbook = XLSX.read(data, { type: \"array\" })\n\t\treturn workbook\n\t} catch (err) {\n\t\t// console.log(\"err\", err)\n\t}\n}\n\nconst excelProcessSheet = (data: any[]): ProcessFileItem[] => {\n\tconst result: ProcessFileItem[] = []\n\tdata.filter(Boolean).forEach((values: any[]) => {\n\t\tconst last: any = values.pop()\n\t\tif (typeof last === \"number\") {\n\t\t\tconst description = values.filter(Boolean).join(\" \").trim()\n\t\t\tresult.push({\n\t\t\t\tid: uuidv4(),\n\t\t\t\tdescription,\n\t\t\t\tamount: last,\n\t\t\t\ttype: null,\n\t\t\t\tgst: \"applygst\",\n\t\t\t\tmerge: null,\n\t\t\t})\n\t\t}\n\t})\n\treturn result\n}\n\nconst excelProcessWorkbook = async (\n\tworkbook: XLSX.WorkBook\n): Promise<ProcessFileItem[] | false> => {\n\tconst worksheet = workbook.Sheets[workbook.SheetNames[0]]\n\tconst data = XLSX.utils.sheet_to_json(worksheet, { header: 1 })\n\tif (!data) return false\n\treturn excelProcessSheet(data)\n}\n\nexport const excelProcessFile = async (\n\tdata: Uint8Array\n): Promise<ProcessFileItem[] | false> => {\n\tconst workbook = await excelCreateFromData(data)\n\tif (!workbook) return false\n\treturn excelProcessWorkbook(workbook!)\n}\n","import React, { ReactElement, useState, useContext, useEffect } from \"react\"\nimport { ListItem, ListItemIcon, ListItemText } from \"@material-ui/core\"\nimport FileCopyIcon from \"@material-ui/icons/FileCopy\"\nimport { CopyCanvasDialog } from \"../../content/dialog\"\nimport CFCContext from \"../../state/CFC/context\"\nimport { CFCActionTypes } from \"../../state/CFC/shape\"\n\n/**\n * Component used to trigger the copy canvas modal\n *\n * @export\n * @returns {ReactElement}\n */\nexport default function CopyCanvasTrigger(): ReactElement {\n\tconst [open, setOpen] = useState(false)\n\tconst { dispatch } = useContext(CFCContext)\n\n\tuseEffect(() => {\n\t\tdispatch({\n\t\t\ttype: CFCActionTypes.ChangeCopyCanvasActive,\n\t\t\tpayload: open,\n\t\t})\n\t}, [open, dispatch])\n\n\tconst onClose = (): void => {\n\t\tsetOpen(false)\n\t}\n\tconst onOpen = (): void => {\n\t\tsetOpen(true)\n\t}\n\n\treturn (\n\t\t<>\n\t\t\t<ListItem button onClick={onOpen}>\n\t\t\t\t<ListItemIcon>\n\t\t\t\t\t<FileCopyIcon />\n\t\t\t\t</ListItemIcon>\n\t\t\t\t<ListItemText>Copy Canvas</ListItemText>\n\t\t\t</ListItem>\n\t\t\t<CopyCanvasDialog open={open} onClose={onClose} />\n\t\t</>\n\t)\n}\n","import React, {\n\tReactElement,\n\tcreateRef,\n\tuseState,\n\tuseContext,\n\tuseEffect,\n} from \"react\"\nimport { useParams } from \"react-router-dom\"\nimport {\n\tDialog,\n\tDialogTitle,\n\tDialogContent,\n\tDialogActions,\n\tButton,\n\tTable,\n\tTableRow,\n\tTableBody,\n\tTableCell,\n\tGrid,\n\tTypography,\n\tSelect,\n\tMenuItem,\n\tTableHead,\n} from \"@material-ui/core\"\nimport {\n\tgeneralProcessFile,\n\tNO_MERGE,\n\tProcessFileItem,\n} from \"./lib/ImportDataGeneralLib\"\nimport IconDeleteButton from \"../IconDeleteButton\"\nimport CFCContext from \"../../state/CFC/context\"\nimport CFCUseCase from \"../../data/CFC/CFCLogic\"\nimport { CFCStruct } from \"../../data/_config/shape\"\n\nexport default function ImportDataModal({\n\topen,\n\tonClose,\n}: {\n\topen: boolean\n\tonClose: any\n}): ReactElement {\n\tconst fileRef: any = createRef()\n\tconst [currentItems, setCurrentItems] = useState<ProcessFileItem[]>([])\n\tconst { id: canvasId } = useParams<any>()\n\n\t// Canvas Item Updaters are a list of function from context to update the canvas\n\tconst { canvasItemUpdater } = useContext(CFCContext)\n\n\tconst [canvasData, setCanvasData] = useState<any>()\n\tuseEffect(() => {\n\t\t// load the current canvas so we can merge\n\t\t;(async () => {\n\t\t\tconst t = await CFCUseCase.findById(canvasId)\n\t\t\tsetCanvasData(t)\n\t\t})()\n\t}, [canvasId])\n\n\tconst deleteItem = (id: string) => (event: any): void => {\n\t\tconst newItems = currentItems\n\t\t\t.filter((i) => i.id !== id)\n\t\t\t.map((i) => (i.merge === id ? { ...i, merge: NO_MERGE } : i))\n\t\tsetCurrentItems(newItems)\n\t}\n\n\tconst toggleType = (id: string) => (event: any): void => {\n\t\tconst newItems: ProcessFileItem[] = currentItems.map((i) => {\n\t\t\tif (i.id === id) {\n\t\t\t\treturn {\n\t\t\t\t\t...i,\n\t\t\t\t\ttype: event.target.value as ProcessFileItem[\"type\"],\n\t\t\t\t\tmerge: null,\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn i\n\t\t})\n\t\tsetCurrentItems(newItems)\n\t}\n\n\tconst toggleGST = (id: string) => (event: any): void => {\n\t\tconst newItems: ProcessFileItem[] = currentItems.map((i) => {\n\t\t\tif (i.id === id) {\n\t\t\t\treturn {\n\t\t\t\t\t...i,\n\t\t\t\t\tgst: event.target.value as ProcessFileItem[\"gst\"],\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn i\n\t\t})\n\t\tsetCurrentItems(newItems)\n\t}\n\n\tconst toggleMergeInto = (id: string) => (event: any): void => {\n\t\tconst newItems: ProcessFileItem[] = currentItems.map((i) => {\n\t\t\t// edge case where linked to an item that gets linked - update the link\n\t\t\tif (i.id === id || i.merge === id) {\n\t\t\t\treturn {\n\t\t\t\t\t...i,\n\t\t\t\t\tmerge: event.target.value as ProcessFileItem[\"merge\"],\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn i\n\t\t})\n\t\tsetCurrentItems(newItems)\n\t}\n\n\tconst onOpenFileDialog = () => fileRef!.current.click()\n\n\tconst onFileChange = (event: any) => {\n\t\tconst file = event.target.files[0]\n\t\tconst reader = new FileReader()\n\t\t// eslint-disable-next-line\n\t\treader.onload = async () => {\n\t\t\tif (!reader.result) {\n\t\t\t\talert(\"empty\")\n\t\t\t\treturn\n\t\t\t}\n\t\t\tconst data = new Uint8Array(reader.result as any)\n\t\t\tconst newItems = await generalProcessFile(data)\n\t\t\tsetCurrentItems([...currentItems, ...newItems])\n\t\t}\n\t\treader.readAsArrayBuffer(file)\n\t}\n\n\tconst onEmptyAndClose = () => {\n\t\tsetCurrentItems([]) // clear list\n\t\treturn onClose()\n\t}\n\n\tconst onAddToCanvas = () => {\n\t\tcanvasItemUpdater.forEach((updater) => updater(currentItems))\n\t\treturn onEmptyAndClose()\n\t}\n\n\tconst renderMergeOptions = (\n\t\tparentId: string,\n\t\ttype: string,\n\t\tmerge: string | null,\n\t\tcashItems: CFCStruct[]\n\t) => (\n\t\t<Select value={merge || \"\"} onChange={toggleMergeInto(parentId)}>\n\t\t\t<MenuItem value={NO_MERGE}>Keep item description</MenuItem>\n\t\t\t{\n\t\t\t\t// existing items\n\t\t\t\tcashItems !== undefined &&\n\t\t\t\t\tcashItems\n\t\t\t\t\t\t.filter(({ description }: any) => description) // remove blank lines\n\t\t\t\t\t\t.map(({ id, description }: any) => (\n\t\t\t\t\t\t\t<MenuItem key={id} value={id}>\n\t\t\t\t\t\t\t\tAdd to {description || \"No description\"}\n\t\t\t\t\t\t\t</MenuItem>\n\t\t\t\t\t\t))\n\t\t\t}\n\t\t\t{\n\t\t\t\t// new import items\n\t\t\t\tcurrentItems\n\t\t\t\t\t.filter(\n\t\t\t\t\t\t(i) => i.merge === NO_MERGE && i.type === type && i.id !== parentId\n\t\t\t\t\t)\n\t\t\t\t\t.map(({ id, description }) => (\n\t\t\t\t\t\t<MenuItem key={id} value={id}>\n\t\t\t\t\t\t\tGroup with {description}\n\t\t\t\t\t\t</MenuItem>\n\t\t\t\t\t))\n\t\t\t}\n\t\t</Select>\n\t)\n\n\tconst renderSingleItem = (item: ProcessFileItem): ReactElement => {\n\t\tconst { id, description, amount, type, gst, merge } = item\n\t\treturn (\n\t\t\t<TableRow key={id}>\n\t\t\t\t<TableCell>{description}</TableCell>\n\t\t\t\t<TableCell align=\"right\">${Math.floor(amount)}</TableCell>\n\t\t\t\t<TableCell>\n\t\t\t\t\t<Select value={type || \"\"} onChange={toggleType(id)}>\n\t\t\t\t\t\t<MenuItem value=\"in\">Cash IN</MenuItem>\n\t\t\t\t\t\t<MenuItem value=\"out\">Cash Out</MenuItem>\n\t\t\t\t\t\t<MenuItem value=\"debtors\">Debtors</MenuItem>\n\t\t\t\t\t\t<MenuItem value=\"creditors\">Creditors</MenuItem>\n\t\t\t\t\t\t<MenuItem value=\"assets\">Assets</MenuItem>\n\t\t\t\t\t\t<MenuItem value=\"loans\">Loans</MenuItem>\n\t\t\t\t\t\t<MenuItem value=\"stock\">Stock</MenuItem>\n\t\t\t\t\t</Select>\n\t\t\t\t</TableCell>\n\t\t\t\t<TableCell>\n\t\t\t\t\t{type === \"in\" &&\n\t\t\t\t\t\trenderMergeOptions(id, \"in\", merge, canvasData?.cashInItems)}\n\t\t\t\t\t{type === \"out\" &&\n\t\t\t\t\t\trenderMergeOptions(id, \"out\", merge, canvasData?.cashOutItems)}\n\t\t\t\t</TableCell>\n\t\t\t\t<TableCell>\n\t\t\t\t\t{(type === \"in\" || type === \"out\") && (\n\t\t\t\t\t\t<Select value={gst} onChange={toggleGST(id)}>\n\t\t\t\t\t\t\t<MenuItem value=\"applygst\">Apply GST</MenuItem>\n\t\t\t\t\t\t\t<MenuItem value=\"nogst\">No GST</MenuItem>\n\t\t\t\t\t\t</Select>\n\t\t\t\t\t)}\n\t\t\t\t</TableCell>\n\t\t\t\t<TableCell>\n\t\t\t\t\t<IconDeleteButton onClick={deleteItem(id)} />\n\t\t\t\t</TableCell>\n\t\t\t</TableRow>\n\t\t)\n\t}\n\n\tconst renderItems = (): ReactElement => (\n\t\t<Table size=\"small\">\n\t\t\t<TableHead>\n\t\t\t\t<TableRow>\n\t\t\t\t\t<TableCell>Description</TableCell>\n\t\t\t\t\t<TableCell align=\"right\">Amount</TableCell>\n\t\t\t\t\t<TableCell>Select Type</TableCell>\n\t\t\t\t\t<TableCell>Group Related Items</TableCell>\n\t\t\t\t\t<TableCell>GST</TableCell>\n\t\t\t\t\t<TableCell />\n\t\t\t\t</TableRow>\n\t\t\t</TableHead>\n\t\t\t<TableBody>\n\t\t\t\t{currentItems.map((item) => renderSingleItem(item))}\n\t\t\t</TableBody>\n\t\t</Table>\n\t)\n\n\tconst cashItemCount = (type: \"in\" | \"out\") =>\n\t\tcurrentItems.filter((i) => i.type === type && i.merge === NO_MERGE).length +\n\t\tcanvasData?.cashInItems.filter((i: any) => i.description).length\n\n\tconst noTypeCount = () =>\n\t\tcurrentItems.reduce((a, item) => (item.type ? a : a + 1), 0)\n\n\tconst noGroupCount = () =>\n\t\tcurrentItems.reduce(\n\t\t\t(a, item) =>\n\t\t\t\t(item.type === \"in\" || item.type === \"out\") && !item.merge ? a + 1 : a,\n\t\t\t0\n\t\t)\n\n\tconst renderSubmitButton = () => {\n\t\tif (currentItems.length === 0)\n\t\t\treturn <Button disabled>No items to add</Button>\n\t\tif (cashItemCount(\"in\") > 6) return <Button disabled>Max 6 Cash In</Button>\n\t\tif (cashItemCount(\"out\") > 6)\n\t\t\treturn <Button disabled>Max 6 Cash Out</Button>\n\t\tif (noTypeCount() > 0) return <Button disabled>Missing Types</Button>\n\t\tif (noGroupCount() > 0) return <Button disabled>Missing Groups</Button>\n\t\treturn <Button onClick={onAddToCanvas}>Add To Canvas</Button>\n\t}\n\n\treturn (\n\t\t<>\n\t\t\t<Dialog open={open} fullWidth maxWidth=\"md\">\n\t\t\t\t{currentItems.length === 0 ? (\n\t\t\t\t\t<>\n\t\t\t\t\t\t<DialogTitle>\n\t\t\t\t\t\t\tComplete the following steps to import data into your Cash Flow\n\t\t\t\t\t\t\tCanvas.\n\t\t\t\t\t\t</DialogTitle>\n\t\t\t\t\t\t<DialogContent>\n\t\t\t\t\t\t\t<Grid container spacing={0}>\n\t\t\t\t\t\t\t\t<Grid item xs={6}>\n\t\t\t\t\t\t\t\t\t<ol style={{ paddingRight: 24 }}>\n\t\t\t\t\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t\t\t\t\t<Typography>\n\t\t\t\t\t\t\t\t\t\t\t\tOpen your chosen accounting package. The kit supports\n\t\t\t\t\t\t\t\t\t\t\t\tXero, MYOB, and QuickBooks.\n\t\t\t\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t\t\t\t\t<Typography>\n\t\t\t\t\t\t\t\t\t\t\t\tGo to the reporting section in your accounting package.\n\t\t\t\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t\t\t\t\t<Typography>\n\t\t\t\t\t\t\t\t\t\t\t\tSelect and export the report you would like to use in\n\t\t\t\t\t\t\t\t\t\t\t\tthe kit. It will download as an Excel file.\n\t\t\t\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t\t\t\t\t<Typography>\n\t\t\t\t\t\t\t\t\t\t\t\tReturn to this page and press the open file button.\n\t\t\t\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t\t\t\t\t<Typography>\n\t\t\t\t\t\t\t\t\t\t\t\tSelect the Excel file from your file system.\n\t\t\t\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t\t</ol>\n\t\t\t\t\t\t\t\t\t<Typography>\n\t\t\t\t\t\t\t\t\t\tYour data will then appear in a new screen.\n\t\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t\t<Grid item xs={6}>\n\t\t\t\t\t\t\t\t\t<img\n\t\t\t\t\t\t\t\t\t\tsrc=\"/images/importdata.png\"\n\t\t\t\t\t\t\t\t\t\talt=\"Import Data\"\n\t\t\t\t\t\t\t\t\t\tstyle={{ width: \"100%\", padding: 0 }}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t</DialogContent>\n\t\t\t\t\t\t<DialogActions>\n\t\t\t\t\t\t\t<Button onClick={onOpenFileDialog}>Open File</Button>\n\t\t\t\t\t\t\t<Button onClick={onEmptyAndClose}>Cancel</Button>\n\t\t\t\t\t\t</DialogActions>\n\t\t\t\t\t</>\n\t\t\t\t) : (\n\t\t\t\t\t<>\n\t\t\t\t\t\t<DialogTitle>\n\t\t\t\t\t\t\tFollow these steps to get your data ready to import.\n\t\t\t\t\t\t</DialogTitle>\n\t\t\t\t\t\t<DialogContent>\n\t\t\t\t\t\t\t<ol>\n\t\t\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t\t\t<Typography>\n\t\t\t\t\t\t\t\t\t\tFor each item, choose from the <b>Select Type</b> list.\n\t\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t\t\t<Typography>\n\t\t\t\t\t\t\t\t\t\tFor each Cash IN or Cash OUT item, choose from the{\" \"}\n\t\t\t\t\t\t\t\t\t\t<b>Group Related Items</b> list to either keep the current\n\t\t\t\t\t\t\t\t\t\tCash IN or Cash OUT item description or to group the item\n\t\t\t\t\t\t\t\t\t\twith other related items. Items need to be grouped to a\n\t\t\t\t\t\t\t\t\t\tmaximum of six Cash IN and six Cash OUT items.\n\t\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t\t\t<Typography>\n\t\t\t\t\t\t\t\t\t\tGST classification is defaulted to <b>Apply GST</b>.\n\t\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t\t\t<Typography>\n\t\t\t\t\t\t\t\t\t\tRemove any unwanted items from the list by clicking on the\n\t\t\t\t\t\t\t\t\t\tbin icon.\n\t\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t\t\t<Typography>\n\t\t\t\t\t\t\t\t\t\tPress <b>Add to Canvas</b> to import your data.\n\t\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t</ol>\n\t\t\t\t\t\t\t{renderItems()}\n\t\t\t\t\t\t</DialogContent>\n\t\t\t\t\t\t<DialogActions>\n\t\t\t\t\t\t\t{renderSubmitButton()}\n\t\t\t\t\t\t\t<Button onClick={onEmptyAndClose}>Cancel</Button>\n\t\t\t\t\t\t</DialogActions>\n\t\t\t\t\t</>\n\t\t\t\t)}\n\t\t\t</Dialog>\n\t\t\t<input\n\t\t\t\thidden\n\t\t\t\tid=\"fileUpload\"\n\t\t\t\ttype=\"file\"\n\t\t\t\tref={fileRef}\n\t\t\t\tonChange={onFileChange}\n\t\t\t/>\n\t\t</>\n\t)\n}\n","import pdfMake from \"pdfmake/build/pdfmake\"\nimport pdfFonts from \"pdfmake/build/vfs_fonts\"\nimport { green } from \"@material-ui/core/colors\"\nimport { CFCStruct } from \"../../data/_config/shape\"\nimport { pageDefaultSettings, pageHeading, pagePadding } from \"./PDFLib\"\nimport { canvasDisplayTitle } from \"../CFC/__config/utilities\"\nimport { addDollarSign, formatNumber } from \"../../util/money/formatting\"\nimport { calculateDifferencePer } from \"../CFCCompare/__config/utilities\"\nimport { calculateInitial } from \"../Forms/CFC\"\nimport { calcCashFlowTotal } from \"../../state/CFC/accumulators\"\n// import arrayFillWith from \"../../util/array/arrayFillWith\"\n\npdfMake.vfs = pdfFonts.pdfMake.vfs\n\nconst rowValue = (values: [number, number], flip = false): any[] => {\n\tconst [val1, val2] = values\n\treturn [\n\t\t{ text: addDollarSign(formatNumber(`${val1}`)), alignment: \"right\" },\n\t\t{ text: addDollarSign(formatNumber(`${val2}`)), alignment: \"right\" },\n\t\t{ text: addDollarSign(formatNumber(`${val1 - val2}`)), alignment: \"right\" },\n\t\t{ text: calculateDifferencePer(val1, val2, flip), alignment: \"right\" },\n\t]\n}\n\n// function renderRepeaterFields(val1: CashFlow[], val2: CashFlow[]): string[][] {\n// \tconst len = val1.length > val2.length ? val1.length : val2.length\n// \tconst arr = arrayFillWith(len, 0)\n// \treturn arr.map((item, idx) => [\n// \t\t\"\",\n// \t\t...rowValue([val1[idx]?.amount || 0, val2[idx]?.amount || 0]),\n// \t])\n// }\n\nexport default async (\n\tleftSelected: CFCStruct,\n\trightSelected: CFCStruct\n): Promise<pdfMake.TCreatedPdf> => {\n\tconst leftCalc = calculateInitial(leftSelected)\n\tconst rightCalc = calculateInitial(rightSelected)\n\n\tconst docDefinition: any = {\n\t\t...pageDefaultSettings(),\n\t\tcontent: [\n\t\t\tpageHeading(\"Canvas Comparison\"),\n\t\t\tpagePadding([\n\t\t\t\t{\n\t\t\t\t\ttable: {\n\t\t\t\t\t\twidth: [\"*\", \"*\", \"*\", \"*\", \"*\"],\n\t\t\t\t\t\tbody: [\n\t\t\t\t\t\t\t[\n\t\t\t\t\t\t\t\t\"\",\n\t\t\t\t\t\t\t\t{ text: canvasDisplayTitle(leftSelected), bold: true },\n\t\t\t\t\t\t\t\t{ text: canvasDisplayTitle(rightSelected), bold: true },\n\t\t\t\t\t\t\t\t{ text: \"$ Difference\", bold: true },\n\t\t\t\t\t\t\t\t{ text: \"% Difference\", bold: true },\n\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\t[\n\t\t\t\t\t\t\t\t{ text: \"Opening balance\", bold: true },\n\t\t\t\t\t\t\t\t...rowValue([\n\t\t\t\t\t\t\t\t\tleftSelected.openingBalance,\n\t\t\t\t\t\t\t\t\trightSelected.openingBalance,\n\t\t\t\t\t\t\t\t]),\n\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\t[{ text: \"Cash In\", colSpan: 5, bold: true }, \"\", \"\", \"\", \"\"],\n\t\t\t\t\t\t\t// ...renderRepeaterFields(\n\t\t\t\t\t\t\t// \tleftSelected.cashInItems,\n\t\t\t\t\t\t\t// \trightSelected.cashInItems\n\t\t\t\t\t\t\t// ),\n\t\t\t\t\t\t\t[\n\t\t\t\t\t\t\t\t\"GST on sales\",\n\t\t\t\t\t\t\t\t...rowValue([leftCalc.gstOnSales, rightCalc.gstOnSales]),\n\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\t[\n\t\t\t\t\t\t\t\t{ text: \"Total Cash In\\n(exc GST)\", bold: true },\n\t\t\t\t\t\t\t\t...rowValue([\n\t\t\t\t\t\t\t\t\tcalcCashFlowTotal(\n\t\t\t\t\t\t\t\t\t\tleftSelected.cashInItems,\n\t\t\t\t\t\t\t\t\t\tleftSelected.gstOnSales\n\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t\tcalcCashFlowTotal(\n\t\t\t\t\t\t\t\t\t\trightSelected.cashInItems,\n\t\t\t\t\t\t\t\t\t\trightSelected.gstOnSales\n\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t]),\n\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\t[{ text: \"Cash Out\", colSpan: 5, bold: true }, \"\", \"\", \"\", \"\"],\n\t\t\t\t\t\t\t// ...renderRepeaterFields(\n\t\t\t\t\t\t\t// \tleftSelected.cashOutItems,\n\t\t\t\t\t\t\t// \trightSelected.cashOutItems\n\t\t\t\t\t\t\t// ),\n\t\t\t\t\t\t\t[\n\t\t\t\t\t\t\t\t\"PAYG Withholding\",\n\t\t\t\t\t\t\t\t...rowValue([\n\t\t\t\t\t\t\t\t\tleftSelected.paygWithholding,\n\t\t\t\t\t\t\t\t\trightSelected.paygWithholding,\n\t\t\t\t\t\t\t\t]),\n\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\t[\n\t\t\t\t\t\t\t\t\"Super\",\n\t\t\t\t\t\t\t\t...rowValue([\n\t\t\t\t\t\t\t\t\tleftSelected.superAmount,\n\t\t\t\t\t\t\t\t\trightSelected.superAmount,\n\t\t\t\t\t\t\t\t]),\n\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\t[\n\t\t\t\t\t\t\t\t\"GST on Purchases\",\n\t\t\t\t\t\t\t\t...rowValue([\n\t\t\t\t\t\t\t\t\tleftCalc.gstOnPurchases,\n\t\t\t\t\t\t\t\t\trightCalc.gstOnPurchases,\n\t\t\t\t\t\t\t\t]),\n\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\t[\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\ttext: \"Total Cash Out\\n(exc GST, PAYG W & Super)\",\n\t\t\t\t\t\t\t\t\tbold: true,\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t...rowValue([\n\t\t\t\t\t\t\t\t\tcalcCashFlowTotal(\n\t\t\t\t\t\t\t\t\t\tleftSelected.cashOutItems,\n\t\t\t\t\t\t\t\t\t\tleftSelected.gstOnPurchases\n\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t\tcalcCashFlowTotal(\n\t\t\t\t\t\t\t\t\t\trightSelected.cashOutItems,\n\t\t\t\t\t\t\t\t\t\trightSelected.gstOnPurchases\n\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t]),\n\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\t[\n\t\t\t\t\t\t\t\t{ text: \"Cash Surplus\", bold: true },\n\t\t\t\t\t\t\t\t...rowValue([leftCalc.cashSurplus, rightCalc.cashSurplus]),\n\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\t[\n\t\t\t\t\t\t\t\t\"Income/Company Tax\",\n\t\t\t\t\t\t\t\t...rowValue([\n\t\t\t\t\t\t\t\t\tleftCalc.incomeTaxPercentage,\n\t\t\t\t\t\t\t\t\trightCalc.incomeTaxPercentage,\n\t\t\t\t\t\t\t\t]),\n\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\t[\n\t\t\t\t\t\t\t\t{ text: \"Available to spend\", bold: true },\n\t\t\t\t\t\t\t\t...rowValue([\n\t\t\t\t\t\t\t\t\tleftCalc.availableToSpend,\n\t\t\t\t\t\t\t\t\trightCalc.availableToSpend,\n\t\t\t\t\t\t\t\t]),\n\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\t[\n\t\t\t\t\t\t\t\t\"Cash to owner\",\n\t\t\t\t\t\t\t\t...rowValue([\n\t\t\t\t\t\t\t\t\tleftSelected.cashToOwner,\n\t\t\t\t\t\t\t\t\trightSelected.cashToOwner,\n\t\t\t\t\t\t\t\t]),\n\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\t[\n\t\t\t\t\t\t\t\t{ text: \"Closing balance\", bold: true },\n\t\t\t\t\t\t\t\t...rowValue([\n\t\t\t\t\t\t\t\t\tleftCalc.closingBalance,\n\t\t\t\t\t\t\t\t\trightCalc.closingBalance,\n\t\t\t\t\t\t\t\t]),\n\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\t[\"Stock\", ...rowValue([leftSelected.stock, rightSelected.stock])],\n\t\t\t\t\t\t\t[\n\t\t\t\t\t\t\t\t\"Debtors\",\n\t\t\t\t\t\t\t\t...rowValue([leftSelected.debtors, rightSelected.debtors]),\n\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\t[\n\t\t\t\t\t\t\t\t\"Assets\",\n\t\t\t\t\t\t\t\t...rowValue([leftSelected.assets, rightSelected.assets]),\n\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\t[\n\t\t\t\t\t\t\t\t\"Creditors\",\n\t\t\t\t\t\t\t\t...rowValue([leftSelected.creditors, rightSelected.creditors]),\n\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\t[\"Loans\", ...rowValue([leftSelected.loans, rightSelected.loans])],\n\t\t\t\t\t\t\t[\n\t\t\t\t\t\t\t\t{ text: \"Net position\", bold: true },\n\t\t\t\t\t\t\t\t...rowValue([\n\t\t\t\t\t\t\t\t\tleftCalc.totalNetAssets,\n\t\t\t\t\t\t\t\t\trightCalc.totalNetAssets,\n\t\t\t\t\t\t\t\t]),\n\t\t\t\t\t\t\t],\n\t\t\t\t\t\t],\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t]),\n\t\t],\n\t\tstyles: {\n\t\t\tpageHeader: {\n\t\t\t\tfontSize: 20,\n\t\t\t\tbold: true,\n\t\t\t\tfillColor: green[\"800\"],\n\t\t\t\tcolor: \"white\",\n\t\t\t\talignment: \"center\",\n\t\t\t},\n\t\t},\n\t\tdefaultStyles: {\n\t\t\tfontSize: 15,\n\t\t\tbold: false,\n\t\t\tcolor: \"#000\",\n\t\t},\n\t}\n\n\treturn pdfMake.createPdf(docDefinition)\n}\n","import React, { ReactElement, useState, useContext } from \"react\"\nimport PictureAsPdfIcon from \"@material-ui/icons/PictureAsPdf\"\nimport { List, ListItem, ListItemIcon, ListItemText } from \"@material-ui/core\"\nimport AddIcon from \"@material-ui/icons/Add\"\nimport { useHistory, useLocation, useParams } from \"react-router-dom\"\nimport FormatListNumberedIcon from \"@material-ui/icons/FormatListNumbered\"\nimport GetAppIcon from \"@material-ui/icons/GetApp\"\nimport ExpandableNav from \"../ExpandableNav\"\nimport { PrivateRoutes } from \"../../util/routes/routes\"\nimport CopyCanvasTrigger from \"./CopyCanvasTrigger\"\nimport { ControlCompareLink } from \"../CFCCompare\"\nimport ImportDataModal from \"../ImportDataModal/ImportDataModal\"\nimport CFCUseCase from \"../../data/CFC/CFCLogic\"\nimport CashFlowCanvasPDF from \"../PDF/CashFlowCanvasPDF\"\nimport useCurrentClient from \"../../state/client/useCurrentClient\"\nimport CFCContext from \"../../state/CFC/context\"\nimport CFCComparePDF from \"../PDF/CFCComparePDF\"\nimport servePDF from \"../PDF/servePDF\"\n\n/**\n * Canvas page control panel component\n *\n * @export\n * @returns {ReactElement}\n */\nexport default function ControlPanel(): ReactElement {\n\tconst history = useHistory()\n\tconst location = useLocation()\n\tconst [importDataOpen, setImportDataOpen] = useState<boolean>(false)\n\tconst { id: canvasId } = useParams()\n\tconst [currentClient] = useCurrentClient()\n\tconst { leftCompare, rightCompare } = useContext(CFCContext)\n\tconst { questionValues } = useContext(CFCContext)\n\n\tconst goTo = (route: PrivateRoutes) => (): void => {\n\t\t// eslint-disable-next-line\n\t\thistory.push(route)\n\t}\n\n\tconst isNewPage = (): boolean => {\n\t\treturn location.pathname === PrivateRoutes.CFC\n\t}\n\n\tconst isCompare = (): boolean => {\n\t\treturn location.pathname === PrivateRoutes.CFCCompare\n\t}\n\n\tconst importData = () => {\n\t\tsetImportDataOpen(!importDataOpen)\n\t}\n\n\tconst printPDF = async () => {\n\t\tif (canvasId && typeof canvasId === \"string\" && !isCompare()) {\n\t\t\tconst data = await CFCUseCase.findById(canvasId)\n\t\t\tif (data === undefined) alert(\"no data\")\n\t\t\telse {\n\t\t\t\tconst pdf = await CashFlowCanvasPDF(\n\t\t\t\t\tcurrentClient?.name ?? \"Client\",\n\t\t\t\t\tdata,\n\t\t\t\t\tquestionValues\n\t\t\t\t)\n\t\t\t\tservePDF(pdf)\n\t\t\t}\n\t\t}\n\n\t\tif (isCompare()) {\n\t\t\tif (leftCompare && rightCompare) {\n\t\t\t\tconst pdf = await CFCComparePDF(leftCompare, rightCompare)\n\t\t\t\tservePDF(pdf)\n\t\t\t}\n\t\t}\n\t}\n\n\treturn (\n\t\t<ExpandableNav reactourLabel=\"canvas-control-panel\">\n\t\t\t{importDataOpen && <ImportDataModal open onClose={importData} />}\n\t\t\t<List component=\"nav\" disablePadding>\n\t\t\t\t{!isNewPage() && !isCompare() && <CopyCanvasTrigger />}\n\t\t\t\t{(!isNewPage() || isCompare()) && (\n\t\t\t\t\t<ListItem button onClick={goTo(PrivateRoutes.CFC)}>\n\t\t\t\t\t\t<ListItemIcon>\n\t\t\t\t\t\t\t<AddIcon />\n\t\t\t\t\t\t</ListItemIcon>\n\t\t\t\t\t\t<ListItemText>Create new Canvas</ListItemText>\n\t\t\t\t\t</ListItem>\n\t\t\t\t)}\n\t\t\t\t{!isNewPage() && !isCompare() && (\n\t\t\t\t\t<ListItem button onClick={importData}>\n\t\t\t\t\t\t<ListItemIcon>\n\t\t\t\t\t\t\t<GetAppIcon />\n\t\t\t\t\t\t</ListItemIcon>\n\t\t\t\t\t\t<ListItemText>Import data</ListItemText>\n\t\t\t\t\t</ListItem>\n\t\t\t\t)}\n\t\t\t\t<ListItem button onClick={goTo(PrivateRoutes.CFCListing)}>\n\t\t\t\t\t<ListItemIcon>\n\t\t\t\t\t\t<FormatListNumberedIcon />\n\t\t\t\t\t</ListItemIcon>\n\t\t\t\t\t<ListItemText>List of Canvasses</ListItemText>\n\t\t\t\t</ListItem>\n\t\t\t\t{!isCompare() && !isNewPage() && <ControlCompareLink />}\n\t\t\t\t{!isNewPage() && (\n\t\t\t\t\t<ListItem button>\n\t\t\t\t\t\t<ListItemIcon>\n\t\t\t\t\t\t\t<PictureAsPdfIcon />\n\t\t\t\t\t\t</ListItemIcon>\n\t\t\t\t\t\t<ListItemText onClick={printPDF}>Generate PDF</ListItemText>\n\t\t\t\t\t</ListItem>\n\t\t\t\t)}\n\t\t\t</List>\n\t\t</ExpandableNav>\n\t)\n}\n","import React, { ReactElement } from \"react\"\nimport { List, ListItem, ListItemText, Box } from \"@material-ui/core\"\nimport { fourQuestionsContent, answerTheming } from \"../_config/data\"\nimport useFourQsStyles from \"./_config/styles\"\nimport { IFourQuestionsProps } from \"./_config/shape\"\nimport { answerText } from \"./_config/utilities\"\nimport ExpandableNav from \"../../ExpandableNav\"\nimport { getOptionByAnswer } from \"../_config/utilities\"\nimport { QuestionOptions } from \"../_config/shape\"\n\n/**\n * Component to render the Four key questions with optional\n * answers, used on the questionnaire summary page\n *\n * @param {QuestionOptions[]} { answers? }\n * @returns ReactElement\n */\nconst FourQuestions = ({ answers }: IFourQuestionsProps): ReactElement => {\n\tconst styles = useFourQsStyles()\n\n\t/**\n\t * Renders the answer related icon next to the question\n\t *\n\t * @param {QuestionOptions} answer\n\t * @returns {ReactElement}\n\t */\n\tconst getIcon = (answer: QuestionOptions): ReactElement => {\n\t\tconst opt = getOptionByAnswer(answer, answerTheming)\n\t\tif (opt) {\n\t\t\treturn <opt.Icon style={{ color: opt.color }} />\n\t\t}\n\n\t\treturn <></>\n\t}\n\n\treturn (\n\t\t<ExpandableNav\n\t\t\ttitle=\"Four Key Questions\"\n\t\t\treactourLabel=\"four-questions-nav\"\n\t\t>\n\t\t\t<Box className={styles.box}>\n\t\t\t\t<List className={styles.list}>\n\t\t\t\t\t{fourQuestionsContent.map(\n\t\t\t\t\t\t(content: string, idx: number): ReactElement => (\n\t\t\t\t\t\t\t<Box key={content} component=\"li\">\n\t\t\t\t\t\t\t\t<ListItem\n\t\t\t\t\t\t\t\t\tcomponent=\"div\"\n\t\t\t\t\t\t\t\t\tclassName={`${styles.listItem} ${\n\t\t\t\t\t\t\t\t\t\tidx === 0 ? styles.listItemFirst : \"\"\n\t\t\t\t\t\t\t\t\t}`}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<ListItemText className={styles.listItemText}>\n\t\t\t\t\t\t\t\t\t\t{`${idx + 1}. ${content}`}\n\t\t\t\t\t\t\t\t\t\t<Box className={styles.answerIconRoot}>\n\t\t\t\t\t\t\t\t\t\t\t{answers?.[idx] && getIcon(answers[idx])}\n\t\t\t\t\t\t\t\t\t\t\t{answerText(idx, answers)}\n\t\t\t\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t\t\t</ListItemText>\n\t\t\t\t\t\t\t\t</ListItem>\n\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t)\n\t\t\t\t\t)}\n\t\t\t\t</List>\n\t\t\t</Box>\n\t\t</ExpandableNav>\n\t)\n}\n\nexport default FourQuestions\n","/* eslint-disable import/prefer-default-export */\n\nimport React, { ReactElement } from \"react\"\nimport { Typography } from \"@material-ui/core\"\nimport { QuestionOptions } from \"../../_config/shape\"\nimport { getOptionByAnswer } from \"../../_config/utilities\"\nimport { answerTheming, questions } from \"../../_config/data\"\n\n/**\n * Checks if a question has a answer and displays the answer\n * with a theme\n *\n * @param {number} idx Question index\n * @param {QuestionOptions[]|undefined} answers Answers given in the quiz\n * @returns (boolean | ReactElement)\n */\nexport const answerText = (\n\tidx: number,\n\tanswers: QuestionOptions[] | undefined\n): ReactElement | boolean => {\n\tif (answers && typeof answers[idx] !== \"undefined\") {\n\t\tconst { color } = getOptionByAnswer(answers[idx], answerTheming)\n\t\treturn (\n\t\t\t<Typography style={{ color, fontWeight: 500 }}>\n\t\t\t\t{questions[idx].options[answers[idx]]}\n\t\t\t</Typography>\n\t\t)\n\t}\n\n\treturn false\n}\n","var map = {\n\t\"./Binary_Property/ASCII.js\": 969,\n\t\"./Binary_Property/ASCII_Hex_Digit.js\": 970,\n\t\"./Binary_Property/Alphabetic.js\": 971,\n\t\"./Binary_Property/Any.js\": 972,\n\t\"./Binary_Property/Assigned.js\": 973,\n\t\"./Binary_Property/Bidi_Control.js\": 974,\n\t\"./Binary_Property/Bidi_Mirrored.js\": 975,\n\t\"./Binary_Property/Case_Ignorable.js\": 976,\n\t\"./Binary_Property/Cased.js\": 977,\n\t\"./Binary_Property/Changes_When_Casefolded.js\": 978,\n\t\"./Binary_Property/Changes_When_Casemapped.js\": 979,\n\t\"./Binary_Property/Changes_When_Lowercased.js\": 980,\n\t\"./Binary_Property/Changes_When_NFKC_Casefolded.js\": 981,\n\t\"./Binary_Property/Changes_When_Titlecased.js\": 982,\n\t\"./Binary_Property/Changes_When_Uppercased.js\": 983,\n\t\"./Binary_Property/Dash.js\": 984,\n\t\"./Binary_Property/Default_Ignorable_Code_Point.js\": 985,\n\t\"./Binary_Property/Deprecated.js\": 986,\n\t\"./Binary_Property/Diacritic.js\": 987,\n\t\"./Binary_Property/Emoji.js\": 988,\n\t\"./Binary_Property/Emoji_Component.js\": 989,\n\t\"./Binary_Property/Emoji_Modifier.js\": 990,\n\t\"./Binary_Property/Emoji_Modifier_Base.js\": 991,\n\t\"./Binary_Property/Emoji_Presentation.js\": 992,\n\t\"./Binary_Property/Extended_Pictographic.js\": 993,\n\t\"./Binary_Property/Extender.js\": 994,\n\t\"./Binary_Property/Grapheme_Base.js\": 995,\n\t\"./Binary_Property/Grapheme_Extend.js\": 996,\n\t\"./Binary_Property/Hex_Digit.js\": 997,\n\t\"./Binary_Property/IDS_Binary_Operator.js\": 998,\n\t\"./Binary_Property/IDS_Trinary_Operator.js\": 999,\n\t\"./Binary_Property/ID_Continue.js\": 1000,\n\t\"./Binary_Property/ID_Start.js\": 1001,\n\t\"./Binary_Property/Ideographic.js\": 1002,\n\t\"./Binary_Property/Join_Control.js\": 1003,\n\t\"./Binary_Property/Logical_Order_Exception.js\": 1004,\n\t\"./Binary_Property/Lowercase.js\": 1005,\n\t\"./Binary_Property/Math.js\": 1006,\n\t\"./Binary_Property/Noncharacter_Code_Point.js\": 1007,\n\t\"./Binary_Property/Pattern_Syntax.js\": 1008,\n\t\"./Binary_Property/Pattern_White_Space.js\": 1009,\n\t\"./Binary_Property/Quotation_Mark.js\": 1010,\n\t\"./Binary_Property/Radical.js\": 1011,\n\t\"./Binary_Property/Regional_Indicator.js\": 1012,\n\t\"./Binary_Property/Sentence_Terminal.js\": 1013,\n\t\"./Binary_Property/Soft_Dotted.js\": 1014,\n\t\"./Binary_Property/Terminal_Punctuation.js\": 1015,\n\t\"./Binary_Property/Unified_Ideograph.js\": 1016,\n\t\"./Binary_Property/Uppercase.js\": 1017,\n\t\"./Binary_Property/Variation_Selector.js\": 1018,\n\t\"./Binary_Property/White_Space.js\": 1019,\n\t\"./Binary_Property/XID_Continue.js\": 1020,\n\t\"./Binary_Property/XID_Start.js\": 1021,\n\t\"./General_Category/Cased_Letter.js\": 1022,\n\t\"./General_Category/Close_Punctuation.js\": 1023,\n\t\"./General_Category/Connector_Punctuation.js\": 1024,\n\t\"./General_Category/Control.js\": 1025,\n\t\"./General_Category/Currency_Symbol.js\": 1026,\n\t\"./General_Category/Dash_Punctuation.js\": 1027,\n\t\"./General_Category/Decimal_Number.js\": 1028,\n\t\"./General_Category/Enclosing_Mark.js\": 1029,\n\t\"./General_Category/Final_Punctuation.js\": 1030,\n\t\"./General_Category/Format.js\": 1031,\n\t\"./General_Category/Initial_Punctuation.js\": 1032,\n\t\"./General_Category/Letter.js\": 1033,\n\t\"./General_Category/Letter_Number.js\": 1034,\n\t\"./General_Category/Line_Separator.js\": 1035,\n\t\"./General_Category/Lowercase_Letter.js\": 1036,\n\t\"./General_Category/Mark.js\": 1037,\n\t\"./General_Category/Math_Symbol.js\": 1038,\n\t\"./General_Category/Modifier_Letter.js\": 1039,\n\t\"./General_Category/Modifier_Symbol.js\": 1040,\n\t\"./General_Category/Nonspacing_Mark.js\": 1041,\n\t\"./General_Category/Number.js\": 1042,\n\t\"./General_Category/Open_Punctuation.js\": 1043,\n\t\"./General_Category/Other.js\": 1044,\n\t\"./General_Category/Other_Letter.js\": 1045,\n\t\"./General_Category/Other_Number.js\": 1046,\n\t\"./General_Category/Other_Punctuation.js\": 1047,\n\t\"./General_Category/Other_Symbol.js\": 1048,\n\t\"./General_Category/Paragraph_Separator.js\": 1049,\n\t\"./General_Category/Private_Use.js\": 1050,\n\t\"./General_Category/Punctuation.js\": 1051,\n\t\"./General_Category/Separator.js\": 1052,\n\t\"./General_Category/Space_Separator.js\": 1053,\n\t\"./General_Category/Spacing_Mark.js\": 1054,\n\t\"./General_Category/Surrogate.js\": 1055,\n\t\"./General_Category/Symbol.js\": 1056,\n\t\"./General_Category/Titlecase_Letter.js\": 1057,\n\t\"./General_Category/Unassigned.js\": 1058,\n\t\"./General_Category/Uppercase_Letter.js\": 1059,\n\t\"./Script/Adlam.js\": 1060,\n\t\"./Script/Ahom.js\": 1061,\n\t\"./Script/Anatolian_Hieroglyphs.js\": 1062,\n\t\"./Script/Arabic.js\": 1063,\n\t\"./Script/Armenian.js\": 1064,\n\t\"./Script/Avestan.js\": 1065,\n\t\"./Script/Balinese.js\": 1066,\n\t\"./Script/Bamum.js\": 1067,\n\t\"./Script/Bassa_Vah.js\": 1068,\n\t\"./Script/Batak.js\": 1069,\n\t\"./Script/Bengali.js\": 1070,\n\t\"./Script/Bhaiksuki.js\": 1071,\n\t\"./Script/Bopomofo.js\": 1072,\n\t\"./Script/Brahmi.js\": 1073,\n\t\"./Script/Braille.js\": 1074,\n\t\"./Script/Buginese.js\": 1075,\n\t\"./Script/Buhid.js\": 1076,\n\t\"./Script/Canadian_Aboriginal.js\": 1077,\n\t\"./Script/Carian.js\": 1078,\n\t\"./Script/Caucasian_Albanian.js\": 1079,\n\t\"./Script/Chakma.js\": 1080,\n\t\"./Script/Cham.js\": 1081,\n\t\"./Script/Cherokee.js\": 1082,\n\t\"./Script/Chorasmian.js\": 1083,\n\t\"./Script/Common.js\": 1084,\n\t\"./Script/Coptic.js\": 1085,\n\t\"./Script/Cuneiform.js\": 1086,\n\t\"./Script/Cypriot.js\": 1087,\n\t\"./Script/Cyrillic.js\": 1088,\n\t\"./Script/Deseret.js\": 1089,\n\t\"./Script/Devanagari.js\": 1090,\n\t\"./Script/Dives_Akuru.js\": 1091,\n\t\"./Script/Dogra.js\": 1092,\n\t\"./Script/Duployan.js\": 1093,\n\t\"./Script/Egyptian_Hieroglyphs.js\": 1094,\n\t\"./Script/Elbasan.js\": 1095,\n\t\"./Script/Elymaic.js\": 1096,\n\t\"./Script/Ethiopic.js\": 1097,\n\t\"./Script/Georgian.js\": 1098,\n\t\"./Script/Glagolitic.js\": 1099,\n\t\"./Script/Gothic.js\": 1100,\n\t\"./Script/Grantha.js\": 1101,\n\t\"./Script/Greek.js\": 1102,\n\t\"./Script/Gujarati.js\": 1103,\n\t\"./Script/Gunjala_Gondi.js\": 1104,\n\t\"./Script/Gurmukhi.js\": 1105,\n\t\"./Script/Han.js\": 1106,\n\t\"./Script/Hangul.js\": 1107,\n\t\"./Script/Hanifi_Rohingya.js\": 1108,\n\t\"./Script/Hanunoo.js\": 1109,\n\t\"./Script/Hatran.js\": 1110,\n\t\"./Script/Hebrew.js\": 1111,\n\t\"./Script/Hiragana.js\": 1112,\n\t\"./Script/Imperial_Aramaic.js\": 1113,\n\t\"./Script/Inherited.js\": 1114,\n\t\"./Script/Inscriptional_Pahlavi.js\": 1115,\n\t\"./Script/Inscriptional_Parthian.js\": 1116,\n\t\"./Script/Javanese.js\": 1117,\n\t\"./Script/Kaithi.js\": 1118,\n\t\"./Script/Kannada.js\": 1119,\n\t\"./Script/Katakana.js\": 1120,\n\t\"./Script/Kayah_Li.js\": 1121,\n\t\"./Script/Kharoshthi.js\": 1122,\n\t\"./Script/Khitan_Small_Script.js\": 1123,\n\t\"./Script/Khmer.js\": 1124,\n\t\"./Script/Khojki.js\": 1125,\n\t\"./Script/Khudawadi.js\": 1126,\n\t\"./Script/Lao.js\": 1127,\n\t\"./Script/Latin.js\": 1128,\n\t\"./Script/Lepcha.js\": 1129,\n\t\"./Script/Limbu.js\": 1130,\n\t\"./Script/Linear_A.js\": 1131,\n\t\"./Script/Linear_B.js\": 1132,\n\t\"./Script/Lisu.js\": 1133,\n\t\"./Script/Lycian.js\": 1134,\n\t\"./Script/Lydian.js\": 1135,\n\t\"./Script/Mahajani.js\": 1136,\n\t\"./Script/Makasar.js\": 1137,\n\t\"./Script/Malayalam.js\": 1138,\n\t\"./Script/Mandaic.js\": 1139,\n\t\"./Script/Manichaean.js\": 1140,\n\t\"./Script/Marchen.js\": 1141,\n\t\"./Script/Masaram_Gondi.js\": 1142,\n\t\"./Script/Medefaidrin.js\": 1143,\n\t\"./Script/Meetei_Mayek.js\": 1144,\n\t\"./Script/Mende_Kikakui.js\": 1145,\n\t\"./Script/Meroitic_Cursive.js\": 1146,\n\t\"./Script/Meroitic_Hieroglyphs.js\": 1147,\n\t\"./Script/Miao.js\": 1148,\n\t\"./Script/Modi.js\": 1149,\n\t\"./Script/Mongolian.js\": 1150,\n\t\"./Script/Mro.js\": 1151,\n\t\"./Script/Multani.js\": 1152,\n\t\"./Script/Myanmar.js\": 1153,\n\t\"./Script/Nabataean.js\": 1154,\n\t\"./Script/Nandinagari.js\": 1155,\n\t\"./Script/New_Tai_Lue.js\": 1156,\n\t\"./Script/Newa.js\": 1157,\n\t\"./Script/Nko.js\": 1158,\n\t\"./Script/Nushu.js\": 1159,\n\t\"./Script/Nyiakeng_Puachue_Hmong.js\": 1160,\n\t\"./Script/Ogham.js\": 1161,\n\t\"./Script/Ol_Chiki.js\": 1162,\n\t\"./Script/Old_Hungarian.js\": 1163,\n\t\"./Script/Old_Italic.js\": 1164,\n\t\"./Script/Old_North_Arabian.js\": 1165,\n\t\"./Script/Old_Permic.js\": 1166,\n\t\"./Script/Old_Persian.js\": 1167,\n\t\"./Script/Old_Sogdian.js\": 1168,\n\t\"./Script/Old_South_Arabian.js\": 1169,\n\t\"./Script/Old_Turkic.js\": 1170,\n\t\"./Script/Oriya.js\": 1171,\n\t\"./Script/Osage.js\": 1172,\n\t\"./Script/Osmanya.js\": 1173,\n\t\"./Script/Pahawh_Hmong.js\": 1174,\n\t\"./Script/Palmyrene.js\": 1175,\n\t\"./Script/Pau_Cin_Hau.js\": 1176,\n\t\"./Script/Phags_Pa.js\": 1177,\n\t\"./Script/Phoenician.js\": 1178,\n\t\"./Script/Psalter_Pahlavi.js\": 1179,\n\t\"./Script/Rejang.js\": 1180,\n\t\"./Script/Runic.js\": 1181,\n\t\"./Script/Samaritan.js\": 1182,\n\t\"./Script/Saurashtra.js\": 1183,\n\t\"./Script/Sharada.js\": 1184,\n\t\"./Script/Shavian.js\": 1185,\n\t\"./Script/Siddham.js\": 1186,\n\t\"./Script/SignWriting.js\": 1187,\n\t\"./Script/Sinhala.js\": 1188,\n\t\"./Script/Sogdian.js\": 1189,\n\t\"./Script/Sora_Sompeng.js\": 1190,\n\t\"./Script/Soyombo.js\": 1191,\n\t\"./Script/Sundanese.js\": 1192,\n\t\"./Script/Syloti_Nagri.js\": 1193,\n\t\"./Script/Syriac.js\": 1194,\n\t\"./Script/Tagalog.js\": 1195,\n\t\"./Script/Tagbanwa.js\": 1196,\n\t\"./Script/Tai_Le.js\": 1197,\n\t\"./Script/Tai_Tham.js\": 1198,\n\t\"./Script/Tai_Viet.js\": 1199,\n\t\"./Script/Takri.js\": 1200,\n\t\"./Script/Tamil.js\": 1201,\n\t\"./Script/Tangut.js\": 1202,\n\t\"./Script/Telugu.js\": 1203,\n\t\"./Script/Thaana.js\": 1204,\n\t\"./Script/Thai.js\": 1205,\n\t\"./Script/Tibetan.js\": 1206,\n\t\"./Script/Tifinagh.js\": 1207,\n\t\"./Script/Tirhuta.js\": 1208,\n\t\"./Script/Ugaritic.js\": 1209,\n\t\"./Script/Vai.js\": 1210,\n\t\"./Script/Wancho.js\": 1211,\n\t\"./Script/Warang_Citi.js\": 1212,\n\t\"./Script/Yezidi.js\": 1213,\n\t\"./Script/Yi.js\": 1214,\n\t\"./Script/Zanabazar_Square.js\": 1215,\n\t\"./Script_Extensions/Adlam.js\": 1216,\n\t\"./Script_Extensions/Ahom.js\": 1217,\n\t\"./Script_Extensions/Anatolian_Hieroglyphs.js\": 1218,\n\t\"./Script_Extensions/Arabic.js\": 1219,\n\t\"./Script_Extensions/Armenian.js\": 1220,\n\t\"./Script_Extensions/Avestan.js\": 1221,\n\t\"./Script_Extensions/Balinese.js\": 1222,\n\t\"./Script_Extensions/Bamum.js\": 1223,\n\t\"./Script_Extensions/Bassa_Vah.js\": 1224,\n\t\"./Script_Extensions/Batak.js\": 1225,\n\t\"./Script_Extensions/Bengali.js\": 1226,\n\t\"./Script_Extensions/Bhaiksuki.js\": 1227,\n\t\"./Script_Extensions/Bopomofo.js\": 1228,\n\t\"./Script_Extensions/Brahmi.js\": 1229,\n\t\"./Script_Extensions/Braille.js\": 1230,\n\t\"./Script_Extensions/Buginese.js\": 1231,\n\t\"./Script_Extensions/Buhid.js\": 1232,\n\t\"./Script_Extensions/Canadian_Aboriginal.js\": 1233,\n\t\"./Script_Extensions/Carian.js\": 1234,\n\t\"./Script_Extensions/Caucasian_Albanian.js\": 1235,\n\t\"./Script_Extensions/Chakma.js\": 1236,\n\t\"./Script_Extensions/Cham.js\": 1237,\n\t\"./Script_Extensions/Cherokee.js\": 1238,\n\t\"./Script_Extensions/Chorasmian.js\": 1239,\n\t\"./Script_Extensions/Common.js\": 1240,\n\t\"./Script_Extensions/Coptic.js\": 1241,\n\t\"./Script_Extensions/Cuneiform.js\": 1242,\n\t\"./Script_Extensions/Cypriot.js\": 1243,\n\t\"./Script_Extensions/Cyrillic.js\": 1244,\n\t\"./Script_Extensions/Deseret.js\": 1245,\n\t\"./Script_Extensions/Devanagari.js\": 1246,\n\t\"./Script_Extensions/Dives_Akuru.js\": 1247,\n\t\"./Script_Extensions/Dogra.js\": 1248,\n\t\"./Script_Extensions/Duployan.js\": 1249,\n\t\"./Script_Extensions/Egyptian_Hieroglyphs.js\": 1250,\n\t\"./Script_Extensions/Elbasan.js\": 1251,\n\t\"./Script_Extensions/Elymaic.js\": 1252,\n\t\"./Script_Extensions/Ethiopic.js\": 1253,\n\t\"./Script_Extensions/Georgian.js\": 1254,\n\t\"./Script_Extensions/Glagolitic.js\": 1255,\n\t\"./Script_Extensions/Gothic.js\": 1256,\n\t\"./Script_Extensions/Grantha.js\": 1257,\n\t\"./Script_Extensions/Greek.js\": 1258,\n\t\"./Script_Extensions/Gujarati.js\": 1259,\n\t\"./Script_Extensions/Gunjala_Gondi.js\": 1260,\n\t\"./Script_Extensions/Gurmukhi.js\": 1261,\n\t\"./Script_Extensions/Han.js\": 1262,\n\t\"./Script_Extensions/Hangul.js\": 1263,\n\t\"./Script_Extensions/Hanifi_Rohingya.js\": 1264,\n\t\"./Script_Extensions/Hanunoo.js\": 1265,\n\t\"./Script_Extensions/Hatran.js\": 1266,\n\t\"./Script_Extensions/Hebrew.js\": 1267,\n\t\"./Script_Extensions/Hiragana.js\": 1268,\n\t\"./Script_Extensions/Imperial_Aramaic.js\": 1269,\n\t\"./Script_Extensions/Inherited.js\": 1270,\n\t\"./Script_Extensions/Inscriptional_Pahlavi.js\": 1271,\n\t\"./Script_Extensions/Inscriptional_Parthian.js\": 1272,\n\t\"./Script_Extensions/Javanese.js\": 1273,\n\t\"./Script_Extensions/Kaithi.js\": 1274,\n\t\"./Script_Extensions/Kannada.js\": 1275,\n\t\"./Script_Extensions/Katakana.js\": 1276,\n\t\"./Script_Extensions/Kayah_Li.js\": 1277,\n\t\"./Script_Extensions/Kharoshthi.js\": 1278,\n\t\"./Script_Extensions/Khitan_Small_Script.js\": 1279,\n\t\"./Script_Extensions/Khmer.js\": 1280,\n\t\"./Script_Extensions/Khojki.js\": 1281,\n\t\"./Script_Extensions/Khudawadi.js\": 1282,\n\t\"./Script_Extensions/Lao.js\": 1283,\n\t\"./Script_Extensions/Latin.js\": 1284,\n\t\"./Script_Extensions/Lepcha.js\": 1285,\n\t\"./Script_Extensions/Limbu.js\": 1286,\n\t\"./Script_Extensions/Linear_A.js\": 1287,\n\t\"./Script_Extensions/Linear_B.js\": 1288,\n\t\"./Script_Extensions/Lisu.js\": 1289,\n\t\"./Script_Extensions/Lycian.js\": 1290,\n\t\"./Script_Extensions/Lydian.js\": 1291,\n\t\"./Script_Extensions/Mahajani.js\": 1292,\n\t\"./Script_Extensions/Makasar.js\": 1293,\n\t\"./Script_Extensions/Malayalam.js\": 1294,\n\t\"./Script_Extensions/Mandaic.js\": 1295,\n\t\"./Script_Extensions/Manichaean.js\": 1296,\n\t\"./Script_Extensions/Marchen.js\": 1297,\n\t\"./Script_Extensions/Masaram_Gondi.js\": 1298,\n\t\"./Script_Extensions/Medefaidrin.js\": 1299,\n\t\"./Script_Extensions/Meetei_Mayek.js\": 1300,\n\t\"./Script_Extensions/Mende_Kikakui.js\": 1301,\n\t\"./Script_Extensions/Meroitic_Cursive.js\": 1302,\n\t\"./Script_Extensions/Meroitic_Hieroglyphs.js\": 1303,\n\t\"./Script_Extensions/Miao.js\": 1304,\n\t\"./Script_Extensions/Modi.js\": 1305,\n\t\"./Script_Extensions/Mongolian.js\": 1306,\n\t\"./Script_Extensions/Mro.js\": 1307,\n\t\"./Script_Extensions/Multani.js\": 1308,\n\t\"./Script_Extensions/Myanmar.js\": 1309,\n\t\"./Script_Extensions/Nabataean.js\": 1310,\n\t\"./Script_Extensions/Nandinagari.js\": 1311,\n\t\"./Script_Extensions/New_Tai_Lue.js\": 1312,\n\t\"./Script_Extensions/Newa.js\": 1313,\n\t\"./Script_Extensions/Nko.js\": 1314,\n\t\"./Script_Extensions/Nushu.js\": 1315,\n\t\"./Script_Extensions/Nyiakeng_Puachue_Hmong.js\": 1316,\n\t\"./Script_Extensions/Ogham.js\": 1317,\n\t\"./Script_Extensions/Ol_Chiki.js\": 1318,\n\t\"./Script_Extensions/Old_Hungarian.js\": 1319,\n\t\"./Script_Extensions/Old_Italic.js\": 1320,\n\t\"./Script_Extensions/Old_North_Arabian.js\": 1321,\n\t\"./Script_Extensions/Old_Permic.js\": 1322,\n\t\"./Script_Extensions/Old_Persian.js\": 1323,\n\t\"./Script_Extensions/Old_Sogdian.js\": 1324,\n\t\"./Script_Extensions/Old_South_Arabian.js\": 1325,\n\t\"./Script_Extensions/Old_Turkic.js\": 1326,\n\t\"./Script_Extensions/Oriya.js\": 1327,\n\t\"./Script_Extensions/Osage.js\": 1328,\n\t\"./Script_Extensions/Osmanya.js\": 1329,\n\t\"./Script_Extensions/Pahawh_Hmong.js\": 1330,\n\t\"./Script_Extensions/Palmyrene.js\": 1331,\n\t\"./Script_Extensions/Pau_Cin_Hau.js\": 1332,\n\t\"./Script_Extensions/Phags_Pa.js\": 1333,\n\t\"./Script_Extensions/Phoenician.js\": 1334,\n\t\"./Script_Extensions/Psalter_Pahlavi.js\": 1335,\n\t\"./Script_Extensions/Rejang.js\": 1336,\n\t\"./Script_Extensions/Runic.js\": 1337,\n\t\"./Script_Extensions/Samaritan.js\": 1338,\n\t\"./Script_Extensions/Saurashtra.js\": 1339,\n\t\"./Script_Extensions/Sharada.js\": 1340,\n\t\"./Script_Extensions/Shavian.js\": 1341,\n\t\"./Script_Extensions/Siddham.js\": 1342,\n\t\"./Script_Extensions/SignWriting.js\": 1343,\n\t\"./Script_Extensions/Sinhala.js\": 1344,\n\t\"./Script_Extensions/Sogdian.js\": 1345,\n\t\"./Script_Extensions/Sora_Sompeng.js\": 1346,\n\t\"./Script_Extensions/Soyombo.js\": 1347,\n\t\"./Script_Extensions/Sundanese.js\": 1348,\n\t\"./Script_Extensions/Syloti_Nagri.js\": 1349,\n\t\"./Script_Extensions/Syriac.js\": 1350,\n\t\"./Script_Extensions/Tagalog.js\": 1351,\n\t\"./Script_Extensions/Tagbanwa.js\": 1352,\n\t\"./Script_Extensions/Tai_Le.js\": 1353,\n\t\"./Script_Extensions/Tai_Tham.js\": 1354,\n\t\"./Script_Extensions/Tai_Viet.js\": 1355,\n\t\"./Script_Extensions/Takri.js\": 1356,\n\t\"./Script_Extensions/Tamil.js\": 1357,\n\t\"./Script_Extensions/Tangut.js\": 1358,\n\t\"./Script_Extensions/Telugu.js\": 1359,\n\t\"./Script_Extensions/Thaana.js\": 1360,\n\t\"./Script_Extensions/Thai.js\": 1361,\n\t\"./Script_Extensions/Tibetan.js\": 1362,\n\t\"./Script_Extensions/Tifinagh.js\": 1363,\n\t\"./Script_Extensions/Tirhuta.js\": 1364,\n\t\"./Script_Extensions/Ugaritic.js\": 1365,\n\t\"./Script_Extensions/Vai.js\": 1366,\n\t\"./Script_Extensions/Wancho.js\": 1367,\n\t\"./Script_Extensions/Warang_Citi.js\": 1368,\n\t\"./Script_Extensions/Yezidi.js\": 1369,\n\t\"./Script_Extensions/Yi.js\": 1370,\n\t\"./Script_Extensions/Zanabazar_Square.js\": 1371,\n\t\"./index.js\": 1372,\n\t\"./unicode-version.js\": 1373\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 968;"],"sourceRoot":""}