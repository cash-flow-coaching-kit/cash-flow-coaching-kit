{"version":3,"sources":["components/CFC/__config/constants.tsx","components/PageTour/PageTour.tsx","components/Forms/CFC/onCreate.ts","components/Forms/CFC/CanvasCreate.tsx","pages/CashFlowCanvas/canvas.tsx","content/tips lazy /^/.//.*$/ groupOptions: {} namespace object","components/PageTip/_config/style.ts","components/PageTip/_partials/AsyncTip.tsx","components/PageTip/PageTip.tsx","util/array/arrayFillWith.ts","components/Forms/CFC/initialValues.ts","components/Forms/CFC/calculateInitial.ts","components/SectionTitle/_config/styles.ts","components/SectionTitle/SectionTitle.tsx","components/PDF/PDFLib.ts","components/CFCCompare/__config/utilities.ts","components/PDF/servePDF.ts","state/CFC/createCashFlow.tsx","components/PDF/CashFlowCanvasPDF.ts","components/CFC/NoCanvases.tsx","components/CFCCompare/__config/styles.ts","components/CFCCompare/TimeframeOutOfSync.tsx","components/CFCCompare/CompareSelector.tsx","components/CFCCompare/TableHeader.tsx","components/CFCCompare/CanvasItemRow.tsx","components/CFCCompare/CompareTable.tsx","components/CFCCompare/NotEnoughCanvases.tsx","components/CFCCompare/CompareCanvases.tsx","components/CFCCompare/ControlCompareLink.tsx","components/Forms/CFC/__config/styles.ts","components/ImportDataModal/lib/ImportDataExcelLib.ts","components/CFC/CopyCanvasTrigger.tsx","components/ImportDataModal/lib/ImportDataGeneralLib.ts","components/ImportDataModal/ImportDataModal.tsx","components/PDF/CFCComparePDF.ts","components/CFC/ControlPanel.tsx","components/HealthCheck/FourQuestions/FourQuestions.tsx","components/HealthCheck/FourQuestions/_config/utilities.tsx","../node_modules/regenerate-unicode-properties sync /^/.//.*/.js$"],"names":["CFC4QsTourContent","className","variant","CFCCreateCanvas","CFCFillingOutCanvas","CFCYourPosition","CFCControlPanel","LSKey","PageTour","steps","location","useLocation","params","useParams","useEffect","clearAllBodyScrollLocks","getRouteValue","re","path","pathname","replace","Object","keys","length","match","useState","ls","window","localStorage","getItem","json","JSON","parse","hasProperty","shouldBeOpen","open","setOpen","Button","onClick","id","isOpen","onRequestClose","setItem","stringify","setLSValue","onAfterOpen","target","disableBodyScroll","onBeforeClose","enableBodyScroll","startAt","values","client","a","CFCUseCase","create","clientId","createdAt","newTimestamp","onCreate","CreateCanvasForm","styles","useStyles","useCustomTitle","setUseCustomTitle","history","useHistory","useCurrentClient","currentClient","useContext","CFCContext","duplicateError","invalidDateError","useFormik","initialValues","onSubmit","formValues","query","createURLParams","push","routeVarReplacement","PrivateRoutes","CFCEdit","setFieldValue","handleChange","handleSubmit","canvasTitle","canvasType","canvasTimeFrame","canvasStartDate","canvasEndDate","changeDateValue","k","v","changeDate","start","end","inputChange","useCallback","data-reactour","type","timeframe","startDate","endDate","customTitle","canvasTypeValue","canvasTimeframeValue","onChange","onDateChange","changeCheck","e","checked","Spacer","Box","box","color","disabled","selector","content","CFCCanvas","maxWidth","Grid","container","spacing","item","xs","md","SectionTitle","component","Typography","List","space","FourQuestions","ControlPanel","PageTip","tip","map","webpackAsyncContext","req","__webpack_require__","o","Promise","resolve","then","Error","code","ids","module","exports","usePageTipStyles","makeStyles","theme","root","position","left","bottom","icon","marginRight","drawer","padding","width","closeBox","display","justifyContent","marginBottom","paddingBottom","borderBottom","borderBottomColor","palette","grey","borderBottomStyle","AsyncTip","loadable","props","fallback","Loading","style","drawerOpen","setDrawerOpen","toggleDrawer","event","KeyboardEvent","key","Fab","Drawer","anchor","onClose","classes","paper","startIcon","arrayFillWith","len","fill","Array","Date","calculatedEndDate","openingBalance","paygWithholding","superAmount","incomeTax","cashToOwner","stock","creditors","debtors","assets","loans","cashInItems","createCashFlowItem","cashOutItems","calculateInitial","gstOnSales","calcCashFlowGST","closingBalance","calcClosingBalance","gstOnPurchases","totalNetAssets","calcTotalNetAssets","cashSurplus","calcCashSurplus","availableToSpend","calcAvailableToSpend","incomeTaxPercentage","calcIncomeTaxPer","useSTStyles","title","fontWeight","breakpoints","down","fontSize","typography","h5","children","addPadding","margin","columns","pageDefaultSettings","pageSize","pageMargins","footer","text","format","alignment","frameContent","inner","table","widths","body","pageHeading","layout","pagePadding","basicTable","items","getCanvasData","findByClient","data","reduceToOptions","acc","cur","concat","value","label","canvasDisplayTitle","changeSelected","allCanvases","selected","idx","newItem","filter","filterById","isAfter","calculateDifferencePer","val1","val2","diff","pipe","toTwoDecimal","removeTrailingZeros","concatStr","pdf","browser","detect","name","download","description","amount","gstApplicable","uuidv4","pdfMake","vfs","pdfFonts","formatDollars","toString","openingBalanceSection","cashInSection","cashInTotal","bold","line","cashOutSection","cashOutTotal","gstOnPurchasesSection","cashSurplusSection","incomeSection","availableToSpendSection","closingCashBalanceSection","yourNetAssetPositionSection","calcCashFlowTotal","cashInGST","calcTotalCashOut","cashOutGST","calculated","docDefinition","upperFirst","pageHeader","fillColor","green","rightAlign","yellowBlock","defaultStyle","createPdf","NoCanvases","to","ClientList","CFC","compareLabel","alignItems","compareTooltip","marginLeft","cell1","cellCanvas","cellDifference","tableRow","background","noBorderBottom","minWidth","marginTop","TimeframeOutOfSync","Alert","severity","CompareSelector","selectedCanvases","leftSelected","rightSelected","cls","selectOptions","useMemo","reduce","changeSelectedCanvas","Tooltip","SelectField","options","align","React","memo","right","TableHead","TableRow","TableCell","CanvasItemRow","border","formatNumber","addDollarSign","CompareTable","leftCalculated","rightCalculated","renderRepeaterFields","TableContainer","Table","TableBody","colSpan","NotEnoughCanvases","CompareCanvases","dispatch","useMachine","fetchMachine","stateMachine","changeState","clientSynced","canvases","setCanvases","setSelectedCanvases","leftCalc","rightCalc","CFCActionTypes","ChangeQuestionValues","payload","one","calcQuestionOne","two","calcQuestionTwo","three","calcQuestionThree","four","calcQuestionFour","ChangeCompare","fetchCanvasData","item1","item2","newSelected","Divider","renderForStateMachine","ControlCompareLink","count","setCount","getCount","countClientRecords","c","route","ListItem","button","CFCCompare","ListItemIcon","ListItemText","flexDirection","saveButton","up","rewritePattern","require","generateRegexpuOptions","RegExp","global","err","pattern","flags","includes","prototype","ExcelJS","excelCreateFromData","workbook","Workbook","xlsx","load","excelProcessSheet","worksheet","result","eachRow","includeEmpty","row","rowNumber","last","pop","join","trim","Math","abs","excelProcessWorkbook","worksheets","excelProcessFile","CopyCanvasTrigger","ChangeCopyCanvasActive","generalProcessFile","fileBuffer","res","alert","ImportDataModal","fileRef","createRef","currentItems","setCurrentItems","canvasItemUpdater","deleteItem","newItems","i","toggleType","onOpenFileDialog","current","click","onEmptyAndClose","Dialog","DialogTitle","DialogContent","floor","bind","IconDeleteButton","renderSingleItem","DialogActions","forEach","updater","hidden","ref","file","files","reader","FileReader","onload","Uint8Array","readAsArrayBuffer","rowValue","defaultStyles","importDataOpen","setImportDataOpen","canvasId","leftCompare","rightCompare","goTo","isNewPage","isCompare","importData","printPDF","findById","undefined","CashFlowCanvasPDF","servePDF","CFCComparePDF","ExpandableNav","reactourLabel","disablePadding","CFCListing","answers","useFourQsStyles","list","fourQuestionsContent","listItem","listItemFirst","listItemText","answerIconRoot","answer","opt","getOptionByAnswer","answerTheming","Icon","getIcon","questions","answerText","webpackContext","webpackContextResolve"],"mappings":"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","file":"static/js/16.7c68f859.chunk.js","sourcesContent":["import React, { ReactElement } from \"react\"\nimport { Typography } from \"@material-ui/core\"\n\nexport const CFC4QsTourContent = (): ReactElement => (\n\t<div className=\"content-area\">\n\t\t<Typography variant=\"h6\">The Cash Flow Canvas</Typography>\n\t\t<Typography>\n\t\t\tVisualises your cash flow and makes it easy to see how your business is\n\t\t\tperforming against the Four Key Questions.\n\t\t</Typography>\n\t\t<br />\n\t\t<Typography>\n\t\t\tThis will help you understand your current position and identify any\n\t\t\timprovements that you could make in your business.\n\t\t</Typography>\n\t</div>\n)\n\nexport const CFCCreateCanvas = (): ReactElement => (\n\t<div className=\"content-area\">\n\t\t<Typography variant=\"h6\">Create a Canvas</Typography>\n\n\t\t<Typography>\n\t\t\tFirst, you will create a custom name to help identify each Canvas, then\n\t\t\tchoose a Canvas type, time-frame and date range.\n\t\t</Typography>\n\t</div>\n)\n\nexport const CFCFillingOutCanvas = (): ReactElement => (\n\t<div className=\"content-area\">\n\t\t<Typography variant=\"h6\">Filling out the Canvas</Typography>\n\n\t\t<Typography>\n\t\t\tYou can directly enter figures into the Canvas or import from a\n\t\t\tspreadsheet.\n\t\t</Typography>\n\t\t<Typography>\n\t\t\tThe simpler your Canvas, the easier it will be to understand the\n\t\t\trelationships between the key areas that will impact your cash flow.\n\t\t</Typography>\n\t</div>\n)\n\nexport const CFCYourPosition = (): ReactElement => (\n\t<div className=\"content-area\">\n\t\t<Typography variant=\"h6\">Understanding your position</Typography>\n\n\t\t<Typography>\n\t\t\tEasily see if your business is getting ahead or falling behind.\n\t\t</Typography>\n\t</div>\n)\n\nexport const CFCControlPanel = (): ReactElement => (\n\t<div className=\"content-area\">\n\t\t<Typography variant=\"h6\">Control Panel</Typography>\n\n\t\t<Typography>\n\t\t\tHere you can open an existing Canvas, copy, delete, or create a new\n\t\t\tCanvas.\n\t\t</Typography>\n\t\t<br />\n\t\t<Typography>\n\t\t\tTo copy a Canvas, open the Canvas you would like to replicate and select\n\t\t\tthe Copy Canvas button in the Control Panel.\n\t\t</Typography>\n\t\t<Typography>\n\t\t\tThe Canvas list contains Canvasses you have previously developed\n\t\t</Typography>\n\t</div>\n)\n","import React, { ReactElement, useState, useEffect } from \"react\"\nimport Tour, { ReactourStep } from \"reactour\"\nimport { Button } from \"@material-ui/core\"\nimport { useLocation, useParams } from \"react-router-dom\"\nimport {\n\tdisableBodyScroll,\n\tenableBodyScroll,\n\tclearAllBodyScrollLocks,\n} from \"body-scroll-lock\"\nimport hasProperty from \"../../util/object/hasProperty\"\n\ntype PageTourProps = {\n\tsteps: ReactourStep[]\n}\n\nconst LSKey = \"react-tour-completed\"\n\n/**\n * Page tour component. Used to show highlighted areas with descriptive content\n *\n * @export\n * @param {PageTourProps} { steps }\n * @returns {ReactElement}\n */\nexport default function PageTour({ steps }: PageTourProps): ReactElement {\n\tconst location = useLocation()\n\tconst params = useParams()\n\n\tconst disableBody = (target: any): void => disableBodyScroll(target)\n\tconst enableBody = (target: any): void => enableBodyScroll(target)\n\n\tuseEffect(() => {\n\t\treturn (): void => clearAllBodyScrollLocks()\n\t}, [])\n\n\t/**\n\t * Strips off the beginning and ending \"/\"\n\t *\n\t * @returns {string}\n\t */\n\tconst stripPathname = (): string => location.pathname.replace(/^\\/|\\/$/g, \"\")\n\n\t/**\n\t * Gets the key of the current route\n\t *\n\t * @returns {string}\n\t */\n\tconst getRouteValue = (): string => {\n\t\tconst re = /\\/[0-9A-F]{8}-[0-9A-F]{4}-4[0-9A-F]{3}-[89AB][0-9A-F]{3}-[0-9A-F]{12}$/gi\n\t\tconst path = stripPathname()\n\n\t\tif (Object.keys(params).length > 0 && path.match(re)) {\n\t\t\treturn path.replace(re, \"/:id\")\n\t\t}\n\n\t\treturn path\n\t}\n\n\t/**\n\t * Checks if the tour should be open by default\n\t *\n\t * @returns {boolean}\n\t */\n\tconst shouldBeOpen = (): boolean => {\n\t\tconst ls = window.localStorage.getItem(LSKey)\n\t\tif (!ls) return true\n\n\t\tconst json = JSON.parse(ls)\n\t\treturn !hasProperty(json, getRouteValue())\n\t}\n\n\tconst [open, setOpen] = useState(shouldBeOpen())\n\n\t/**\n\t * Sets the localstorage value for the tour key\n\t *\n\t * @param json\n\t */\n\tconst setLSValue = (json: {}): void => {\n\t\twindow.localStorage.setItem(LSKey, JSON.stringify(json))\n\t}\n\n\t/**\n\t * Closes the tour and sets the value to not open on return\n\t *\n\t */\n\tconst closeTour = (): void => {\n\t\tconst ls = window.localStorage.getItem(LSKey)\n\t\tconst json = !ls ? {} : JSON.parse(ls)\n\t\tsetLSValue({\n\t\t\t...json,\n\t\t\t[getRouteValue()]: true,\n\t\t})\n\t\tsetOpen(false)\n\t}\n\n\t/**\n\t * Opens the tour component\n\t */\n\tconst openTour = (): void => setOpen(true)\n\n\treturn (\n\t\t<>\n\t\t\t<div className=\"sr-only\">\n\t\t\t\t<Button onClick={openTour} id=\"start-a-tour\">\n\t\t\t\t\tStart tour\n\t\t\t\t</Button>\n\t\t\t</div>\n\t\t\t<Tour\n\t\t\t\tsteps={steps}\n\t\t\t\tisOpen={open}\n\t\t\t\tonRequestClose={closeTour}\n\t\t\t\tonAfterOpen={disableBody}\n\t\t\t\tonBeforeClose={enableBody}\n\t\t\t\tstartAt={0}\n\t\t\t/>\n\t\t</>\n\t)\n}\n","import {\n\tBaseCFCStruct,\n\tClientId,\n\tDatabaseId,\n} from \"../../../data/_config/shape\"\nimport CFCUseCase from \"../../../data/CFC/CFCLogic\"\nimport { newTimestamp } from \"../../../util/dates\"\n\n/**\n * Creates a CFC and returns the CFC id\n *\n * @param {BaseCFCStruct} values\n * @param {ClientId} client\n * @returns {Promise<number>}\n */\nasync function onCreate(\n\tvalues: BaseCFCStruct,\n\tclient: ClientId\n): Promise<DatabaseId> {\n\tconst id = await CFCUseCase.create({\n\t\t...values,\n\t\tclientId: client,\n\t\tcreatedAt: newTimestamp(),\n\t})\n\n\treturn id\n}\n\nexport default onCreate\n","import React, {\n\tReactElement,\n\tuseState,\n\tuseCallback,\n\tuseContext,\n\tuseEffect,\n} from \"react\"\nimport { useFormik } from \"formik\"\nimport { Button, Box } from \"@material-ui/core\"\nimport { useHistory } from \"react-router-dom\"\nimport { BaseCFCStruct } from \"../../../data/_config/shape\"\nimport { initialValues } from \".\"\nimport { ConfigPanel, CanvasTitle } from \"../../CFC\"\nimport onCreate from \"./onCreate\"\nimport Spacer from \"../../Spacer/Spacer\"\nimport { routeVarReplacement, PrivateRoutes } from \"../../../util/routes/routes\"\nimport useCurrentClient from \"../../../state/client/useCurrentClient\"\nimport useStyles from \"./__config/styles\"\nimport createURLParams from \"./createURLParams\"\nimport changeDate, { CanvasDateKeys } from \"./changeDate\"\nimport CFCContext from \"../../../state/CFC/context\"\n\n/**\n * Create canvas form.\n *\n * @export\n * @returns {ReactElement}\n */\nexport default function CreateCanvasForm(): ReactElement {\n\tconst styles = useStyles()\n\n\tconst [useCustomTitle, setUseCustomTitle] = useState(true)\n\tconst history = useHistory()\n\tconst [currentClient] = useCurrentClient()\n\tconst { duplicateError, invalidDateError } = useContext(CFCContext)\n\n\tconst { setFieldValue, handleChange, values, handleSubmit } = useFormik<\n\t\tBaseCFCStruct\n\t>({\n\t\tinitialValues,\n\t\tonSubmit: async (formValues: BaseCFCStruct) => {\n\t\t\tif (currentClient?.id) {\n\t\t\t\tconst id = await onCreate(formValues, currentClient.id)\n\t\t\t\t// Creates some url search parameters to pass onto the edit page\n\t\t\t\tconst query = createURLParams(formValues, useCustomTitle)\n\n\t\t\t\t// Redirects the user to the edit page\n\t\t\t\t// eslint-disable-next-line\n\t\t\t\thistory.push(\n\t\t\t\t\t`${routeVarReplacement(PrivateRoutes.CFCEdit, [\n\t\t\t\t\t\t[\":id\", `${id}`],\n\t\t\t\t\t])}?${query}`\n\t\t\t\t)\n\t\t\t}\n\t\t},\n\t})\n\n\tuseEffect(() => {\n\t\tif (!useCustomTitle) {\n\t\t\tsetFieldValue(\"canvasTitle\", \"\")\n\t\t}\n\t}, [useCustomTitle, setFieldValue])\n\n\tconst {\n\t\tcanvasTitle,\n\t\tcanvasType,\n\t\tcanvasTimeFrame,\n\t\tcanvasStartDate,\n\t\tcanvasEndDate,\n\t} = values\n\n\t/**\n\t * A custom change handler for the datepicker\n\t *\n\t * @template K\n\t * @param {K} k\n\t * @param {BaseCFCStruct[K]} v\n\t */\n\tconst changeDateValue = (k: CanvasDateKeys, v: Date): void => {\n\t\tconst { canvasStartDate: start, canvasEndDate: end } = changeDate<\n\t\t\tBaseCFCStruct\n\t\t>(k, v, values)\n\n\t\t// Sets the field value\n\t\tsetFieldValue(\"canvasStartDate\", start, false)\n\t\tsetFieldValue(\"canvasEndDate\", end, false)\n\t}\n\n\tuseEffect(() => {\n\t\tchangeDateValue(\"canvasStartDate\", canvasStartDate)\n\t\t// eslint-disable-next-line\n\t}, [canvasTimeFrame, canvasStartDate])\n\n\tconst inputChange = useCallback(handleChange, [])\n\n\tfunction disabledCreate(): boolean {\n\t\treturn (\n\t\t\tinvalidDateError ||\n\t\t\tduplicateError ||\n\t\t\t(useCustomTitle && canvasTitle === \"\")\n\t\t)\n\t}\n\n\treturn (\n\t\t<>\n\t\t\t<form onSubmit={handleSubmit} data-reactour=\"create-a-canvas\">\n\t\t\t\t<CanvasTitle\n\t\t\t\t\ttype={canvasType}\n\t\t\t\t\ttimeframe={canvasTimeFrame}\n\t\t\t\t\tstartDate={canvasStartDate}\n\t\t\t\t\tendDate={canvasEndDate}\n\t\t\t\t\tcustomTitle={canvasTitle}\n\t\t\t\t\tuseCustomTitle={useCustomTitle}\n\t\t\t\t/>\n\t\t\t\t<ConfigPanel\n\t\t\t\t\tcanvasTypeValue={canvasType}\n\t\t\t\t\tcanvasTimeframeValue={canvasTimeFrame}\n\t\t\t\t\tonChange={inputChange}\n\t\t\t\t\tstartDate={canvasStartDate}\n\t\t\t\t\tendDate={canvasEndDate}\n\t\t\t\t\tonDateChange={changeDateValue}\n\t\t\t\t\tcustomTitle={canvasTitle}\n\t\t\t\t\tchangeCheck={(e: InputChange): void => {\n\t\t\t\t\t\tsetUseCustomTitle(e.target.checked)\n\t\t\t\t\t}}\n\t\t\t\t\tuseCustomTitle={useCustomTitle}\n\t\t\t\t/>\n\t\t\t\t<Spacer />\n\t\t\t\t<Box className={styles.box}>\n\t\t\t\t\t<Button\n\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\t\ttype=\"submit\"\n\t\t\t\t\t\tdisabled={disabledCreate()}\n\t\t\t\t\t>\n\t\t\t\t\t\tCreate Canvas\n\t\t\t\t\t</Button>\n\t\t\t\t</Box>\n\t\t\t</form>\n\t\t</>\n\t)\n}\n","import React, { ReactElement } from \"react\"\nimport { Grid, Box, Typography, List } from \"@material-ui/core\"\nimport { ReactourStep } from \"reactour\"\nimport { PageContainer } from \"../../components/Layouts\"\nimport PageTip from \"../../components/PageTip\"\nimport CreateCanvasForm from \"../../components/Forms/CFC/CanvasCreate\"\nimport FourQuestions from \"../../components/HealthCheck/FourQuestions\"\nimport ControlPanel from \"../../components/CFC/ControlPanel\"\nimport SectionTitle from \"../../components/SectionTitle\"\nimport Spacer from \"../../components/Spacer\"\nimport PageTour from \"../../components/PageTour\"\nimport {\n\tCFC4QsTourContent,\n\tCFCCreateCanvas,\n} from \"../../components/CFC/__config/constants\"\n\nconst steps: ReactourStep[] = [\n\t{\n\t\tselector: \"[data-reactour='four-questions-nav']\",\n\t\tcontent: CFC4QsTourContent,\n\t},\n\t{\n\t\tselector: \"[data-reactour='create-a-canvas']\",\n\t\tcontent: CFCCreateCanvas,\n\t},\n]\n\n/**\n * Create a CFC page\n *\n * @export\n * @returns {ReactElement}\n */\nexport default function CFCCanvas(): ReactElement {\n\treturn (\n\t\t<>\n\t\t\t<PageContainer maxWidth=\"lg\">\n\t\t\t\t<Grid container spacing={3}>\n\t\t\t\t\t<Grid item xs={12} md={9}>\n\t\t\t\t\t\t<SectionTitle component=\"h1\">Cash Flow Canvas</SectionTitle>\n\t\t\t\t\t\t<Box className=\"content-area\">\n\t\t\t\t\t\t\t<Typography>\n\t\t\t\t\t\t\t\tThe Cash Flow Canvas will help you answer the four key\n\t\t\t\t\t\t\t\tquestions. Knowing and understanding these will ensure you make\n\t\t\t\t\t\t\t\tinformed decisions and plans for your business.\n\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t<Typography className=\"list-describer\">\n\t\t\t\t\t\t\t\tYou can use it in five different ways:\n\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t<List component=\"ul\" className=\"ul-list\">\n\t\t\t\t\t\t\t\t<Typography component=\"li\">\n\t\t\t\t\t\t\t\t\tReview - look at how you have previously managed your cash\n\t\t\t\t\t\t\t\t\tflow\n\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t<Typography component=\"li\">\n\t\t\t\t\t\t\t\t\tForecast - predict what your future cash flow will look like\n\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t<Typography component=\"li\">\n\t\t\t\t\t\t\t\t\tChange - explore actions you can take to improve your cash\n\t\t\t\t\t\t\t\t\tflow\n\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t<Typography component=\"li\">\n\t\t\t\t\t\t\t\t\tPlan - create future cash flow that meets your goals\n\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t<Typography component=\"li\">\n\t\t\t\t\t\t\t\t\tTrack - compare your actual and predicted cash flow\n\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t</List>\n\t\t\t\t\t\t\t<Typography>\n\t\t\t\t\t\t\t\tTo import, save or compare data, see the Control Panel.\n\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t<Spacer space={3} />\n\t\t\t\t\t\t<CreateCanvasForm />\n\t\t\t\t\t</Grid>\n\t\t\t\t\t<Grid item xs={12} md={3}>\n\t\t\t\t\t\t<FourQuestions />\n\t\t\t\t\t\t<ControlPanel />\n\t\t\t\t\t</Grid>\n\t\t\t\t</Grid>\n\t\t\t</PageContainer>\n\t\t\t<PageTip tip=\"CFCanvasTip\" />\n\t\t\t<PageTour steps={steps} />\n\t\t</>\n\t)\n}\n","var map = {\n\t\"./ActionChecklistTip\": [\n\t\t822,\n\t\t4\n\t],\n\t\"./ActionChecklistTip.tsx\": [\n\t\t822,\n\t\t4\n\t],\n\t\"./CFCanvasTip\": [\n\t\t823,\n\t\t5\n\t],\n\t\"./CFCanvasTip.tsx\": [\n\t\t823,\n\t\t5\n\t],\n\t\"./ChangeLevers\": [\n\t\t824,\n\t\t6\n\t],\n\t\"./ChangeLevers.tsx\": [\n\t\t824,\n\t\t6\n\t],\n\t\"./ClientListTips\": [\n\t\t825,\n\t\t7\n\t],\n\t\"./ClientListTips.tsx\": [\n\t\t825,\n\t\t7\n\t],\n\t\"./CoachingKitTips\": [\n\t\t826,\n\t\t8\n\t],\n\t\"./CoachingKitTips.tsx\": [\n\t\t826,\n\t\t8\n\t],\n\t\"./DiscoverTopicsTips\": [\n\t\t827,\n\t\t9\n\t],\n\t\"./DiscoverTopicsTips.tsx\": [\n\t\t827,\n\t\t9\n\t],\n\t\"./HCQuestionnaire\": [\n\t\t828,\n\t\t10\n\t],\n\t\"./HCQuestionnaire.tsx\": [\n\t\t828,\n\t\t10\n\t],\n\t\"./style\": [\n\t\t818,\n\t\t11\n\t],\n\t\"./style.ts\": [\n\t\t818,\n\t\t11\n\t]\n};\nfunction webpackAsyncContext(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\treturn Promise.resolve().then(function() {\n\t\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\t\te.code = 'MODULE_NOT_FOUND';\n\t\t\tthrow e;\n\t\t});\n\t}\n\n\tvar ids = map[req], id = ids[0];\n\treturn __webpack_require__.e(ids[1]).then(function() {\n\t\treturn __webpack_require__(id);\n\t});\n}\nwebpackAsyncContext.keys = function webpackAsyncContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackAsyncContext.id = 829;\nmodule.exports = webpackAsyncContext;","import { makeStyles } from \"@material-ui/core/styles\"\n\nconst usePageTipStyles = makeStyles((theme) => ({\n\troot: {\n\t\tposition: \"fixed\",\n\t\tleft: theme.spacing(2),\n\t\tbottom: theme.spacing(2),\n\t},\n\ticon: {\n\t\tmarginRight: theme.spacing(1),\n\t},\n\tdrawer: {\n\t\tpadding: theme.spacing(2),\n\t\tmaxWidth: \"350px\",\n\t\twidth: \"100%\",\n\t},\n\tcloseBox: {\n\t\tdisplay: \"flex\",\n\t\tjustifyContent: \"space-between\",\n\t\tmarginBottom: theme.spacing(2),\n\t\tpaddingBottom: theme.spacing(2),\n\t\tborderBottom: 1,\n\t\tborderBottomColor: theme.palette.grey[500],\n\t\tborderBottomStyle: \"solid\",\n\t},\n}))\n\nexport default usePageTipStyles\n","import React from \"react\"\nimport loadable from \"@loadable/component\"\nimport Loading from \"../../Loading\"\n\n/**\n * Loadable component to dynamically render the tip content\n *\n */\nconst AsyncTip = loadable(\n\t(props: { tip: string }) => import(`../../../content/tips/${props.tip}`),\n\t{\n\t\tfallback: <Loading />,\n\t}\n)\n\nexport default AsyncTip\n","import React, { ReactElement, useState, MouseEvent } from \"react\"\nimport { Fab, Drawer, Button, Box, Typography } from \"@material-ui/core\"\nimport HelpOutlineIcon from \"@material-ui/icons/HelpOutline\"\nimport HighlightOffIcon from \"@material-ui/icons/HighlightOff\"\nimport usePageTipStyles from \"./_config/style\"\nimport { IPageTip } from \"./_config/shape\"\nimport { AsyncTip } from \"./_partials\"\n\n/**\n * Renders a page tip tooltip at the bottom left of the page\n *\n * @param {string} {tip} File name (no extension) for the tip component\n * @returns ReactElement\n */\nconst PageTip = ({ tip }: IPageTip): ReactElement => {\n\tconst style = usePageTipStyles()\n\tconst [drawerOpen, setDrawerOpen] = useState<boolean>(false)\n\n\t/**\n\t * Toggles the state of the drawer\n\t *\n\t * @param {Boolean} open State to change the drawer to\n\t * @param {KeyboardEvent|MouseEvent<HTMLButtonElement>} event Event generated by a keypress|click\n\t */\n\tconst toggleDrawer = (open: boolean) => (\n\t\tevent: KeyboardEvent | MouseEvent<HTMLButtonElement>\n\t): void => {\n\t\tif (event instanceof KeyboardEvent) {\n\t\t\tif (\n\t\t\t\tevent.type === \"keydown\" &&\n\t\t\t\t(event.key === \"Tab\" || event.key === \"Shift\")\n\t\t\t) {\n\t\t\t\treturn\n\t\t\t}\n\t\t}\n\n\t\t// Change the state of the drawer\n\t\tsetDrawerOpen(open)\n\t}\n\n\treturn (\n\t\t<>\n\t\t\t<div className={style.root}>\n\t\t\t\t<Fab color=\"secondary\" onClick={toggleDrawer(true)} variant=\"extended\">\n\t\t\t\t\t<HelpOutlineIcon className={style.icon} />\n\t\t\t\t\tTips\n\t\t\t\t</Fab>\n\t\t\t</div>\n\t\t\t<Drawer\n\t\t\t\tanchor=\"left\"\n\t\t\t\topen={drawerOpen}\n\t\t\t\tonClose={toggleDrawer(false)}\n\t\t\t\tclasses={{\n\t\t\t\t\tpaper: style.drawer,\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t<Box className={style.closeBox}>\n\t\t\t\t\t<Typography variant=\"h6\">Tips</Typography>\n\t\t\t\t\t<Button\n\t\t\t\t\t\tonClick={toggleDrawer(false)}\n\t\t\t\t\t\tstartIcon={<HighlightOffIcon />}\n\t\t\t\t\t>\n\t\t\t\t\t\tClose\n\t\t\t\t\t</Button>\n\t\t\t\t</Box>\n\n\t\t\t\t<AsyncTip tip={tip} />\n\t\t\t</Drawer>\n\t\t</>\n\t)\n}\n\nexport default PageTip\n","/**\n * Creates and fills an array with some data\n *\n * @export\n * @template T\n * @param {number} len\n * @param {T} fill\n * @returns {T[]}\n */\nexport default function arrayFillWith<T>(len: number, fill: T): T[] {\n\treturn new Array(len).fill(fill)\n}\n","import { BaseCFCStruct } from \"../../../data/_config/shape\"\nimport createCashFlowItem from \"../../../state/CFC/createCashFlow\"\nimport { calculatedEndDate } from \"../../../util/dates\"\n\nconst initialValues: BaseCFCStruct = {\n\tcanvasTitle: \"\",\n\tcanvasType: \"review\",\n\tcanvasTimeFrame: \"quaterly\",\n\tcanvasStartDate: new Date(),\n\tcanvasEndDate: calculatedEndDate(new Date(), \"quaterly\"),\n\topeningBalance: 0,\n\tpaygWithholding: 0,\n\tsuperAmount: 0,\n\tincomeTax: 25,\n\tcashToOwner: 0,\n\tstock: 0,\n\tcreditors: 0,\n\tdebtors: 0,\n\tassets: 0,\n\tloans: 0,\n\tcashInItems: [createCashFlowItem()],\n\tcashOutItems: [createCashFlowItem()],\n}\n\nexport default initialValues\n","import { BaseCFCStruct } from \"../../../data/_config/shape\"\nimport { CalculatedValues } from \"../../../state/CFC/useCalculated\"\nimport {\n\tcalcTotalNetAssets,\n\tcalcAvailableToSpend,\n\tcalcCashSurplus,\n\tcalcCashFlowGST,\n\tcalcClosingBalance,\n\tcalcIncomeTaxPer,\n} from \"../../../state/CFC/accumulators\"\n\n/**\n * Calculates the values for the dynamic values\n *\n * @param {BaseCFCStruct} values\n * @returns {CalculatedValues}\n */\nfunction calculateInitial(values: BaseCFCStruct): CalculatedValues {\n\treturn {\n\t\tgstOnSales: calcCashFlowGST(values.cashInItems),\n\t\tclosingBalance: calcClosingBalance(values),\n\t\tgstOnPurchases: calcCashFlowGST(values.cashOutItems),\n\t\ttotalNetAssets: calcTotalNetAssets(values),\n\t\tcashSurplus: calcCashSurplus(values),\n\t\tavailableToSpend: calcAvailableToSpend(values),\n\t\tincomeTaxPercentage: calcIncomeTaxPer(values),\n\t}\n}\n\nexport default calculateInitial\n","import { makeStyles } from \"@material-ui/core\"\n\n// Section title styles\nconst useSTStyles = makeStyles((theme) => ({\n\ttitle: {\n\t\tfontWeight: 500,\n\t\tmarginBottom: theme.spacing(2),\n\t\t[theme.breakpoints.down(\"sm\")]: {\n\t\t\tfontSize: theme.typography.h5.fontSize,\n\t\t},\n\t},\n}))\n\nexport default useSTStyles\n","import React, { ReactElement } from \"react\"\nimport { Typography } from \"@material-ui/core\"\nimport { SectionTitleProps } from \"./_config/shape\"\nimport useSTStyles from \"./_config/styles\"\n\n/**\n * Abstraction for the Typography for a consistent heading for sections\n *\n * @param {SectionTitleProps} props Mimics the props for `<Typography>`\n * @returns ReactElement\n */\nconst SectionTitle = ({\n\tchildren,\n\tclassName,\n\t...props\n}: SectionTitleProps): ReactElement => {\n\tconst styles = useSTStyles()\n\treturn (\n\t\t<Typography\n\t\t\tvariant=\"h4\"\n\t\t\tcolor=\"textPrimary\"\n\t\t\tclassName={`${styles.title} ${className}`}\n\t\t\t// eslint-disable-next-line react/jsx-props-no-spreading\n\t\t\t{...props}\n\t\t>\n\t\t\t{children}\n\t\t</Typography>\n\t)\n}\n\nexport default SectionTitle\n","/**\n * Add Padding\n *\n * add white space around some content\n */\n\nimport { format } from \"date-fns\"\n\nexport const addPadding = (content: any, margin = 10) => {\n\treturn {\n\t\tmargin,\n\t\tcolumns: [content],\n\t}\n}\n\n/**\n * Page and margin defaults\n */\n\nexport const pageDefaultSettings = () => {\n\treturn {\n\t\t// watermark: {\n\t\t// \ttext: \"draft\",\n\t\t// \tcolor: \"blue\",\n\t\t// \topacity: 0.3,\n\t\t// \tbold: true,\n\t\t// \titalics: false,\n\t\t// },\n\n\t\tpageSize: \"A4\",\n\t\tpageMargins: [0, 0, 0, 25],\n\t\tfooter: {\n\t\t\tcolumns: [\n\t\t\t\t{\n\t\t\t\t\ttext: `Created on the ${format(new Date(), \"do 'of' MMMM yyyy\")}`,\n\t\t\t\t\talignment: \"center\",\n\t\t\t\t\tfontSize: 12,\n\t\t\t\t\tcolor: \"#333\",\n\t\t\t\t},\n\t\t\t],\n\t\t},\n\t}\n}\n\n/**\n * Frame Content\n *\n * Put content in a table with a border\n */\n\nexport const frameContent = (inner: any, style: string[] = []) => {\n\treturn {\n\t\ttable: {\n\t\t\twidths: [\"*\"], // to make it full length\n\t\t\tbody: [[inner]],\n\t\t},\n\t\tstyle,\n\t}\n}\n\n/**\n * Table with Text in it for top of page\n * Requires a pageHeader style\n */\n\nexport const pageHeading = (text: string) => {\n\tconst content = frameContent(addPadding(text), [\"pageHeader\"])\n\n\treturn {\n\t\t...content,\n\t\tlayout: \"noBorders\",\n\t}\n}\n\n/**\n * Add 20 points of padding on a full page\n */\n\nexport const pagePadding = (content: any) => addPadding(content, 20)\n\n/**\n * Basic table of key .... value\n */\n\nexport const basicTable = (items: any, style: string[] = []) => {\n\treturn {\n\t\ttable: {\n\t\t\twidths: [\"75%\", \"*\"],\n\t\t\tbody: items,\n\t\t},\n\t\tstyle,\n\t\tlayout: \"noBorders\",\n\t}\n}\n","import { isAfter } from \"date-fns\"\nimport { CFCStruct, ClientId, CFCId } from \"../../../data/_config/shape\"\nimport CFCUseCase from \"../../../data/CFC/CFCLogic\"\nimport { SelectFieldOptions } from \"../../SelectField/SelectField\"\nimport { canvasDisplayTitle } from \"../../CFC/__config/utilities\"\nimport { CanvasTuple } from \"./shape\"\nimport filterById from \"../../../util/filters/ById\"\nimport {\n\ttoTwoDecimal,\n\tremoveTrailingZeros,\n} from \"../../../util/money/formatting\"\nimport concatStr from \"../../../util/strings/concatStr\"\nimport { pipe } from \"../../../util/reduce/math\"\n\ntype Client = ClientId | undefined\n\n/**\n * Fetches the canvases for a specific client\n *\n * @param {Client} client\n * @returns {Promise<CFCStruct[]>}\n */\nexport async function getCanvasData(client: Client): Promise<CFCStruct[]> {\n\tif (!client) return []\n\tconst data = await CFCUseCase.findByClient(client)\n\treturn data\n}\n\n/**\n * Reduces a CFC object into options for the select field\n *\n * @returns {ReducerHOF<SelectFieldOptions, CFCStruct>}\n */\nexport function reduceToOptions(): ReducerHOF<SelectFieldOptions, CFCStruct> {\n\treturn (acc, cur): SelectFieldOptions => {\n\t\treturn acc.concat({\n\t\t\tvalue: cur.id || -1,\n\t\t\tlabel: canvasDisplayTitle(cur),\n\t\t})\n\t}\n}\n\n/**\n * Changes which canvases are selected for comparing\n *\n * @export\n * @param {CFCStruct[]} allCanvases\n * @param {CanvasTuple} selected\n * @param {number} idx\n * @param {CFCId} id\n * @returns {CanvasTuple}\n */\nexport function changeSelected(\n\tallCanvases: CFCStruct[],\n\tselected: CanvasTuple,\n\tidx: number,\n\tid: CFCId\n): CanvasTuple {\n\tconst newItem = allCanvases.filter(filterById(id))[0]\n\t// return if undefined\n\tif (!newItem) return selected\n\n\tif (idx === 0) {\n\t\tif (isAfter(selected[1].canvasStartDate, newItem.canvasStartDate)) {\n\t\t\treturn [selected[1], newItem]\n\t\t}\n\t\treturn [newItem, selected[1]]\n\t}\n\n\tif (isAfter(newItem.canvasStartDate, selected[0].canvasStartDate)) {\n\t\treturn [newItem, selected[0]]\n\t}\n\treturn [selected[0], newItem]\n}\n\n/**\n * Calculated the percentage difference of two fields\n *\n * @export\n * @param {number} val1\n * @param {number} val2\n * @returns {string}\n */\nexport function calculateDifferencePer(val1: number, val2: number): string {\n\tif (val2 === 0) return \"N/A\"\n\tconst diff = ((val1 - val2) / val2) * 100\n\n\treturn pipe(toTwoDecimal, removeTrailingZeros, concatStr(\"%\"))(`${diff}`)\n}\n","import pdfMake from \"pdfmake/build/pdfmake\"\nimport { detect } from \"detect-browser\"\n\nexport default function (pdf: pdfMake.TCreatedPdf): void {\n\tconst browser = detect()\n\tif (browser?.name === \"ie\" || browser?.name === \"edge\") {\n\t\tpdf.download()\n\t\treturn\n\t}\n\n\tpdf.open()\n}\n","import { v4 as uuidv4 } from \"uuid\"\nimport { CashFlow } from \"../../data/_config/shape\"\n\nexport default function createCashFlowItem(\n\tdescription = \"\",\n\tamount = 0,\n\tgstApplicable = true\n): CashFlow {\n\treturn {\n\t\tid: uuidv4(),\n\t\tdescription,\n\t\tamount,\n\t\tgstApplicable,\n\t}\n}\n","import pdfMake from \"pdfmake/build/pdfmake\"\nimport pdfFonts from \"pdfmake/build/vfs_fonts\"\nimport { green } from \"@material-ui/core/colors\"\nimport { format } from \"date-fns\"\nimport {\n\tframeContent,\n\tbasicTable,\n\tpageDefaultSettings,\n\tpageHeading,\n\tpagePadding,\n} from \"./PDFLib\"\nimport { BaseCFCStruct, CashFlow } from \"../../data/_config/shape\"\nimport {\n\tcalcCashFlowGST,\n\tcalcCashFlowTotal,\n\tcalcTotalCashOut,\n} from \"../../state/CFC/accumulators\"\nimport { calculateInitial } from \"../Forms/CFC\"\nimport { canvasDisplayTitle } from \"../CFC/__config/utilities\"\nimport upperFirst from \"../../util/strings/upperCaseFirst\"\n\npdfMake.vfs = pdfFonts.pdfMake.vfs\n\nconst formatDollars = (value: number) => `$${value.toString()}`\n\nconst openingBalanceSection = (openingBalance: number): any => {\n\treturn frameContent(\n\t\tbasicTable([\n\t\t\t[\n\t\t\t\t\"Opening Balance\",\n\t\t\t\t{ text: formatDollars(openingBalance), style: [\"rightAlign\"] },\n\t\t\t],\n\t\t])\n\t)\n}\n\nconst cashInSection = (cashInItems: CashFlow[], cashInTotal: number): any => {\n\treturn frameContent([\n\t\t{\n\t\t\ttext: \"Cash IN\",\n\t\t\tbold: true,\n\t\t},\n\t\tbasicTable([\n\t\t\t...cashInItems.map((line) => [\n\t\t\t\tline.description,\n\t\t\t\t{ text: formatDollars(line.amount), style: [\"rightAlign\"] },\n\t\t\t]),\n\t\t\t[\n\t\t\t\t\"Total (Exc GST)\",\n\t\t\t\t{\n\t\t\t\t\ttext: formatDollars(cashInTotal),\n\t\t\t\t\tstyle: [\"rightAlign\"],\n\t\t\t\t},\n\t\t\t],\n\t\t]),\n\t])\n}\n\nconst gstOnSalesSection = (gstOnSales: number): any => {\n\treturn frameContent(\n\t\tbasicTable(\n\t\t\t[\n\t\t\t\t[\n\t\t\t\t\t\"GST on Sales\",\n\t\t\t\t\t{ text: formatDollars(gstOnSales), style: [\"rightAlign\"] },\n\t\t\t\t],\n\t\t\t],\n\t\t\t[\"yellowBlock\"]\n\t\t)\n\t)\n}\n\nconst cashOutSection = (\n\tcashOutItems: CashFlow[],\n\tcashOutTotal: number\n): any => {\n\treturn frameContent([\n\t\t{ text: \"Cash OUT\", bold: true },\n\t\tbasicTable([\n\t\t\t...cashOutItems.map((line) => [\n\t\t\t\tline.description,\n\t\t\t\t{ text: formatDollars(line.amount), style: [\"rightAlign\"] },\n\t\t\t]),\n\t\t\t[\n\t\t\t\t\"Total (Exc GST)\",\n\t\t\t\t{\n\t\t\t\t\ttext: formatDollars(cashOutTotal),\n\t\t\t\t\tstyle: [\"rightAlign\"],\n\t\t\t\t},\n\t\t\t],\n\t\t]),\n\t])\n}\n\nconst gstOnPurchasesSection = (\n\tgstOnPurchases: number,\n\tpaygWithholding: number,\n\tsuperAmount: number\n): any => {\n\treturn frameContent(\n\t\tbasicTable(\n\t\t\t[\n\t\t\t\t[\n\t\t\t\t\t\"GST on Purchases\",\n\t\t\t\t\t{ text: formatDollars(gstOnPurchases), style: [\"rightAlign\"] },\n\t\t\t\t],\n\t\t\t\t[\n\t\t\t\t\t\"PAYG Withholding\",\n\t\t\t\t\t{ text: formatDollars(paygWithholding), style: [\"rightAlign\"] },\n\t\t\t\t],\n\t\t\t\t[\"Super\", { text: formatDollars(superAmount), style: [\"rightAlign\"] }],\n\t\t\t],\n\t\t\t[\"yellowBlock\"]\n\t\t)\n\t)\n}\n\nconst cashSurplusSection = (cashSurplus: number): any => {\n\treturn frameContent(\n\t\tbasicTable([\n\t\t\t[\n\t\t\t\t\"Cash Surplus\",\n\t\t\t\t{ text: formatDollars(cashSurplus), style: [\"rightAlign\"] },\n\t\t\t],\n\t\t])\n\t)\n}\n\nconst incomeSection = (incomeTax: number): any => {\n\treturn frameContent(\n\t\tbasicTable(\n\t\t\t[\n\t\t\t\t[\n\t\t\t\t\t\"Income/Company Tax\",\n\t\t\t\t\t// TODO: Needs to use the new calculations in feature/122 branch\n\t\t\t\t\t{ text: formatDollars(incomeTax), style: [\"rightAlign\"] },\n\t\t\t\t],\n\t\t\t],\n\t\t\t[\"yellowBlock\"]\n\t\t)\n\t)\n}\n\nconst availableToSpendSection = (availableToSpend: number): any => {\n\treturn frameContent(\n\t\tbasicTable([\n\t\t\t[\n\t\t\t\t\"Available to spend\",\n\t\t\t\t{ text: formatDollars(availableToSpend), style: [\"rightAlign\"] },\n\t\t\t],\n\t\t])\n\t)\n}\n\nconst closingCashBalanceSection = (\n\tcashToOwner: number,\n\tclosingBalance: number\n): any => {\n\treturn frameContent([\n\t\t{ text: \"Your Closing Cash Balance\", bold: true },\n\t\tbasicTable([\n\t\t\t[\n\t\t\t\t\"Cash to owner\",\n\t\t\t\t{ text: formatDollars(cashToOwner), style: [\"rightAlign\"] },\n\t\t\t],\n\t\t\t[\n\t\t\t\t\"Closing balance\",\n\t\t\t\t{ text: formatDollars(closingBalance), style: [\"rightAlign\"] },\n\t\t\t],\n\t\t]),\n\t])\n}\n\nconst yourNetAssetPositionSection = (\n\tstock: number,\n\tcreditors: number,\n\tdebtors: number,\n\tassets: number,\n\tloans: number,\n\ttotalNetAssets: number\n): any => {\n\treturn frameContent([\n\t\t{ text: \"Your net asset position\", bold: true },\n\t\tbasicTable([\n\t\t\t[\"Stocks\", { text: formatDollars(stock), style: [\"rightAlign\"] }],\n\t\t\t[\"Creditors\", { text: formatDollars(creditors), style: [\"rightAlign\"] }],\n\t\t\t[\"Debtors\", { text: formatDollars(debtors), style: [\"rightAlign\"] }],\n\t\t\t[\"Assets\", { text: formatDollars(assets), style: [\"rightAlign\"] }],\n\t\t\t[\"Loans\", { text: formatDollars(loans), style: [\"rightAlign\"] }],\n\t\t\t[\n\t\t\t\t{ text: \"Total net assets\", bold: true },\n\t\t\t\t{ text: formatDollars(totalNetAssets), style: [\"rightAlign\"] },\n\t\t\t],\n\t\t]),\n\t])\n}\n\nexport default async (title: string, values: BaseCFCStruct) => {\n\tconst {\n\t\topeningBalance,\n\t\tcashInItems,\n\t\tcashOutItems,\n\t\tpaygWithholding,\n\t\tsuperAmount,\n\t\tincomeTax,\n\t\tcashToOwner,\n\t\tstock,\n\t\tcreditors,\n\t\tdebtors,\n\t\tassets,\n\t\tloans,\n\t} = values\n\n\tconst cashInTotal = calcCashFlowTotal(cashInItems)\n\tconst cashInGST = calcCashFlowGST(cashInItems)\n\tconst cashOutTotal = calcTotalCashOut(values)\n\tconst cashOutGST = calcCashFlowGST(cashOutItems)\n\n\tconst calculated = calculateInitial(values)\n\tconst {\n\t\tcashSurplus,\n\t\tavailableToSpend,\n\t\tclosingBalance,\n\t\ttotalNetAssets,\n\t} = calculated\n\n\tconst docDefinition: any = {\n\t\t...pageDefaultSettings(),\n\n\t\tcontent: [\n\t\t\tpageHeading(`${title} - CANVAS - ${canvasDisplayTitle(values)}`),\n\t\t\tpagePadding([\n\t\t\t\tframeContent({\n\t\t\t\t\ttable: {\n\t\t\t\t\t\twidths: [\"25%\", \"25%\", \"25%\", \"25%\"],\n\t\t\t\t\t\tbody: [\n\t\t\t\t\t\t\t[\n\t\t\t\t\t\t\t\t[\n\t\t\t\t\t\t\t\t\t{ text: \"Canvas Type\", bold: true },\n\t\t\t\t\t\t\t\t\tupperFirst(values.canvasType),\n\t\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\t\t[\n\t\t\t\t\t\t\t\t\t{ text: \"Time-frame\", bold: true },\n\t\t\t\t\t\t\t\t\tupperFirst(values.canvasTimeFrame),\n\t\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\t\t[\n\t\t\t\t\t\t\t\t\t{ text: \"Start date\", bold: true },\n\t\t\t\t\t\t\t\t\t`${format(values.canvasStartDate, \"dd/MM/yyyy\")}`,\n\t\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\t\t[\n\t\t\t\t\t\t\t\t\t{ text: \"End date\", bold: true },\n\t\t\t\t\t\t\t\t\t`${format(values.canvasEndDate, \"dd/MM/yyyy\")}`,\n\t\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\t],\n\t\t\t\t\t\t],\n\t\t\t\t\t},\n\t\t\t\t\tlayout: \"noBorders\",\n\t\t\t\t}),\n\t\t\t\t\" \",\n\t\t\t\topeningBalanceSection(openingBalance),\n\n\t\t\t\t{\n\t\t\t\t\ttable: {\n\t\t\t\t\t\twidths: [\"60%\", \"*\"],\n\t\t\t\t\t\tbody: [\n\t\t\t\t\t\t\t[\n\t\t\t\t\t\t\t\tcashInSection(cashInItems, cashInTotal),\n\t\t\t\t\t\t\t\tgstOnSalesSection(cashInGST),\n\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\t[\n\t\t\t\t\t\t\t\tcashOutSection(cashOutItems, cashOutTotal),\n\t\t\t\t\t\t\t\tgstOnPurchasesSection(cashOutGST, paygWithholding, superAmount),\n\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\t[cashSurplusSection(cashSurplus), incomeSection(incomeTax)],\n\t\t\t\t\t\t\t[availableToSpendSection(availableToSpend), {}],\n\t\t\t\t\t\t\t[closingCashBalanceSection(cashToOwner, closingBalance), {}],\n\t\t\t\t\t\t\t[\n\t\t\t\t\t\t\t\tyourNetAssetPositionSection(\n\t\t\t\t\t\t\t\t\tstock,\n\t\t\t\t\t\t\t\t\tcreditors,\n\t\t\t\t\t\t\t\t\tdebtors,\n\t\t\t\t\t\t\t\t\tassets,\n\t\t\t\t\t\t\t\t\tloans,\n\t\t\t\t\t\t\t\t\ttotalNetAssets\n\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t{},\n\t\t\t\t\t\t\t],\n\t\t\t\t\t\t],\n\t\t\t\t\t},\n\t\t\t\t\tlayout: \"noBorders\",\n\t\t\t\t},\n\t\t\t]),\n\t\t],\n\n\t\tstyles: {\n\t\t\tpageHeader: {\n\t\t\t\tfontSize: 20,\n\t\t\t\tbold: true,\n\t\t\t\tfillColor: green[\"800\"],\n\t\t\t\tcolor: \"white\",\n\t\t\t\talignment: \"center\",\n\t\t\t},\n\t\t\trightAlign: {\n\t\t\t\t// fillColor: \"#CCCCCC\",\n\t\t\t\talignment: \"right\",\n\t\t\t},\n\t\t\tyellowBlock: {\n\t\t\t\tfillColor: \"yellow\",\n\t\t\t},\n\t\t},\n\n\t\tdefaultStyle: {\n\t\t\tfontSize: 15,\n\t\t\tbold: false,\n\t\t},\n\t}\n\treturn pdfMake.createPdf(docDefinition)\n}\n","import React, { ReactElement } from \"react\"\nimport { Typography } from \"@material-ui/core\"\nimport { Link } from \"react-router-dom\"\nimport { PrivateRoutes, routeVarReplacement } from \"../../util/routes/routes\"\n\n/**\n * No canvas data message\n *\n * @export\n * @returns {ReactElement}\n */\nexport default function NoCanvases(): ReactElement {\n\treturn (\n\t\t<>\n\t\t\t<Typography variant=\"h6\">No canvas data found</Typography>\n\t\t\t<Typography>\n\t\t\t\tCheck that you have the correct{\" \"}\n\t\t\t\t<Link to={PrivateRoutes.ClientList}>client selected</Link> or{\" \"}\n\t\t\t\t<Link to={routeVarReplacement(PrivateRoutes.CFC, [[\":id?\", \"\"]])}>\n\t\t\t\t\tstart a new canvas\n\t\t\t\t</Link>\n\t\t\t\t.\n\t\t\t</Typography>\n\t\t</>\n\t)\n}\n","import { makeStyles } from \"@material-ui/core\"\n\nconst useStyles = makeStyles((theme) => ({\n\tcompareLabel: {\n\t\tdisplay: \"flex\",\n\t\talignItems: \"center\",\n\t},\n\tcompareTooltip: {\n\t\tmarginLeft: theme.spacing(1),\n\t},\n\tcell1: {\n\t\twidth: \"20%\",\n\t},\n\tcellCanvas: {\n\t\twidth: \"25%\",\n\t},\n\tcellDifference: {\n\t\twidth: \"15%\",\n\t},\n\ttableRow: {\n\t\t\"&:hover\": {\n\t\t\tbackground: theme.palette.grey[100],\n\t\t},\n\t},\n\tnoBorderBottom: {\n\t\tborderBottom: \"none\",\n\t},\n\ttable: {\n\t\t[theme.breakpoints.down(\"md\")]: {\n\t\t\tminWidth: theme.breakpoints.values.md,\n\t\t},\n\t},\n\tto: {\n\t\t[theme.breakpoints.down(\"md\")]: {\n\t\t\tmarginTop: -theme.spacing(1),\n\t\t\tmarginBottom: -theme.spacing(1),\n\t\t},\n\t},\n}))\n\nexport default useStyles\n","import React, { ReactElement } from \"react\"\nimport Alert from \"@material-ui/lab/Alert\"\n\n/**\n * Message to display when comparing canvases are in different time frames\n *\n * @export\n * @returns {ReactElement}\n */\nexport default function TimeframeOutOfSync(): ReactElement {\n\treturn (\n\t\t<Alert severity=\"warning\">\n\t\t\tThe two selected canvases are in different time-frames. The calculations\n\t\t\twill not be accurate.\n\t\t</Alert>\n\t)\n}\n","import React, { ReactElement, useMemo, ChangeEvent } from \"react\"\nimport { Typography, Grid, Tooltip } from \"@material-ui/core\"\nimport InfoIcon from \"@material-ui/icons/Info\"\nimport { CompareSelectorProps } from \"./__config/shape\"\nimport SelectField from \"../SelectField\"\nimport { reduceToOptions } from \"./__config/utilities\"\nimport useStyles from \"./__config/styles\"\nimport TimeframeOutOfSync from \"./TimeframeOutOfSync\"\n\nconst tipContent =\n\t\"The canvas with the later date will always move to the left-side of the comparison\"\n\n/**\n * Selector to choose between different canvases\n *\n * @export\n * @param {CompareSelectorProps} {\n * \tselectedCanvases: [leftSelected, rightSelected],\n * \tallCanvases,\n * }\n * @returns {ReactElement}\n */\nexport default function CompareSelector({\n\tselectedCanvases: [leftSelected, rightSelected],\n\tallCanvases,\n\tchangeSelected,\n}: CompareSelectorProps): ReactElement {\n\tconst cls = useStyles()\n\n\tconst selectOptions = useMemo(() => {\n\t\treturn allCanvases.reduce(reduceToOptions(), [])\n\t}, [allCanvases])\n\n\tconst changeSelectedCanvas = (idx: number) => (\n\t\te: ChangeEvent<HTMLInputElement>\n\t): void => {\n\t\tchangeSelected(idx, e.target.value)\n\t}\n\n\treturn (\n\t\t<Grid container spacing={2} alignItems=\"center\">\n\t\t\t<Grid item xs={12} md={3}>\n\t\t\t\t<Typography variant=\"h6\" className={cls.compareLabel}>\n\t\t\t\t\tCompare\n\t\t\t\t\t<Tooltip title={tipContent} className={cls.compareTooltip}>\n\t\t\t\t\t\t<InfoIcon color=\"primary\" />\n\t\t\t\t\t</Tooltip>\n\t\t\t\t</Typography>\n\t\t\t</Grid>\n\t\t\t<Grid item xs={12} md={4}>\n\t\t\t\t<SelectField\n\t\t\t\t\tname=\"left-side-compare\"\n\t\t\t\t\tlabel=\"Canvas\"\n\t\t\t\t\tvalue={leftSelected?.id || -1}\n\t\t\t\t\tonChange={changeSelectedCanvas(0)}\n\t\t\t\t\toptions={selectOptions}\n\t\t\t\t/>\n\t\t\t</Grid>\n\t\t\t<Grid item xs={12} md={1} className={cls.to}>\n\t\t\t\t<Typography align=\"center\" variant=\"overline\" component=\"p\">\n\t\t\t\t\tto\n\t\t\t\t</Typography>\n\t\t\t</Grid>\n\t\t\t<Grid item xs={12} md={4}>\n\t\t\t\t<SelectField\n\t\t\t\t\tname=\"right-side-compare\"\n\t\t\t\t\tlabel=\"Canvas\"\n\t\t\t\t\tvalue={rightSelected?.id || -1}\n\t\t\t\t\tonChange={changeSelectedCanvas(1)}\n\t\t\t\t\toptions={selectOptions}\n\t\t\t\t/>\n\t\t\t</Grid>\n\t\t\t{leftSelected.canvasTimeFrame !== rightSelected.canvasTimeFrame && (\n\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t<TimeframeOutOfSync />\n\t\t\t\t</Grid>\n\t\t\t)}\n\t\t</Grid>\n\t)\n}\n","import React, { ReactElement } from \"react\"\nimport { TableHead, TableRow, TableCell } from \"@material-ui/core\"\nimport { TableHeaderProps } from \"./__config/shape\"\nimport { canvasDisplayTitle } from \"../CFC/__config/utilities\"\nimport useStyles from \"./__config/styles\"\n\n/**\n * Component used as the table header\n *\n * @export\n * @param {TableHeaderProps} {\n * \tselectedCanvases: [left, right],\n * }\n * @returns {ReactElement}\n */\nexport default React.memo(function TableHeader({\n\tselectedCanvases: [left, right],\n}: TableHeaderProps): ReactElement {\n\tconst cls = useStyles()\n\n\treturn (\n\t\t<TableHead>\n\t\t\t<TableRow>\n\t\t\t\t<TableCell className={cls.cell1}>\n\t\t\t\t\t<span className=\"MuiTypography-srOnly\">Cash category</span>\n\t\t\t\t</TableCell>\n\t\t\t\t<TableCell className={cls.cellCanvas}>\n\t\t\t\t\t{canvasDisplayTitle(left)}\n\t\t\t\t</TableCell>\n\t\t\t\t<TableCell className={cls.cellCanvas}>\n\t\t\t\t\t{canvasDisplayTitle(right)}\n\t\t\t\t</TableCell>\n\t\t\t\t<TableCell className={cls.cellDifference}>$ Difference</TableCell>\n\t\t\t\t<TableCell className={cls.cellDifference}>% Difference</TableCell>\n\t\t\t</TableRow>\n\t\t</TableHead>\n\t)\n})\n","import React, { ReactElement } from \"react\"\nimport { TableCell, TableRow } from \"@material-ui/core\"\nimport { CanvasItemRowProps } from \"./__config/shape\"\nimport { calculateDifferencePer } from \"./__config/utilities\"\nimport { addDollarSign, formatNumber } from \"../../util/money/formatting\"\nimport useStyles from \"./__config/styles\"\n\n/**\n * Used to display the data related to a value for a field in the canvas\n *\n * @export\n * @param {CanvasItemRowProps} {\n * \tvalues: [val1, val2],\n * \tlabel,\n * \tbold\n * \tborder\n * }\n * @returns {ReactElement}\n */\nexport default function CanvasItemRow({\n\tvalues: [val1, val2],\n\tlabel,\n\tbold = false,\n\tborder = true,\n}: CanvasItemRowProps): ReactElement {\n\tconst cls = useStyles()\n\n\treturn (\n\t\t<TableRow className={cls.tableRow}>\n\t\t\t<TableCell\n\t\t\t\tclassName={border ? \"\" : cls.noBorderBottom}\n\t\t\t\tvariant={bold ? \"head\" : \"body\"}\n\t\t\t>\n\t\t\t\t{label || \"\"}\n\t\t\t</TableCell>\n\t\t\t<TableCell\n\t\t\t\tclassName={border ? \"\" : cls.noBorderBottom}\n\t\t\t\tvariant={bold ? \"head\" : \"body\"}\n\t\t\t>\n\t\t\t\t{formatNumber(`${val1}`)}\n\t\t\t</TableCell>\n\t\t\t<TableCell\n\t\t\t\tclassName={border ? \"\" : cls.noBorderBottom}\n\t\t\t\tvariant={bold ? \"head\" : \"body\"}\n\t\t\t>\n\t\t\t\t{formatNumber(`${val2}`)}\n\t\t\t</TableCell>\n\t\t\t<TableCell\n\t\t\t\tclassName={border ? \"\" : cls.noBorderBottom}\n\t\t\t\tvariant={bold ? \"head\" : \"body\"}\n\t\t\t>\n\t\t\t\t{addDollarSign(formatNumber(`${val1 - val2}`))}\n\t\t\t</TableCell>\n\t\t\t<TableCell\n\t\t\t\tclassName={border ? \"\" : cls.noBorderBottom}\n\t\t\t\tvariant={bold ? \"head\" : \"body\"}\n\t\t\t>\n\t\t\t\t{calculateDifferencePer(val1, val2)}\n\t\t\t</TableCell>\n\t\t</TableRow>\n\t)\n}\n","import React, { ReactElement, useMemo } from \"react\"\nimport { TableContainer, Table, TableBody, TableCell } from \"@material-ui/core\"\nimport TableHeader from \"./TableHeader\"\nimport CanvasItemRow from \"./CanvasItemRow\"\nimport { CompareTableProps } from \"./__config/shape\"\nimport { calculateInitial } from \"../Forms/CFC\"\nimport { calcCashFlowTotal } from \"../../state/CFC/accumulators\"\nimport { CashFlow } from \"../../data/_config/shape\"\nimport arrayFillWith from \"../../util/array/arrayFillWith\"\nimport { newTimestamp } from \"../../util/dates\"\nimport useStyles from \"./__config/styles\"\n\n/**\n * The component used to display the data in a table format\n *\n * @export\n * @param {CompareTableProps} {\n * \tselectedCanvases,\n * }\n * @returns {ReactElement}\n */\nexport default function CompareTable({\n\tselectedCanvases,\n}: CompareTableProps): ReactElement {\n\tconst cls = useStyles()\n\n\tconst leftCalculated = useMemo(() => {\n\t\treturn calculateInitial(selectedCanvases[0])\n\t}, [selectedCanvases])\n\n\tconst rightCalculated = useMemo(() => {\n\t\treturn calculateInitial(selectedCanvases[1])\n\t}, [selectedCanvases])\n\n\t/**\n\t * Renders the repeater form values\n\t *\n\t * @param {CashFlow[]} val1\n\t * @param {CashFlow[]} val2\n\t * @returns {ReactElement[]}\n\t */\n\tfunction renderRepeaterFields(\n\t\tval1: CashFlow[],\n\t\tval2: CashFlow[]\n\t): ReactElement[] {\n\t\tconst len = val1.length > val2.length ? val1.length : val2.length\n\t\tconst arr = arrayFillWith(len, 0)\n\t\treturn arr.map((item, idx) => (\n\t\t\t<CanvasItemRow\n\t\t\t\tkey={val1[idx]?.id || val2[idx]?.id || newTimestamp()}\n\t\t\t\tvalues={[val1[idx]?.amount || 0, val2[idx]?.amount || 0]}\n\t\t\t\tborder={idx >= len - 1}\n\t\t\t/>\n\t\t))\n\t}\n\n\treturn (\n\t\t<TableContainer>\n\t\t\t<Table className={cls.table}>\n\t\t\t\t<TableHeader selectedCanvases={selectedCanvases} />\n\t\t\t\t<TableBody>\n\t\t\t\t\t<CanvasItemRow\n\t\t\t\t\t\tbold\n\t\t\t\t\t\tlabel=\"Opening Balance\"\n\t\t\t\t\t\tvalues={[\n\t\t\t\t\t\t\tselectedCanvases[0].openingBalance,\n\t\t\t\t\t\t\tselectedCanvases[1].openingBalance,\n\t\t\t\t\t\t]}\n\t\t\t\t\t/>\n\t\t\t\t\t<TableCell colSpan={5} variant=\"head\" className={cls.noBorderBottom}>\n\t\t\t\t\t\tCash IN\n\t\t\t\t\t</TableCell>\n\t\t\t\t\t{renderRepeaterFields(\n\t\t\t\t\t\tselectedCanvases[0].cashInItems,\n\t\t\t\t\t\tselectedCanvases[1].cashInItems\n\t\t\t\t\t)}\n\t\t\t\t\t<CanvasItemRow\n\t\t\t\t\t\tlabel=\"GST on sales\"\n\t\t\t\t\t\tvalues={[leftCalculated.gstOnSales, rightCalculated.gstOnSales]}\n\t\t\t\t\t/>\n\t\t\t\t\t<CanvasItemRow\n\t\t\t\t\t\tbold\n\t\t\t\t\t\tlabel=\"Total (exc GST)\"\n\t\t\t\t\t\tvalues={[\n\t\t\t\t\t\t\tcalcCashFlowTotal(selectedCanvases[0].cashInItems),\n\t\t\t\t\t\t\tcalcCashFlowTotal(selectedCanvases[1].cashInItems),\n\t\t\t\t\t\t]}\n\t\t\t\t\t/>\n\t\t\t\t\t<TableCell colSpan={5} variant=\"head\" className={cls.noBorderBottom}>\n\t\t\t\t\t\tCash OUT\n\t\t\t\t\t</TableCell>\n\t\t\t\t\t{renderRepeaterFields(\n\t\t\t\t\t\tselectedCanvases[0].cashOutItems,\n\t\t\t\t\t\tselectedCanvases[1].cashOutItems\n\t\t\t\t\t)}\n\t\t\t\t\t<CanvasItemRow\n\t\t\t\t\t\tlabel=\"GST on Purchases\"\n\t\t\t\t\t\tvalues={[\n\t\t\t\t\t\t\tleftCalculated.gstOnPurchases,\n\t\t\t\t\t\t\trightCalculated.gstOnPurchases,\n\t\t\t\t\t\t]}\n\t\t\t\t\t/>\n\t\t\t\t\t<CanvasItemRow\n\t\t\t\t\t\tbold\n\t\t\t\t\t\tlabel=\"Total (exc GST)\"\n\t\t\t\t\t\tvalues={[\n\t\t\t\t\t\t\tcalcCashFlowTotal(selectedCanvases[0].cashOutItems),\n\t\t\t\t\t\t\tcalcCashFlowTotal(selectedCanvases[1].cashOutItems),\n\t\t\t\t\t\t]}\n\t\t\t\t\t/>\n\t\t\t\t\t<CanvasItemRow\n\t\t\t\t\t\tbold\n\t\t\t\t\t\tlabel=\"Cash Surplus\"\n\t\t\t\t\t\tvalues={[leftCalculated.cashSurplus, rightCalculated.cashSurplus]}\n\t\t\t\t\t/>\n\t\t\t\t\t<CanvasItemRow\n\t\t\t\t\t\tlabel=\"Income/Company Tax\"\n\t\t\t\t\t\tvalues={[\n\t\t\t\t\t\t\tleftCalculated.incomeTaxPercentage,\n\t\t\t\t\t\t\trightCalculated.incomeTaxPercentage,\n\t\t\t\t\t\t]}\n\t\t\t\t\t/>\n\t\t\t\t\t<CanvasItemRow\n\t\t\t\t\t\tbold\n\t\t\t\t\t\tlabel=\"Available to spend\"\n\t\t\t\t\t\tvalues={[\n\t\t\t\t\t\t\tleftCalculated.availableToSpend,\n\t\t\t\t\t\t\trightCalculated.availableToSpend,\n\t\t\t\t\t\t]}\n\t\t\t\t\t/>\n\t\t\t\t\t<CanvasItemRow\n\t\t\t\t\t\tlabel=\"Cash to Owner\"\n\t\t\t\t\t\tvalues={[\n\t\t\t\t\t\t\tselectedCanvases[0].cashToOwner,\n\t\t\t\t\t\t\tselectedCanvases[1].cashToOwner,\n\t\t\t\t\t\t]}\n\t\t\t\t\t/>\n\t\t\t\t\t<CanvasItemRow\n\t\t\t\t\t\tbold\n\t\t\t\t\t\tlabel=\"Closing balance\"\n\t\t\t\t\t\tvalues={[\n\t\t\t\t\t\t\tleftCalculated.closingBalance,\n\t\t\t\t\t\t\trightCalculated.closingBalance,\n\t\t\t\t\t\t]}\n\t\t\t\t\t/>\n\t\t\t\t\t<CanvasItemRow\n\t\t\t\t\t\tlabel=\"Stock\"\n\t\t\t\t\t\tvalues={[selectedCanvases[0].stock, selectedCanvases[1].stock]}\n\t\t\t\t\t/>\n\t\t\t\t\t<CanvasItemRow\n\t\t\t\t\t\tlabel=\"Debtors\"\n\t\t\t\t\t\tvalues={[selectedCanvases[0].debtors, selectedCanvases[1].debtors]}\n\t\t\t\t\t/>\n\t\t\t\t\t<CanvasItemRow\n\t\t\t\t\t\tlabel=\"Assets\"\n\t\t\t\t\t\tvalues={[selectedCanvases[0].assets, selectedCanvases[1].assets]}\n\t\t\t\t\t/>\n\t\t\t\t\t<CanvasItemRow\n\t\t\t\t\t\tlabel=\"Creditors\"\n\t\t\t\t\t\tvalues={[\n\t\t\t\t\t\t\tselectedCanvases[0].creditors,\n\t\t\t\t\t\t\tselectedCanvases[1].creditors,\n\t\t\t\t\t\t]}\n\t\t\t\t\t/>\n\t\t\t\t\t<CanvasItemRow\n\t\t\t\t\t\tlabel=\"Loans\"\n\t\t\t\t\t\tvalues={[selectedCanvases[0].loans, selectedCanvases[1].loans]}\n\t\t\t\t\t/>\n\t\t\t\t\t<CanvasItemRow\n\t\t\t\t\t\tbold\n\t\t\t\t\t\tlabel=\"Net Position\"\n\t\t\t\t\t\tvalues={[\n\t\t\t\t\t\t\tleftCalculated.totalNetAssets,\n\t\t\t\t\t\t\trightCalculated.totalNetAssets,\n\t\t\t\t\t\t]}\n\t\t\t\t\t/>\n\t\t\t\t</TableBody>\n\t\t\t</Table>\n\t\t</TableContainer>\n\t)\n}\n","import React, { ReactElement } from \"react\"\nimport { Typography } from \"@material-ui/core\"\nimport { Link } from \"react-router-dom\"\nimport { PrivateRoutes, routeVarReplacement } from \"../../util/routes/routes\"\n\n/**\n * Message to display when there are not enough canvases\n *\n * @export\n * @returns {ReactElement}\n */\nexport default function NotEnoughCanvases(): ReactElement {\n\treturn (\n\t\t<>\n\t\t\t<Typography variant=\"h6\">\n\t\t\t\tYou don&apos;t have enough canvases created\n\t\t\t</Typography>\n\t\t\t<Typography>\n\t\t\t\tTo continue, you&apos;ll need at least 2 canvases created. <br /> Check\n\t\t\t\tthat you have the correct{\" \"}\n\t\t\t\t<Link to={PrivateRoutes.ClientList}>client selected</Link> or{\" \"}\n\t\t\t\t<Link to={routeVarReplacement(PrivateRoutes.CFC, [[\":id?\", \"\"]])}>\n\t\t\t\t\tstart a new canvas\n\t\t\t\t</Link>\n\t\t\t\t.\n\t\t\t</Typography>\n\t\t</>\n\t)\n}\n","import React, {\n\tReactElement,\n\tuseCallback,\n\tuseEffect,\n\tuseState,\n\tuseContext,\n} from \"react\"\nimport { Divider } from \"@material-ui/core\"\nimport { useMachine } from \"@xstate/react\"\nimport { isAfter } from \"date-fns\"\nimport CompareSelector from \"./CompareSelector\"\nimport Spacer from \"../Spacer\"\nimport CompareTable from \"./CompareTable\"\nimport fetchMachine from \"../Forms/CFC/__config/machine\"\nimport NoCanvases from \"../CFC/NoCanvases\"\nimport Loading from \"../Loading\"\nimport useCurrentClient from \"../../state/client/useCurrentClient\"\nimport { CFCStruct, CFCId } from \"../../data/_config/shape\"\nimport { getCanvasData, changeSelected } from \"./__config/utilities\"\nimport NotEnoughCanvases from \"./NotEnoughCanvases\"\nimport { CanvasTuple } from \"./__config/shape\"\nimport CFCContext from \"../../state/CFC/context\"\nimport { calculateInitial } from \"../Forms/CFC\"\nimport { CFCActionTypes } from \"../../state/CFC/shape\"\nimport {\n\tcalcQuestionFour,\n\tcalcQuestionOne,\n\tcalcQuestionTwo,\n\tcalcQuestionThree,\n} from \"../CFC/__config/utilities\"\n\n/**\n * Component wrapper to display all the data in the compare table\n *\n * @export\n * @returns {ReactElement}\n */\nexport default function CompareCanvases(): ReactElement {\n\t// #region State Management\n\tconst { dispatch } = useContext(CFCContext)\n\tconst [stateMachine, changeState] = useMachine(fetchMachine)\n\tconst [currentClient, clientSynced] = useCurrentClient()\n\tconst [canvases, setCanvases] = useState<CFCStruct[]>([])\n\tconst [selectedCanvases, setSelectedCanvases] = useState<CanvasTuple>()\n\n\tuseEffect(() => {\n\t\tconst left = selectedCanvases?.[0]\n\t\tconst right = selectedCanvases?.[1]\n\n\t\tif (left && right) {\n\t\t\tconst leftCalc = calculateInitial(left)\n\t\t\tconst rightCalc = calculateInitial(right)\n\n\t\t\tdispatch({\n\t\t\t\ttype: CFCActionTypes.ChangeQuestionValues,\n\t\t\t\tpayload: {\n\t\t\t\t\tone: calcQuestionOne(leftCalc),\n\t\t\t\t\ttwo: calcQuestionTwo(\n\t\t\t\t\t\tleftCalc,\n\t\t\t\t\t\tleft.paygWithholding,\n\t\t\t\t\t\tleft.superAmount,\n\t\t\t\t\t\tleft.incomeTax\n\t\t\t\t\t),\n\t\t\t\t\tthree: calcQuestionThree(\n\t\t\t\t\t\tleft.openingBalance,\n\t\t\t\t\t\tleftCalc,\n\t\t\t\t\t\tleft.incomeTax\n\t\t\t\t\t),\n\t\t\t\t\tfour: calcQuestionFour(leftCalc, rightCalc),\n\t\t\t\t},\n\t\t\t})\n\n\t\t\tdispatch({\n\t\t\t\ttype: CFCActionTypes.ChangeCompare,\n\t\t\t\tpayload: {\n\t\t\t\t\tleft,\n\t\t\t\t\tright,\n\t\t\t\t},\n\t\t\t})\n\t\t}\n\t}, [selectedCanvases, dispatch])\n\t// #endregion\n\n\t// #region Data Fetching\n\tconst fetchCanvasData = useCallback(async () => {\n\t\tconst data = await getCanvasData(currentClient?.id)\n\t\tsetCanvases(data)\n\t\tif (data.length >= 2) {\n\t\t\tconst item1 = data[0]\n\t\t\tconst item2 = data[1]\n\t\t\tsetSelectedCanvases(\n\t\t\t\tisAfter(item1.canvasStartDate, item2.canvasStartDate)\n\t\t\t\t\t? [item1, item2]\n\t\t\t\t\t: [item2, item1]\n\t\t\t)\n\t\t}\n\t\tchangeState(data.length < 2 ? \"REJECT\" : \"RESOLVE\")\n\t}, [currentClient, changeState])\n\n\tuseEffect(() => {\n\t\tif (clientSynced) {\n\t\t\tfetchCanvasData()\n\t\t}\n\t}, [clientSynced, fetchCanvasData])\n\t// #endregion\n\n\t// #region Changing Selected Canvas\n\t/**\n\t * Change the currently selected canvas to compare\n\t *\n\t * @param {number} idx\n\t * @param {CFCId} id\n\t */\n\tfunction changeSelectedCanvas(idx: number, id: CFCId): void {\n\t\tif (!selectedCanvases) return\n\n\t\tconst newSelected = changeSelected(canvases, selectedCanvases, idx, id)\n\t\tsetSelectedCanvases(newSelected)\n\t}\n\t// #endregion\n\n\t// #region Component rendering\n\t/**\n\t * Renders the component based on the current state of the state machine\n\t *\n\t * @returns {ReactElement}\n\t */\n\tfunction renderForStateMachine(): ReactElement {\n\t\tswitch (stateMachine.value) {\n\t\t\tcase \"failure\":\n\t\t\t\treturn canvases.length === 1 ? <NotEnoughCanvases /> : <NoCanvases />\n\t\t\tcase \"success\":\n\t\t\t\treturn (\n\t\t\t\t\t<>\n\t\t\t\t\t\t<CompareSelector\n\t\t\t\t\t\t\t// eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n\t\t\t\t\t\t\tselectedCanvases={selectedCanvases!}\n\t\t\t\t\t\t\tallCanvases={canvases}\n\t\t\t\t\t\t\tchangeSelected={changeSelectedCanvas}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<Spacer />\n\t\t\t\t\t\t<Divider />\n\t\t\t\t\t\t<Spacer />\n\t\t\t\t\t\t{/* eslint-disable-next-line @typescript-eslint/no-non-null-assertion */}\n\t\t\t\t\t\t<CompareTable selectedCanvases={selectedCanvases!} />\n\t\t\t\t\t</>\n\t\t\t\t)\n\t\t\tcase \"loading\":\n\t\t\tdefault:\n\t\t\t\treturn <Loading />\n\t\t}\n\t}\n\n\treturn renderForStateMachine()\n\t// #endregion\n}\n","import React, { ReactElement, useState, useCallback, useEffect } from \"react\"\nimport CompareArrowsIcon from \"@material-ui/icons/CompareArrows\"\nimport { useHistory, useParams } from \"react-router-dom\"\nimport { ListItem, ListItemIcon, ListItemText } from \"@material-ui/core\"\nimport { PrivateRoutes } from \"../../util/routes/routes\"\nimport useCurrentClient from \"../../state/client/useCurrentClient\"\nimport CFCUseCase from \"../../data/CFC/CFCLogic\"\n\nexport default function ControlCompareLink(): ReactElement {\n\tconst history = useHistory()\n\tconst [count, setCount] = useState(0)\n\tconst { id } = useParams()\n\tconst [currentClient, clientSynced] = useCurrentClient()\n\tconst getCount = useCallback(async () => {\n\t\tif (currentClient?.id) {\n\t\t\tconst c = await CFCUseCase.countClientRecords(currentClient.id)\n\t\t\tsetCount(c)\n\t\t}\n\t}, [currentClient, setCount])\n\n\tuseEffect(() => {\n\t\tif (clientSynced) {\n\t\t\tgetCount()\n\t\t}\n\t}, [clientSynced, getCount, id])\n\n\tconst goTo = (route: PrivateRoutes) => (): void => {\n\t\t// eslint-disable-next-line\n\t\thistory.push(route)\n\t}\n\n\tif (count < 2) {\n\t\treturn <></>\n\t}\n\n\treturn (\n\t\t<ListItem button onClick={goTo(PrivateRoutes.CFCCompare)}>\n\t\t\t<ListItemIcon>\n\t\t\t\t<CompareArrowsIcon />\n\t\t\t</ListItemIcon>\n\t\t\t<ListItemText>Compare Canvasses</ListItemText>\n\t\t</ListItem>\n\t)\n}\n","import { makeStyles } from \"@material-ui/core\"\n\nconst useStyles = makeStyles((theme) => ({\n\tbox: {\n\t\tdisplay: \"flex\",\n\t\tjustifyContent: \"flex-end\",\n\t\talignItems: \"center\",\n\t\t[theme.breakpoints.down(\"sm\")]: {\n\t\t\tflexDirection: \"column\",\n\t\t\talignItems: \"flex-start\",\n\t\t},\n\t},\n\tsaveButton: {\n\t\t[theme.breakpoints.up(\"md\")]: {\n\t\t\tmarginLeft: theme.spacing(1),\n\t\t},\n\t},\n}))\n\nexport default useStyles\n","/* eslint-disable */\nimport { Worksheet, Workbook } from \"exceljs\"\nimport { ProcessFileItem } from \"./ImportDataGeneralLib\"\n\nconst rewritePattern = require(\"regexpu-core\")\nconst {\n\tgenerateRegexpuOptions,\n} = require(\"@babel/helper-create-regexp-features-plugin/lib/util\")\n\nconst { RegExp } = global\ntry {\n\tnew RegExp(\"a\", \"u\")\n} catch (err) {\n\t// @ts-ignore\n\tglobal.RegExp = function (pattern, flags) {\n\t\tif (flags && flags.includes(\"u\")) {\n\t\t\treturn new RegExp(\n\t\t\t\trewritePattern(\n\t\t\t\t\tpattern,\n\t\t\t\t\tflags,\n\t\t\t\t\tgenerateRegexpuOptions({ flags, pattern })\n\t\t\t\t)\n\t\t\t)\n\t\t}\n\t\treturn new RegExp(pattern, flags)\n\t}\n\t// @ts-ignore\n\tglobal.RegExp.prototype = RegExp\n}\n\nconst ExcelJS = require(\"exceljs/dist/es5/exceljs.browser\")\n\nconst excelCreateFromData = async (data: Uint8Array) => {\n\ttry {\n\t\tconst workbook = new ExcelJS.Workbook()\n\t\tawait workbook.xlsx.load(data)\n\t\treturn workbook\n\t} catch (err) {\n\t\t// console.log(\"err\", err)\n\t}\n}\n\nconst excelProcessSheet = (worksheet: Worksheet): ProcessFileItem[] => {\n\tconst result: ProcessFileItem[] = []\n\tworksheet.eachRow({ includeEmpty: true }, function (row, rowNumber) {\n\t\tlet values =\n\t\t\ttypeof row.values === \"object\" ? Object.values(row.values) : row.values\n\t\tvalues = values\n\t\t\t.filter((a: any) => a)\n\t\t\t.map((a: any) => {\n\t\t\t\t// check for and extract computed values\n\t\t\t\treturn typeof a === \"object\" ? a?.result : a\n\t\t\t})\n\t\tconst last: any = values.pop()\n\t\tif (typeof last === \"number\") {\n\t\t\tconst description = values.join(\" \").trim()\n\t\t\tresult.push({\n\t\t\t\trow: rowNumber,\n\t\t\t\tdescription,\n\t\t\t\tamount: Math.abs(last),\n\t\t\t\ttype: last > 0 ? \"in\" : \"out\",\n\t\t\t})\n\t\t}\n\t})\n\treturn result\n}\n\nconst excelProcessWorkbook = async (\n\tworkbook: Workbook\n): Promise<ProcessFileItem[] | false> => {\n\tconst worksheet = workbook.worksheets[0]\n\tif (!worksheet) return false\n\treturn excelProcessSheet(worksheet!)\n}\n\nexport const excelProcessFile = async (\n\tdata: Uint8Array\n): Promise<ProcessFileItem[] | false> => {\n\tconst workbook = await excelCreateFromData(data)\n\t// console.log(\"workbook\", workbook)\n\tif (!workbook) return false\n\treturn excelProcessWorkbook(workbook!)\n}\n","import React, { ReactElement, useState, useContext, useEffect } from \"react\"\nimport { ListItem, ListItemIcon, ListItemText } from \"@material-ui/core\"\nimport FileCopyIcon from \"@material-ui/icons/FileCopy\"\nimport { CopyCanvasDialog } from \"../../content/dialog\"\nimport CFCContext from \"../../state/CFC/context\"\nimport { CFCActionTypes } from \"../../state/CFC/shape\"\n\n/**\n * Component used to trigger the copy canvas modal\n *\n * @export\n * @returns {ReactElement}\n */\nexport default function CopyCanvasTrigger(): ReactElement {\n\tconst [open, setOpen] = useState(false)\n\tconst { dispatch } = useContext(CFCContext)\n\n\tuseEffect(() => {\n\t\tdispatch({\n\t\t\ttype: CFCActionTypes.ChangeCopyCanvasActive,\n\t\t\tpayload: open,\n\t\t})\n\t}, [open, dispatch])\n\n\tconst onClose = (): void => {\n\t\tsetOpen(false)\n\t}\n\tconst onOpen = (): void => {\n\t\tsetOpen(true)\n\t}\n\n\treturn (\n\t\t<>\n\t\t\t<ListItem button onClick={onOpen}>\n\t\t\t\t<ListItemIcon>\n\t\t\t\t\t<FileCopyIcon />\n\t\t\t\t</ListItemIcon>\n\t\t\t\t<ListItemText>Copy Canvas</ListItemText>\n\t\t\t</ListItem>\n\t\t\t<CopyCanvasDialog open={open} onClose={onClose} />\n\t\t</>\n\t)\n}\n","import { excelProcessFile } from \"./ImportDataExcelLib\"\n\nexport type ProcessFileItem = {\n\trow: number\n\tdescription: string\n\tamount: number\n\ttype: \"in\" | \"out\"\n}\n\n// nb. Cant use MIME type to determine which process to use as requires Excel to be installed\n\nexport const generalProcessFile = async (\n\tfileBuffer: any\n): Promise<ProcessFileItem[]> => {\n\tconst res = await excelProcessFile(fileBuffer)\n\tif (!res) {\n\t\talert(`Invalid file. Only Excel files are allowed.`)\n\t\treturn []\n\t}\n\treturn res\n}\n","import React, { ReactElement, createRef, useState, useContext } from \"react\"\nimport {\n\tDialog,\n\tDialogTitle,\n\tDialogContent,\n\tDialogActions,\n\tButton,\n\tTable,\n\tTableRow,\n\tTableBody,\n\tTableCell,\n} from \"@material-ui/core\"\nimport { generalProcessFile, ProcessFileItem } from \"./lib/ImportDataGeneralLib\"\nimport IconDeleteButton from \"../IconDeleteButton\"\nimport CFCContext from \"../../state/CFC/context\"\n// import DeleteIcon from \"@material-ui/icons/Delete\"\n\nexport default function ImportDataModal({\n\topen,\n\tonClose,\n}: {\n\topen: boolean\n\tonClose: any\n}): ReactElement {\n\tconst fileRef: any = createRef()\n\tconst [currentItems, setCurrentItems] = useState<ProcessFileItem[]>([])\n\n\t// Canvas Item Updaters are a list of function from context to update the canvas\n\tconst { canvasItemUpdater } = useContext(CFCContext)\n\n\tconst deleteItem = (row: number, event: any) => {\n\t\tconst newItems = currentItems.filter((i) => i.row !== row)\n\t\tsetCurrentItems(newItems)\n\t}\n\n\tconst toggleType = (row: number, event: any) => {\n\t\tconst newItems: ProcessFileItem[] = currentItems.map((i) => {\n\t\t\tif (i.row === row)\n\t\t\t\treturn {\n\t\t\t\t\t...i,\n\t\t\t\t\ttype: i.type === \"in\" ? \"out\" : \"in\",\n\t\t\t\t}\n\t\t\treturn i\n\t\t})\n\t\tsetCurrentItems(newItems)\n\t}\n\n\tconst onOpenFileDialog = () => {\n\t\t// alert(\"import\")\n\t\tfileRef!.current.click()\n\t}\n\n\tconst onFileChange = (event: any) => {\n\t\tconst file = event.target.files[0]\n\t\tconst reader = new FileReader()\n\t\treader.onload = async () => {\n\t\t\tif (!reader.result) {\n\t\t\t\talert(\"empty\")\n\t\t\t\treturn\n\t\t\t}\n\t\t\tconst data = new Uint8Array(reader.result as any)\n\t\t\tconst newItems = await generalProcessFile(data)\n\t\t\tsetCurrentItems([...currentItems, ...newItems])\n\t\t}\n\t\treader.readAsArrayBuffer(file)\n\t}\n\n\tconst onEmptyAndClose = () => {\n\t\tsetCurrentItems([]) // clear list\n\t\treturn onClose()\n\t}\n\n\tconst onAddToCanvas = () => {\n\t\tcanvasItemUpdater.forEach((updater) => updater(currentItems))\n\t\treturn onEmptyAndClose()\n\t}\n\n\tconst renderSingleItem = (item: ProcessFileItem): ReactElement => {\n\t\tconst { row, description, amount, type } = item\n\t\treturn (\n\t\t\t<TableRow key={row}>\n\t\t\t\t<TableCell>{description}</TableCell>\n\t\t\t\t<TableCell align=\"right\">${Math.floor(amount)}</TableCell>\n\t\t\t\t<TableCell>\n\t\t\t\t\t<Button onClick={toggleType.bind(null, row)}>\n\t\t\t\t\t\t{type === \"in\" ? \"Cash IN\" : \"Cash OUT\"}\n\t\t\t\t\t</Button>\n\t\t\t\t</TableCell>\n\t\t\t\t<TableCell>\n\t\t\t\t\t<IconDeleteButton onClick={deleteItem.bind(null, row)} />\n\t\t\t\t</TableCell>\n\t\t\t</TableRow>\n\t\t)\n\t}\n\n\tconst renderItems = (items: ProcessFileItem[]): ReactElement => {\n\t\treturn (\n\t\t\t<Table>\n\t\t\t\t<TableBody>{items.map((item) => renderSingleItem(item))}</TableBody>\n\t\t\t</Table>\n\t\t)\n\t}\n\n\treturn (\n\t\t<>\n\t\t\t<Dialog open={open}>\n\t\t\t\t<DialogTitle>Import data</DialogTitle>\n\t\t\t\t<DialogContent>\n\t\t\t\t\t<p>\n\t\t\t\t\t\tYou can import data into the Cash Flow Canvas from Xero, MYOB,\n\t\t\t\t\t\tQuickBooks or any spreadsheet.\n\t\t\t\t\t</p>\n\t\t\t\t\t<p>\n\t\t\t\t\t\tTo import data click Open File and select the file you wish to\n\t\t\t\t\t\timport. This will load each item from your file. Remove items you\n\t\t\t\t\t\tdon't want imported into the canvas. Once complete, select Add to\n\t\t\t\t\t\tCanvas.\n\t\t\t\t\t</p>\n\t\t\t\t\t<p>Imported data must be in .xlsx format.</p>\n\t\t\t\t\t{/* <pre>{JSON.stringify(currentItems, null, 2)}</pre> */}\n\t\t\t\t\t{currentItems.length === 0 ? (\n\t\t\t\t\t\t<p onClick={onOpenFileDialog}>Please import a file.</p>\n\t\t\t\t\t) : (\n\t\t\t\t\t\trenderItems(currentItems)\n\t\t\t\t\t)}\n\t\t\t\t</DialogContent>\n\t\t\t\t<DialogActions>\n\t\t\t\t\t<Button onClick={onOpenFileDialog}>Open File</Button>\n\t\t\t\t\t<Button onClick={onAddToCanvas} disabled={currentItems.length === 0}>\n\t\t\t\t\t\tAdd To Canvas\n\t\t\t\t\t</Button>\n\t\t\t\t\t<Button onClick={onEmptyAndClose}>Cancel</Button>\n\t\t\t\t</DialogActions>\n\t\t\t</Dialog>\n\t\t\t<input\n\t\t\t\thidden\n\t\t\t\tid=\"fileUpload\"\n\t\t\t\ttype=\"file\"\n\t\t\t\tref={fileRef}\n\t\t\t\tonChange={onFileChange}\n\t\t\t/>\n\t\t</>\n\t)\n}\n","import pdfMake from \"pdfmake/build/pdfmake\"\nimport pdfFonts from \"pdfmake/build/vfs_fonts\"\nimport { green } from \"@material-ui/core/colors\"\nimport { CFCStruct, CashFlow } from \"../../data/_config/shape\"\nimport { pageDefaultSettings, pageHeading, pagePadding } from \"./PDFLib\"\nimport { canvasDisplayTitle } from \"../CFC/__config/utilities\"\nimport { addDollarSign } from \"../../util/money/formatting\"\nimport { calculateDifferencePer } from \"../CFCCompare/__config/utilities\"\nimport { calculateInitial } from \"../Forms/CFC\"\nimport { calcCashFlowTotal } from \"../../state/CFC/accumulators\"\nimport arrayFillWith from \"../../util/array/arrayFillWith\"\n\npdfMake.vfs = pdfFonts.pdfMake.vfs\n\nconst rowValue = (values: [number, number]): string[] => {\n\tconst [val1, val2] = values\n\treturn [\n\t\t`${val1}`,\n\t\t`${val2}`,\n\t\taddDollarSign(`${val1 - val2}`),\n\t\tcalculateDifferencePer(val1, val2),\n\t]\n}\n\nfunction renderRepeaterFields(val1: CashFlow[], val2: CashFlow[]): string[][] {\n\tconst len = val1.length > val2.length ? val1.length : val2.length\n\tconst arr = arrayFillWith(len, 0)\n\treturn arr.map((item, idx) => [\n\t\t\"\",\n\t\t...rowValue([val1[idx]?.amount || 0, val2[idx]?.amount || 0]),\n\t])\n}\n\nexport default async (\n\tleftSelected: CFCStruct,\n\trightSelected: CFCStruct\n): Promise<pdfMake.TCreatedPdf> => {\n\tconst leftCalc = calculateInitial(leftSelected)\n\tconst rightCalc = calculateInitial(rightSelected)\n\n\tconst docDefinition: any = {\n\t\t...pageDefaultSettings(),\n\t\tcontent: [\n\t\t\tpageHeading(\"Canvas Comparison\"),\n\t\t\tpagePadding([\n\t\t\t\t{\n\t\t\t\t\ttable: {\n\t\t\t\t\t\twidth: [\"*\", \"*\", \"*\", \"*\", \"*\"],\n\t\t\t\t\t\tbody: [\n\t\t\t\t\t\t\t[\n\t\t\t\t\t\t\t\t\"\",\n\t\t\t\t\t\t\t\t{ text: canvasDisplayTitle(leftSelected), bold: true },\n\t\t\t\t\t\t\t\t{ text: canvasDisplayTitle(rightSelected), bold: true },\n\t\t\t\t\t\t\t\t{ text: \"$ Difference\", bold: true },\n\t\t\t\t\t\t\t\t{ text: \"% Difference\", bold: true },\n\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\t[\n\t\t\t\t\t\t\t\t{ text: \"Opening balance\", bold: true },\n\t\t\t\t\t\t\t\t...rowValue([\n\t\t\t\t\t\t\t\t\tleftSelected.openingBalance,\n\t\t\t\t\t\t\t\t\trightSelected.openingBalance,\n\t\t\t\t\t\t\t\t]),\n\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\t[{ text: \"Cash In\", colSpan: 5, bold: true }, \"\", \"\", \"\", \"\"],\n\t\t\t\t\t\t\t...renderRepeaterFields(\n\t\t\t\t\t\t\t\tleftSelected.cashInItems,\n\t\t\t\t\t\t\t\trightSelected.cashInItems\n\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t[\n\t\t\t\t\t\t\t\t\"GST on sales\",\n\t\t\t\t\t\t\t\t...rowValue([leftCalc.gstOnSales, rightCalc.gstOnSales]),\n\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\t[\n\t\t\t\t\t\t\t\t{ text: \"Total (exc GST)\", bold: true },\n\t\t\t\t\t\t\t\t...rowValue([\n\t\t\t\t\t\t\t\t\tcalcCashFlowTotal(leftSelected.cashInItems),\n\t\t\t\t\t\t\t\t\tcalcCashFlowTotal(rightSelected.cashInItems),\n\t\t\t\t\t\t\t\t]),\n\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\t[{ text: \"Cash Out\", colSpan: 5, bold: true }, \"\", \"\", \"\", \"\"],\n\t\t\t\t\t\t\t...renderRepeaterFields(\n\t\t\t\t\t\t\t\tleftSelected.cashOutItems,\n\t\t\t\t\t\t\t\trightSelected.cashOutItems\n\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t[\n\t\t\t\t\t\t\t\t\"GST on Purchases\",\n\t\t\t\t\t\t\t\t...rowValue([\n\t\t\t\t\t\t\t\t\tleftCalc.gstOnPurchases,\n\t\t\t\t\t\t\t\t\trightCalc.gstOnPurchases,\n\t\t\t\t\t\t\t\t]),\n\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\t[\n\t\t\t\t\t\t\t\t{ text: \"Total (exc GST)\", bold: true },\n\t\t\t\t\t\t\t\t...rowValue([\n\t\t\t\t\t\t\t\t\tcalcCashFlowTotal(leftSelected.cashOutItems),\n\t\t\t\t\t\t\t\t\tcalcCashFlowTotal(rightSelected.cashOutItems),\n\t\t\t\t\t\t\t\t]),\n\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\t[\n\t\t\t\t\t\t\t\t{ text: \"Cash Surplus\", bold: true },\n\t\t\t\t\t\t\t\t...rowValue([leftCalc.cashSurplus, rightCalc.cashSurplus]),\n\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\t[\n\t\t\t\t\t\t\t\t\"Income/Outcome tax\",\n\t\t\t\t\t\t\t\t// TODO: Update to the correct income tax value\n\t\t\t\t\t\t\t\t...rowValue([leftSelected.incomeTax, rightSelected.incomeTax]),\n\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\t[\n\t\t\t\t\t\t\t\t{ text: \"Available to spend\", bold: true },\n\t\t\t\t\t\t\t\t...rowValue([\n\t\t\t\t\t\t\t\t\tleftCalc.availableToSpend,\n\t\t\t\t\t\t\t\t\trightCalc.availableToSpend,\n\t\t\t\t\t\t\t\t]),\n\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\t[\n\t\t\t\t\t\t\t\t\"Cash to owner\",\n\t\t\t\t\t\t\t\t...rowValue([\n\t\t\t\t\t\t\t\t\tleftSelected.cashToOwner,\n\t\t\t\t\t\t\t\t\trightSelected.cashToOwner,\n\t\t\t\t\t\t\t\t]),\n\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\t[\n\t\t\t\t\t\t\t\t{ text: \"Closing balance\", bold: true },\n\t\t\t\t\t\t\t\t...rowValue([\n\t\t\t\t\t\t\t\t\tleftCalc.closingBalance,\n\t\t\t\t\t\t\t\t\trightCalc.closingBalance,\n\t\t\t\t\t\t\t\t]),\n\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\t[\"Stock\", ...rowValue([leftSelected.stock, rightSelected.stock])],\n\t\t\t\t\t\t\t[\n\t\t\t\t\t\t\t\t\"Debtors\",\n\t\t\t\t\t\t\t\t...rowValue([leftSelected.debtors, rightSelected.debtors]),\n\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\t[\n\t\t\t\t\t\t\t\t\"Assets\",\n\t\t\t\t\t\t\t\t...rowValue([leftSelected.assets, rightSelected.assets]),\n\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\t[\n\t\t\t\t\t\t\t\t\"Creditors\",\n\t\t\t\t\t\t\t\t...rowValue([leftSelected.creditors, rightSelected.creditors]),\n\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\t[\"Loans\", ...rowValue([leftSelected.loans, rightSelected.loans])],\n\t\t\t\t\t\t\t[\n\t\t\t\t\t\t\t\t{ text: \"Net position\", bold: true },\n\t\t\t\t\t\t\t\t...rowValue([\n\t\t\t\t\t\t\t\t\tleftCalc.totalNetAssets,\n\t\t\t\t\t\t\t\t\trightCalc.totalNetAssets,\n\t\t\t\t\t\t\t\t]),\n\t\t\t\t\t\t\t],\n\t\t\t\t\t\t],\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t]),\n\t\t],\n\t\tstyles: {\n\t\t\tpageHeader: {\n\t\t\t\tfontSize: 20,\n\t\t\t\tbold: true,\n\t\t\t\tfillColor: green[\"800\"],\n\t\t\t\tcolor: \"white\",\n\t\t\t\talignment: \"center\",\n\t\t\t},\n\t\t},\n\t\tdefaultStyles: {\n\t\t\tfontSize: 15,\n\t\t\tbold: false,\n\t\t\tcolor: \"#000\",\n\t\t},\n\t}\n\n\treturn pdfMake.createPdf(docDefinition)\n}\n","import React, { ReactElement, useState, useContext } from \"react\"\nimport PictureAsPdfIcon from \"@material-ui/icons/PictureAsPdf\"\nimport { List, ListItem, ListItemIcon, ListItemText } from \"@material-ui/core\"\nimport AddIcon from \"@material-ui/icons/Add\"\nimport { useHistory, useLocation, useParams } from \"react-router-dom\"\nimport FormatListNumberedIcon from \"@material-ui/icons/FormatListNumbered\"\nimport GetAppIcon from \"@material-ui/icons/GetApp\"\nimport ExpandableNav from \"../ExpandableNav\"\nimport { PrivateRoutes } from \"../../util/routes/routes\"\nimport CopyCanvasTrigger from \"./CopyCanvasTrigger\"\nimport { ControlCompareLink } from \"../CFCCompare\"\nimport ImportDataModal from \"../ImportDataModal/ImportDataModal\"\nimport CFCUseCase from \"../../data/CFC/CFCLogic\"\nimport CashFlowCanvasPDF from \"../PDF/CashFlowCanvasPDF\"\nimport useCurrentClient from \"../../state/client/useCurrentClient\"\nimport CFCContext from \"../../state/CFC/context\"\nimport CFCComparePDF from \"../PDF/CFCComparePDF\"\nimport servePDF from \"../PDF/servePDF\"\n\n/**\n * Canvas page control panel component\n *\n * @export\n * @returns {ReactElement}\n */\nexport default function ControlPanel(): ReactElement {\n\tconst history = useHistory()\n\tconst location = useLocation()\n\tconst [importDataOpen, setImportDataOpen] = useState<boolean>(false)\n\tconst { id: canvasId } = useParams()\n\tconst [currentClient] = useCurrentClient()\n\tconst { leftCompare, rightCompare } = useContext(CFCContext)\n\n\tconst goTo = (route: PrivateRoutes) => (): void => {\n\t\t// eslint-disable-next-line\n\t\thistory.push(route)\n\t}\n\n\tconst isNewPage = (): boolean => {\n\t\treturn location.pathname === PrivateRoutes.CFC\n\t}\n\n\tconst isCompare = (): boolean => {\n\t\treturn location.pathname === PrivateRoutes.CFCCompare\n\t}\n\n\tconst importData = () => {\n\t\tsetImportDataOpen(!importDataOpen)\n\t}\n\n\tconst printPDF = async () => {\n\t\tif (canvasId && typeof canvasId === \"string\" && !isCompare()) {\n\t\t\tconst data = await CFCUseCase.findById(canvasId)\n\t\t\tif (data === undefined) alert(\"no data\")\n\t\t\telse {\n\t\t\t\tconst pdf = await CashFlowCanvasPDF(\n\t\t\t\t\tcurrentClient?.name ?? \"Client\",\n\t\t\t\t\tdata\n\t\t\t\t)\n\t\t\t\tservePDF(pdf)\n\t\t\t}\n\t\t}\n\n\t\tif (isCompare()) {\n\t\t\tif (leftCompare && rightCompare) {\n\t\t\t\tconst pdf = await CFCComparePDF(leftCompare, rightCompare)\n\t\t\t\tservePDF(pdf)\n\t\t\t}\n\t\t}\n\t}\n\n\treturn (\n\t\t<ExpandableNav reactourLabel=\"canvas-control-panel\">\n\t\t\t<ImportDataModal open={importDataOpen} onClose={importData} />\n\t\t\t<List component=\"nav\" disablePadding>\n\t\t\t\t{!isNewPage() && !isCompare() && <CopyCanvasTrigger />}\n\t\t\t\t{(!isNewPage() || isCompare()) && (\n\t\t\t\t\t<ListItem button onClick={goTo(PrivateRoutes.CFC)}>\n\t\t\t\t\t\t<ListItemIcon>\n\t\t\t\t\t\t\t<AddIcon />\n\t\t\t\t\t\t</ListItemIcon>\n\t\t\t\t\t\t<ListItemText>Create new Canvas</ListItemText>\n\t\t\t\t\t</ListItem>\n\t\t\t\t)}\n\t\t\t\t{!isNewPage() && !isCompare() && (\n\t\t\t\t\t<ListItem button onClick={importData}>\n\t\t\t\t\t\t<ListItemIcon>\n\t\t\t\t\t\t\t<GetAppIcon />\n\t\t\t\t\t\t</ListItemIcon>\n\t\t\t\t\t\t<ListItemText>Import data</ListItemText>\n\t\t\t\t\t</ListItem>\n\t\t\t\t)}\n\t\t\t\t<ListItem button onClick={goTo(PrivateRoutes.CFCListing)}>\n\t\t\t\t\t<ListItemIcon>\n\t\t\t\t\t\t<FormatListNumberedIcon />\n\t\t\t\t\t</ListItemIcon>\n\t\t\t\t\t<ListItemText>List of Canvasses</ListItemText>\n\t\t\t\t</ListItem>\n\t\t\t\t{!isCompare() && !isNewPage() && <ControlCompareLink />}\n\t\t\t\t{!isNewPage() && (\n\t\t\t\t\t<ListItem button>\n\t\t\t\t\t\t<ListItemIcon>\n\t\t\t\t\t\t\t<PictureAsPdfIcon />\n\t\t\t\t\t\t</ListItemIcon>\n\t\t\t\t\t\t<ListItemText onClick={printPDF}>Generate PDF</ListItemText>\n\t\t\t\t\t</ListItem>\n\t\t\t\t)}\n\t\t\t</List>\n\t\t</ExpandableNav>\n\t)\n}\n","import React, { ReactElement } from \"react\"\nimport { List, ListItem, ListItemText, Box } from \"@material-ui/core\"\nimport { fourQuestionsContent, answerTheming } from \"../_config/data\"\nimport useFourQsStyles from \"./_config/styles\"\nimport { IFourQuestionsProps } from \"./_config/shape\"\nimport { answerText } from \"./_config/utilities\"\nimport ExpandableNav from \"../../ExpandableNav\"\nimport { getOptionByAnswer } from \"../_config/utilities\"\nimport { QuestionOptions } from \"../_config/shape\"\n\n/**\n * Component to render the Four key questions with optional\n * answers, used on the questionnaire summary page\n *\n * @param {QuestionOptions[]} { answers? }\n * @returns ReactElement\n */\nconst FourQuestions = ({ answers }: IFourQuestionsProps): ReactElement => {\n\tconst styles = useFourQsStyles()\n\n\t/**\n\t * Renders the answer related icon next to the question\n\t *\n\t * @param {QuestionOptions} answer\n\t * @returns {ReactElement}\n\t */\n\tconst getIcon = (answer: QuestionOptions): ReactElement => {\n\t\tconst opt = getOptionByAnswer(answer, answerTheming)\n\t\tif (opt) {\n\t\t\treturn <opt.Icon style={{ color: opt.color }} />\n\t\t}\n\n\t\treturn <></>\n\t}\n\n\treturn (\n\t\t<ExpandableNav\n\t\t\ttitle=\"Four key questions\"\n\t\t\treactourLabel=\"four-questions-nav\"\n\t\t>\n\t\t\t<Box className={styles.box}>\n\t\t\t\t<List className={styles.list}>\n\t\t\t\t\t{fourQuestionsContent.map(\n\t\t\t\t\t\t(content: string, idx: number): ReactElement => (\n\t\t\t\t\t\t\t<Box key={content} component=\"li\">\n\t\t\t\t\t\t\t\t<ListItem\n\t\t\t\t\t\t\t\t\tcomponent=\"div\"\n\t\t\t\t\t\t\t\t\tclassName={`${styles.listItem} ${\n\t\t\t\t\t\t\t\t\t\tidx === 0 ? styles.listItemFirst : \"\"\n\t\t\t\t\t\t\t\t\t}`}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<ListItemText className={styles.listItemText}>\n\t\t\t\t\t\t\t\t\t\t{`${idx + 1}. ${content}`}\n\t\t\t\t\t\t\t\t\t\t<Box className={styles.answerIconRoot}>\n\t\t\t\t\t\t\t\t\t\t\t{answers?.[idx] && getIcon(answers[idx])}\n\t\t\t\t\t\t\t\t\t\t\t{answerText(idx, answers)}\n\t\t\t\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t\t\t</ListItemText>\n\t\t\t\t\t\t\t\t</ListItem>\n\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t)\n\t\t\t\t\t)}\n\t\t\t\t</List>\n\t\t\t</Box>\n\t\t</ExpandableNav>\n\t)\n}\n\nexport default FourQuestions\n","/* eslint-disable import/prefer-default-export */\n\nimport React, { ReactElement } from \"react\"\nimport { Typography } from \"@material-ui/core\"\nimport { QuestionOptions } from \"../../_config/shape\"\nimport { getOptionByAnswer } from \"../../_config/utilities\"\nimport { answerTheming, questions } from \"../../_config/data\"\n\n/**\n * Checks if a question has a answer and displays the answer\n * with a theme\n *\n * @param {number} idx Question index\n * @param {QuestionOptions[]|undefined} answers Answers given in the quiz\n * @returns (boolean | ReactElement)\n */\nexport const answerText = (\n\tidx: number,\n\tanswers: QuestionOptions[] | undefined\n): ReactElement | boolean => {\n\tif (answers && typeof answers[idx] !== \"undefined\") {\n\t\tconst { color } = getOptionByAnswer(answers[idx], answerTheming)\n\t\treturn (\n\t\t\t<Typography style={{ color, fontWeight: 500 }}>\n\t\t\t\t{questions[idx].options[answers[idx]]}\n\t\t\t</Typography>\n\t\t)\n\t}\n\n\treturn false\n}\n","var map = {\n\t\"./Binary_Property/ASCII.js\": 922,\n\t\"./Binary_Property/ASCII_Hex_Digit.js\": 923,\n\t\"./Binary_Property/Alphabetic.js\": 924,\n\t\"./Binary_Property/Any.js\": 925,\n\t\"./Binary_Property/Assigned.js\": 926,\n\t\"./Binary_Property/Bidi_Control.js\": 927,\n\t\"./Binary_Property/Bidi_Mirrored.js\": 928,\n\t\"./Binary_Property/Case_Ignorable.js\": 929,\n\t\"./Binary_Property/Cased.js\": 930,\n\t\"./Binary_Property/Changes_When_Casefolded.js\": 931,\n\t\"./Binary_Property/Changes_When_Casemapped.js\": 932,\n\t\"./Binary_Property/Changes_When_Lowercased.js\": 933,\n\t\"./Binary_Property/Changes_When_NFKC_Casefolded.js\": 934,\n\t\"./Binary_Property/Changes_When_Titlecased.js\": 935,\n\t\"./Binary_Property/Changes_When_Uppercased.js\": 936,\n\t\"./Binary_Property/Dash.js\": 937,\n\t\"./Binary_Property/Default_Ignorable_Code_Point.js\": 938,\n\t\"./Binary_Property/Deprecated.js\": 939,\n\t\"./Binary_Property/Diacritic.js\": 940,\n\t\"./Binary_Property/Emoji.js\": 941,\n\t\"./Binary_Property/Emoji_Component.js\": 942,\n\t\"./Binary_Property/Emoji_Modifier.js\": 943,\n\t\"./Binary_Property/Emoji_Modifier_Base.js\": 944,\n\t\"./Binary_Property/Emoji_Presentation.js\": 945,\n\t\"./Binary_Property/Extended_Pictographic.js\": 946,\n\t\"./Binary_Property/Extender.js\": 947,\n\t\"./Binary_Property/Grapheme_Base.js\": 948,\n\t\"./Binary_Property/Grapheme_Extend.js\": 949,\n\t\"./Binary_Property/Hex_Digit.js\": 950,\n\t\"./Binary_Property/IDS_Binary_Operator.js\": 951,\n\t\"./Binary_Property/IDS_Trinary_Operator.js\": 952,\n\t\"./Binary_Property/ID_Continue.js\": 953,\n\t\"./Binary_Property/ID_Start.js\": 954,\n\t\"./Binary_Property/Ideographic.js\": 955,\n\t\"./Binary_Property/Join_Control.js\": 956,\n\t\"./Binary_Property/Logical_Order_Exception.js\": 957,\n\t\"./Binary_Property/Lowercase.js\": 958,\n\t\"./Binary_Property/Math.js\": 959,\n\t\"./Binary_Property/Noncharacter_Code_Point.js\": 960,\n\t\"./Binary_Property/Pattern_Syntax.js\": 961,\n\t\"./Binary_Property/Pattern_White_Space.js\": 962,\n\t\"./Binary_Property/Quotation_Mark.js\": 963,\n\t\"./Binary_Property/Radical.js\": 964,\n\t\"./Binary_Property/Regional_Indicator.js\": 965,\n\t\"./Binary_Property/Sentence_Terminal.js\": 966,\n\t\"./Binary_Property/Soft_Dotted.js\": 967,\n\t\"./Binary_Property/Terminal_Punctuation.js\": 968,\n\t\"./Binary_Property/Unified_Ideograph.js\": 969,\n\t\"./Binary_Property/Uppercase.js\": 970,\n\t\"./Binary_Property/Variation_Selector.js\": 971,\n\t\"./Binary_Property/White_Space.js\": 972,\n\t\"./Binary_Property/XID_Continue.js\": 973,\n\t\"./Binary_Property/XID_Start.js\": 974,\n\t\"./General_Category/Cased_Letter.js\": 975,\n\t\"./General_Category/Close_Punctuation.js\": 976,\n\t\"./General_Category/Connector_Punctuation.js\": 977,\n\t\"./General_Category/Control.js\": 978,\n\t\"./General_Category/Currency_Symbol.js\": 979,\n\t\"./General_Category/Dash_Punctuation.js\": 980,\n\t\"./General_Category/Decimal_Number.js\": 981,\n\t\"./General_Category/Enclosing_Mark.js\": 982,\n\t\"./General_Category/Final_Punctuation.js\": 983,\n\t\"./General_Category/Format.js\": 984,\n\t\"./General_Category/Initial_Punctuation.js\": 985,\n\t\"./General_Category/Letter.js\": 986,\n\t\"./General_Category/Letter_Number.js\": 987,\n\t\"./General_Category/Line_Separator.js\": 988,\n\t\"./General_Category/Lowercase_Letter.js\": 989,\n\t\"./General_Category/Mark.js\": 990,\n\t\"./General_Category/Math_Symbol.js\": 991,\n\t\"./General_Category/Modifier_Letter.js\": 992,\n\t\"./General_Category/Modifier_Symbol.js\": 993,\n\t\"./General_Category/Nonspacing_Mark.js\": 994,\n\t\"./General_Category/Number.js\": 995,\n\t\"./General_Category/Open_Punctuation.js\": 996,\n\t\"./General_Category/Other.js\": 997,\n\t\"./General_Category/Other_Letter.js\": 998,\n\t\"./General_Category/Other_Number.js\": 999,\n\t\"./General_Category/Other_Punctuation.js\": 1000,\n\t\"./General_Category/Other_Symbol.js\": 1001,\n\t\"./General_Category/Paragraph_Separator.js\": 1002,\n\t\"./General_Category/Private_Use.js\": 1003,\n\t\"./General_Category/Punctuation.js\": 1004,\n\t\"./General_Category/Separator.js\": 1005,\n\t\"./General_Category/Space_Separator.js\": 1006,\n\t\"./General_Category/Spacing_Mark.js\": 1007,\n\t\"./General_Category/Surrogate.js\": 1008,\n\t\"./General_Category/Symbol.js\": 1009,\n\t\"./General_Category/Titlecase_Letter.js\": 1010,\n\t\"./General_Category/Unassigned.js\": 1011,\n\t\"./General_Category/Uppercase_Letter.js\": 1012,\n\t\"./Script/Adlam.js\": 1013,\n\t\"./Script/Ahom.js\": 1014,\n\t\"./Script/Anatolian_Hieroglyphs.js\": 1015,\n\t\"./Script/Arabic.js\": 1016,\n\t\"./Script/Armenian.js\": 1017,\n\t\"./Script/Avestan.js\": 1018,\n\t\"./Script/Balinese.js\": 1019,\n\t\"./Script/Bamum.js\": 1020,\n\t\"./Script/Bassa_Vah.js\": 1021,\n\t\"./Script/Batak.js\": 1022,\n\t\"./Script/Bengali.js\": 1023,\n\t\"./Script/Bhaiksuki.js\": 1024,\n\t\"./Script/Bopomofo.js\": 1025,\n\t\"./Script/Brahmi.js\": 1026,\n\t\"./Script/Braille.js\": 1027,\n\t\"./Script/Buginese.js\": 1028,\n\t\"./Script/Buhid.js\": 1029,\n\t\"./Script/Canadian_Aboriginal.js\": 1030,\n\t\"./Script/Carian.js\": 1031,\n\t\"./Script/Caucasian_Albanian.js\": 1032,\n\t\"./Script/Chakma.js\": 1033,\n\t\"./Script/Cham.js\": 1034,\n\t\"./Script/Cherokee.js\": 1035,\n\t\"./Script/Chorasmian.js\": 1036,\n\t\"./Script/Common.js\": 1037,\n\t\"./Script/Coptic.js\": 1038,\n\t\"./Script/Cuneiform.js\": 1039,\n\t\"./Script/Cypriot.js\": 1040,\n\t\"./Script/Cyrillic.js\": 1041,\n\t\"./Script/Deseret.js\": 1042,\n\t\"./Script/Devanagari.js\": 1043,\n\t\"./Script/Dives_Akuru.js\": 1044,\n\t\"./Script/Dogra.js\": 1045,\n\t\"./Script/Duployan.js\": 1046,\n\t\"./Script/Egyptian_Hieroglyphs.js\": 1047,\n\t\"./Script/Elbasan.js\": 1048,\n\t\"./Script/Elymaic.js\": 1049,\n\t\"./Script/Ethiopic.js\": 1050,\n\t\"./Script/Georgian.js\": 1051,\n\t\"./Script/Glagolitic.js\": 1052,\n\t\"./Script/Gothic.js\": 1053,\n\t\"./Script/Grantha.js\": 1054,\n\t\"./Script/Greek.js\": 1055,\n\t\"./Script/Gujarati.js\": 1056,\n\t\"./Script/Gunjala_Gondi.js\": 1057,\n\t\"./Script/Gurmukhi.js\": 1058,\n\t\"./Script/Han.js\": 1059,\n\t\"./Script/Hangul.js\": 1060,\n\t\"./Script/Hanifi_Rohingya.js\": 1061,\n\t\"./Script/Hanunoo.js\": 1062,\n\t\"./Script/Hatran.js\": 1063,\n\t\"./Script/Hebrew.js\": 1064,\n\t\"./Script/Hiragana.js\": 1065,\n\t\"./Script/Imperial_Aramaic.js\": 1066,\n\t\"./Script/Inherited.js\": 1067,\n\t\"./Script/Inscriptional_Pahlavi.js\": 1068,\n\t\"./Script/Inscriptional_Parthian.js\": 1069,\n\t\"./Script/Javanese.js\": 1070,\n\t\"./Script/Kaithi.js\": 1071,\n\t\"./Script/Kannada.js\": 1072,\n\t\"./Script/Katakana.js\": 1073,\n\t\"./Script/Kayah_Li.js\": 1074,\n\t\"./Script/Kharoshthi.js\": 1075,\n\t\"./Script/Khitan_Small_Script.js\": 1076,\n\t\"./Script/Khmer.js\": 1077,\n\t\"./Script/Khojki.js\": 1078,\n\t\"./Script/Khudawadi.js\": 1079,\n\t\"./Script/Lao.js\": 1080,\n\t\"./Script/Latin.js\": 1081,\n\t\"./Script/Lepcha.js\": 1082,\n\t\"./Script/Limbu.js\": 1083,\n\t\"./Script/Linear_A.js\": 1084,\n\t\"./Script/Linear_B.js\": 1085,\n\t\"./Script/Lisu.js\": 1086,\n\t\"./Script/Lycian.js\": 1087,\n\t\"./Script/Lydian.js\": 1088,\n\t\"./Script/Mahajani.js\": 1089,\n\t\"./Script/Makasar.js\": 1090,\n\t\"./Script/Malayalam.js\": 1091,\n\t\"./Script/Mandaic.js\": 1092,\n\t\"./Script/Manichaean.js\": 1093,\n\t\"./Script/Marchen.js\": 1094,\n\t\"./Script/Masaram_Gondi.js\": 1095,\n\t\"./Script/Medefaidrin.js\": 1096,\n\t\"./Script/Meetei_Mayek.js\": 1097,\n\t\"./Script/Mende_Kikakui.js\": 1098,\n\t\"./Script/Meroitic_Cursive.js\": 1099,\n\t\"./Script/Meroitic_Hieroglyphs.js\": 1100,\n\t\"./Script/Miao.js\": 1101,\n\t\"./Script/Modi.js\": 1102,\n\t\"./Script/Mongolian.js\": 1103,\n\t\"./Script/Mro.js\": 1104,\n\t\"./Script/Multani.js\": 1105,\n\t\"./Script/Myanmar.js\": 1106,\n\t\"./Script/Nabataean.js\": 1107,\n\t\"./Script/Nandinagari.js\": 1108,\n\t\"./Script/New_Tai_Lue.js\": 1109,\n\t\"./Script/Newa.js\": 1110,\n\t\"./Script/Nko.js\": 1111,\n\t\"./Script/Nushu.js\": 1112,\n\t\"./Script/Nyiakeng_Puachue_Hmong.js\": 1113,\n\t\"./Script/Ogham.js\": 1114,\n\t\"./Script/Ol_Chiki.js\": 1115,\n\t\"./Script/Old_Hungarian.js\": 1116,\n\t\"./Script/Old_Italic.js\": 1117,\n\t\"./Script/Old_North_Arabian.js\": 1118,\n\t\"./Script/Old_Permic.js\": 1119,\n\t\"./Script/Old_Persian.js\": 1120,\n\t\"./Script/Old_Sogdian.js\": 1121,\n\t\"./Script/Old_South_Arabian.js\": 1122,\n\t\"./Script/Old_Turkic.js\": 1123,\n\t\"./Script/Oriya.js\": 1124,\n\t\"./Script/Osage.js\": 1125,\n\t\"./Script/Osmanya.js\": 1126,\n\t\"./Script/Pahawh_Hmong.js\": 1127,\n\t\"./Script/Palmyrene.js\": 1128,\n\t\"./Script/Pau_Cin_Hau.js\": 1129,\n\t\"./Script/Phags_Pa.js\": 1130,\n\t\"./Script/Phoenician.js\": 1131,\n\t\"./Script/Psalter_Pahlavi.js\": 1132,\n\t\"./Script/Rejang.js\": 1133,\n\t\"./Script/Runic.js\": 1134,\n\t\"./Script/Samaritan.js\": 1135,\n\t\"./Script/Saurashtra.js\": 1136,\n\t\"./Script/Sharada.js\": 1137,\n\t\"./Script/Shavian.js\": 1138,\n\t\"./Script/Siddham.js\": 1139,\n\t\"./Script/SignWriting.js\": 1140,\n\t\"./Script/Sinhala.js\": 1141,\n\t\"./Script/Sogdian.js\": 1142,\n\t\"./Script/Sora_Sompeng.js\": 1143,\n\t\"./Script/Soyombo.js\": 1144,\n\t\"./Script/Sundanese.js\": 1145,\n\t\"./Script/Syloti_Nagri.js\": 1146,\n\t\"./Script/Syriac.js\": 1147,\n\t\"./Script/Tagalog.js\": 1148,\n\t\"./Script/Tagbanwa.js\": 1149,\n\t\"./Script/Tai_Le.js\": 1150,\n\t\"./Script/Tai_Tham.js\": 1151,\n\t\"./Script/Tai_Viet.js\": 1152,\n\t\"./Script/Takri.js\": 1153,\n\t\"./Script/Tamil.js\": 1154,\n\t\"./Script/Tangut.js\": 1155,\n\t\"./Script/Telugu.js\": 1156,\n\t\"./Script/Thaana.js\": 1157,\n\t\"./Script/Thai.js\": 1158,\n\t\"./Script/Tibetan.js\": 1159,\n\t\"./Script/Tifinagh.js\": 1160,\n\t\"./Script/Tirhuta.js\": 1161,\n\t\"./Script/Ugaritic.js\": 1162,\n\t\"./Script/Vai.js\": 1163,\n\t\"./Script/Wancho.js\": 1164,\n\t\"./Script/Warang_Citi.js\": 1165,\n\t\"./Script/Yezidi.js\": 1166,\n\t\"./Script/Yi.js\": 1167,\n\t\"./Script/Zanabazar_Square.js\": 1168,\n\t\"./Script_Extensions/Adlam.js\": 1169,\n\t\"./Script_Extensions/Ahom.js\": 1170,\n\t\"./Script_Extensions/Anatolian_Hieroglyphs.js\": 1171,\n\t\"./Script_Extensions/Arabic.js\": 1172,\n\t\"./Script_Extensions/Armenian.js\": 1173,\n\t\"./Script_Extensions/Avestan.js\": 1174,\n\t\"./Script_Extensions/Balinese.js\": 1175,\n\t\"./Script_Extensions/Bamum.js\": 1176,\n\t\"./Script_Extensions/Bassa_Vah.js\": 1177,\n\t\"./Script_Extensions/Batak.js\": 1178,\n\t\"./Script_Extensions/Bengali.js\": 1179,\n\t\"./Script_Extensions/Bhaiksuki.js\": 1180,\n\t\"./Script_Extensions/Bopomofo.js\": 1181,\n\t\"./Script_Extensions/Brahmi.js\": 1182,\n\t\"./Script_Extensions/Braille.js\": 1183,\n\t\"./Script_Extensions/Buginese.js\": 1184,\n\t\"./Script_Extensions/Buhid.js\": 1185,\n\t\"./Script_Extensions/Canadian_Aboriginal.js\": 1186,\n\t\"./Script_Extensions/Carian.js\": 1187,\n\t\"./Script_Extensions/Caucasian_Albanian.js\": 1188,\n\t\"./Script_Extensions/Chakma.js\": 1189,\n\t\"./Script_Extensions/Cham.js\": 1190,\n\t\"./Script_Extensions/Cherokee.js\": 1191,\n\t\"./Script_Extensions/Chorasmian.js\": 1192,\n\t\"./Script_Extensions/Common.js\": 1193,\n\t\"./Script_Extensions/Coptic.js\": 1194,\n\t\"./Script_Extensions/Cuneiform.js\": 1195,\n\t\"./Script_Extensions/Cypriot.js\": 1196,\n\t\"./Script_Extensions/Cyrillic.js\": 1197,\n\t\"./Script_Extensions/Deseret.js\": 1198,\n\t\"./Script_Extensions/Devanagari.js\": 1199,\n\t\"./Script_Extensions/Dives_Akuru.js\": 1200,\n\t\"./Script_Extensions/Dogra.js\": 1201,\n\t\"./Script_Extensions/Duployan.js\": 1202,\n\t\"./Script_Extensions/Egyptian_Hieroglyphs.js\": 1203,\n\t\"./Script_Extensions/Elbasan.js\": 1204,\n\t\"./Script_Extensions/Elymaic.js\": 1205,\n\t\"./Script_Extensions/Ethiopic.js\": 1206,\n\t\"./Script_Extensions/Georgian.js\": 1207,\n\t\"./Script_Extensions/Glagolitic.js\": 1208,\n\t\"./Script_Extensions/Gothic.js\": 1209,\n\t\"./Script_Extensions/Grantha.js\": 1210,\n\t\"./Script_Extensions/Greek.js\": 1211,\n\t\"./Script_Extensions/Gujarati.js\": 1212,\n\t\"./Script_Extensions/Gunjala_Gondi.js\": 1213,\n\t\"./Script_Extensions/Gurmukhi.js\": 1214,\n\t\"./Script_Extensions/Han.js\": 1215,\n\t\"./Script_Extensions/Hangul.js\": 1216,\n\t\"./Script_Extensions/Hanifi_Rohingya.js\": 1217,\n\t\"./Script_Extensions/Hanunoo.js\": 1218,\n\t\"./Script_Extensions/Hatran.js\": 1219,\n\t\"./Script_Extensions/Hebrew.js\": 1220,\n\t\"./Script_Extensions/Hiragana.js\": 1221,\n\t\"./Script_Extensions/Imperial_Aramaic.js\": 1222,\n\t\"./Script_Extensions/Inherited.js\": 1223,\n\t\"./Script_Extensions/Inscriptional_Pahlavi.js\": 1224,\n\t\"./Script_Extensions/Inscriptional_Parthian.js\": 1225,\n\t\"./Script_Extensions/Javanese.js\": 1226,\n\t\"./Script_Extensions/Kaithi.js\": 1227,\n\t\"./Script_Extensions/Kannada.js\": 1228,\n\t\"./Script_Extensions/Katakana.js\": 1229,\n\t\"./Script_Extensions/Kayah_Li.js\": 1230,\n\t\"./Script_Extensions/Kharoshthi.js\": 1231,\n\t\"./Script_Extensions/Khitan_Small_Script.js\": 1232,\n\t\"./Script_Extensions/Khmer.js\": 1233,\n\t\"./Script_Extensions/Khojki.js\": 1234,\n\t\"./Script_Extensions/Khudawadi.js\": 1235,\n\t\"./Script_Extensions/Lao.js\": 1236,\n\t\"./Script_Extensions/Latin.js\": 1237,\n\t\"./Script_Extensions/Lepcha.js\": 1238,\n\t\"./Script_Extensions/Limbu.js\": 1239,\n\t\"./Script_Extensions/Linear_A.js\": 1240,\n\t\"./Script_Extensions/Linear_B.js\": 1241,\n\t\"./Script_Extensions/Lisu.js\": 1242,\n\t\"./Script_Extensions/Lycian.js\": 1243,\n\t\"./Script_Extensions/Lydian.js\": 1244,\n\t\"./Script_Extensions/Mahajani.js\": 1245,\n\t\"./Script_Extensions/Makasar.js\": 1246,\n\t\"./Script_Extensions/Malayalam.js\": 1247,\n\t\"./Script_Extensions/Mandaic.js\": 1248,\n\t\"./Script_Extensions/Manichaean.js\": 1249,\n\t\"./Script_Extensions/Marchen.js\": 1250,\n\t\"./Script_Extensions/Masaram_Gondi.js\": 1251,\n\t\"./Script_Extensions/Medefaidrin.js\": 1252,\n\t\"./Script_Extensions/Meetei_Mayek.js\": 1253,\n\t\"./Script_Extensions/Mende_Kikakui.js\": 1254,\n\t\"./Script_Extensions/Meroitic_Cursive.js\": 1255,\n\t\"./Script_Extensions/Meroitic_Hieroglyphs.js\": 1256,\n\t\"./Script_Extensions/Miao.js\": 1257,\n\t\"./Script_Extensions/Modi.js\": 1258,\n\t\"./Script_Extensions/Mongolian.js\": 1259,\n\t\"./Script_Extensions/Mro.js\": 1260,\n\t\"./Script_Extensions/Multani.js\": 1261,\n\t\"./Script_Extensions/Myanmar.js\": 1262,\n\t\"./Script_Extensions/Nabataean.js\": 1263,\n\t\"./Script_Extensions/Nandinagari.js\": 1264,\n\t\"./Script_Extensions/New_Tai_Lue.js\": 1265,\n\t\"./Script_Extensions/Newa.js\": 1266,\n\t\"./Script_Extensions/Nko.js\": 1267,\n\t\"./Script_Extensions/Nushu.js\": 1268,\n\t\"./Script_Extensions/Nyiakeng_Puachue_Hmong.js\": 1269,\n\t\"./Script_Extensions/Ogham.js\": 1270,\n\t\"./Script_Extensions/Ol_Chiki.js\": 1271,\n\t\"./Script_Extensions/Old_Hungarian.js\": 1272,\n\t\"./Script_Extensions/Old_Italic.js\": 1273,\n\t\"./Script_Extensions/Old_North_Arabian.js\": 1274,\n\t\"./Script_Extensions/Old_Permic.js\": 1275,\n\t\"./Script_Extensions/Old_Persian.js\": 1276,\n\t\"./Script_Extensions/Old_Sogdian.js\": 1277,\n\t\"./Script_Extensions/Old_South_Arabian.js\": 1278,\n\t\"./Script_Extensions/Old_Turkic.js\": 1279,\n\t\"./Script_Extensions/Oriya.js\": 1280,\n\t\"./Script_Extensions/Osage.js\": 1281,\n\t\"./Script_Extensions/Osmanya.js\": 1282,\n\t\"./Script_Extensions/Pahawh_Hmong.js\": 1283,\n\t\"./Script_Extensions/Palmyrene.js\": 1284,\n\t\"./Script_Extensions/Pau_Cin_Hau.js\": 1285,\n\t\"./Script_Extensions/Phags_Pa.js\": 1286,\n\t\"./Script_Extensions/Phoenician.js\": 1287,\n\t\"./Script_Extensions/Psalter_Pahlavi.js\": 1288,\n\t\"./Script_Extensions/Rejang.js\": 1289,\n\t\"./Script_Extensions/Runic.js\": 1290,\n\t\"./Script_Extensions/Samaritan.js\": 1291,\n\t\"./Script_Extensions/Saurashtra.js\": 1292,\n\t\"./Script_Extensions/Sharada.js\": 1293,\n\t\"./Script_Extensions/Shavian.js\": 1294,\n\t\"./Script_Extensions/Siddham.js\": 1295,\n\t\"./Script_Extensions/SignWriting.js\": 1296,\n\t\"./Script_Extensions/Sinhala.js\": 1297,\n\t\"./Script_Extensions/Sogdian.js\": 1298,\n\t\"./Script_Extensions/Sora_Sompeng.js\": 1299,\n\t\"./Script_Extensions/Soyombo.js\": 1300,\n\t\"./Script_Extensions/Sundanese.js\": 1301,\n\t\"./Script_Extensions/Syloti_Nagri.js\": 1302,\n\t\"./Script_Extensions/Syriac.js\": 1303,\n\t\"./Script_Extensions/Tagalog.js\": 1304,\n\t\"./Script_Extensions/Tagbanwa.js\": 1305,\n\t\"./Script_Extensions/Tai_Le.js\": 1306,\n\t\"./Script_Extensions/Tai_Tham.js\": 1307,\n\t\"./Script_Extensions/Tai_Viet.js\": 1308,\n\t\"./Script_Extensions/Takri.js\": 1309,\n\t\"./Script_Extensions/Tamil.js\": 1310,\n\t\"./Script_Extensions/Tangut.js\": 1311,\n\t\"./Script_Extensions/Telugu.js\": 1312,\n\t\"./Script_Extensions/Thaana.js\": 1313,\n\t\"./Script_Extensions/Thai.js\": 1314,\n\t\"./Script_Extensions/Tibetan.js\": 1315,\n\t\"./Script_Extensions/Tifinagh.js\": 1316,\n\t\"./Script_Extensions/Tirhuta.js\": 1317,\n\t\"./Script_Extensions/Ugaritic.js\": 1318,\n\t\"./Script_Extensions/Vai.js\": 1319,\n\t\"./Script_Extensions/Wancho.js\": 1320,\n\t\"./Script_Extensions/Warang_Citi.js\": 1321,\n\t\"./Script_Extensions/Yezidi.js\": 1322,\n\t\"./Script_Extensions/Yi.js\": 1323,\n\t\"./Script_Extensions/Zanabazar_Square.js\": 1324,\n\t\"./index.js\": 1325,\n\t\"./unicode-version.js\": 1326\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 921;"],"sourceRoot":""}